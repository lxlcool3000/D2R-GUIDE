<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- å…³é”®ä¿®æ­£ï¼šæ·»åŠ å†…å®¹å®‰å…¨ç­–ç•¥(CSP)ï¼Œå…è®¸åº”ç”¨è¿æ¥åˆ°å¤–éƒ¨APIå’ŒCDNèµ„æº -->
<title>æš—é»‘ç ´åç¥2ï¼šé‡åˆ¶ç‰ˆ äº¤äº’å¼èŒä¸šæ”»ç•¥</title>
    <!-- Local styles (no CDN) -->
    <link rel="stylesheet" href="css/tailwind.css">
    <link rel="stylesheet" href="css/styles.css">
    <!-- Local Chart.js (v3.9.1) -->
    <script src="js/vendor/chart.min.js"></script>
    <!-- Optional: local fonts; add files and uncomment in css/fonts.css -->
    <!-- <link rel="stylesheet" href="css/fonts.css"> -->
    <!-- Chosen Palette: Sanctuary Stone -->
    <!-- Application Structure Plan: The application is designed as a single-page dashboard. The core structure features a main navigation bar with the seven classes. The default view presents a comparative analysis chart of all classes across key gameplay aspects (leveling, farming, support), allowing users to make an informed initial choice. Clicking a class icon dynamically updates the main content area to display that class's detailed guide. This guide is further organized into collapsible sections (Builds, Gear, etc.) for clarity. This non-linear, task-oriented structure was chosen because it allows users to quickly access specific information without scrolling through irrelevant content, which is far more efficient than a linear document layout. A searchable rune/runeword appendix, a tips modal, a top-tier gear list, a useful bases guide, and a list of top farming targets are available for quick reference. A new Gemini API feature, an AI Build Advisor, is added to provide personalized recommendations. The final addition is an interactive Breakpoint Calculator. New modals for Mercenaries and Crafting have been added. Filtering functionality for key data lists is the latest enhancement. -->
    <!-- Visualization & Content Choices: 1. Class Comparison -> Goal: Compare -> Viz: Interactive Radar Chart (Chart.js) -> Interaction: Hover to highlight, click legend to toggle -> Justification: Provides an immediate, holistic view of each class's profile and strengths. 2. Equipment Progression -> Goal: Organize -> Viz: Styled HTML cards with icons -> Interaction: Reading -> Justification: Clearly separates gear by game stage with visual cues, making it easy to digest. 3. Build Details -> Goal: Organize/Inform -> Viz: Collapsible accordions (HTML/JS) -> Interaction: Click to expand/collapse -> Justification: Hides complex information by default, preventing visual overload. 4. Runeword/Tips/Gear/Bases/MF Targets/Mercs/Crafting -> Goal: Inform/Filter -> Viz: Searchable/filterable list in a modal -> Interaction: User types in search box and selects from dropdowns to narrow results -> Justification: Transforms static lists into powerful, interactive databases. 5. AI Build Advisor -> Goal: Synthesize & Recommend -> Viz: Text input + Modal Display -> Interaction: User types query, clicks button to get a Gemini-generated response -> Justification: Leverages LLM to create personalized advice based on the app's internal data, offering a dynamic, high-value feature. 6. Breakpoint Calculator -> Goal: Inform/Optimize -> Viz: Dropdown selectors and a dynamic table -> Interaction: User selects class/stat, table updates to show data -> Justification: Provides critical, technical optimization data in an easy-to-use interactive format, elevating the app to a true utility. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #1a1a1a;
            color: #d1c7b1;
        }
        .bg-stone-950 { background-color: #0c0a09; }
        .bg-stone-800 { background-color: #292524; }
        .bg-stone-700 { background-color: #44403c; }
        .border-stone-600 { border-color: #57534e; }
        .text-amber-400 { color: #facc15; }
        .text-amber-500 { color: #f59e0b; }
        .text-stone-300 { color: #d6d3d1; }
        .text-stone-400 { color: #a8a29e; }
        .nav-item {
            transition: all 0.2s ease-in-out;
            filter: grayscale(80%);
            opacity: 0.6;
        }
        .nav-item.active, .nav-item:hover {
            filter: grayscale(0%);
            opacity: 1;
            transform: scale(1.1);
            background-color: #44403c;
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        .modal {
            transition: opacity 0.3s ease;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            height: 450px;
            max-height: 60vh;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 600px;
            }
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #f59e0b;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="antialiased">

    <div id="runeModal" class="modal fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 opacity-0 pointer-events-none">
        <div class="bg-stone-950 w-full max-w-4xl max-h-[90vh] rounded-lg border border-stone-600 shadow-lg flex flex-col">
            <div class="p-4 border-b border-stone-600 flex-shrink-0">
                <div class="flex justify-between items-center mb-4">
                    <div class="flex items-center gap-2">
                    <h3 id="i18n_runewords_title" class="text-xl font-bold text-amber-400">ğŸ’ ç¬¦æ–‡ä¹‹è¯­</h3>
                        <span id="runeFilterCount" class="hidden text-xs px-2 py-0.5 rounded bg-amber-600 text-stone-950">0</span>
                    </div>
                    <button onclick="toggleRuneModal()" class="text-stone-300 hover:text-white text-2xl">&times;</button>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                    <input type="text" id="runeSearch" class="bg-stone-800 border border-stone-600 rounded px-3 py-2 text-stone-300 md:col-span-1" placeholder="æœç´¢åç§°/ç¼–å·...">
                    <select id="runeTypeFilter" class="bg-stone-800 border border-stone-600 rounded px-3 py-2 text-stone-300">
                        <option value="all">æ‰€æœ‰ç±»å‹</option>
                        <option value="weapon">æ­¦å™¨</option>
                        <option value="armor">ç›”ç”²</option>
                        <option value="helm">å¤´ç›”</option>
                        <option value="shield">ç›¾ç‰Œ</option>
                    </select>
                    <select id="runeSocketFilter" class="bg-stone-800 border border-stone-600 rounded px-3 py-2 text-stone-300">
                        <option value="all">æ‰€æœ‰é•¶å­”</option>
                        <option value="2">2å­”</option>
                        <option value="3">3å­”</option>
                        <option value="4">4å­”</option>
                        <option value="5">5å­”</option>
                        <option value="6">6å­”</option>
                    </select>
                    <select id="runeTagFilter" class="bg-stone-800 border border-stone-600 rounded px-3 py-2 text-stone-300">
                        <option value="all">æ‰€æœ‰æ ‡ç­¾</option>
                        <option value="FCR">FCR æ–½æ³•é€Ÿåº¦</option>
                        <option value="IAS">IAS æ”»å‡»é€Ÿåº¦</option>
                        <option value="MF">MF æ‰ç‡</option>
                        <option value="CB">CB å‹ç¢æ€§æ‰“å‡»</option>
                        <option value="DS">DS è‡´å‘½ä¸€å‡»</option>
                        <option value="ResAll">å…¨æŠ—</option>
                        <option value="CBF">ä¸å¯å†°å†»</option>
                        <option value="Teleport">ä¼ é€</option>
                        <option value="Conviction">ä¿¡å¿µå…‰ç¯</option>
                        <option value="-EnemyRes">é™ä½æ•ŒäººæŠ—æ€§</option>
                        <option value="Meditation">å†¥æ€å…‰ç¯</option>
                        <option value="Budget">å¹³æ°‘/è¿‡æ¸¡</option>
                        <option value="Merc">ä½£å…µ</option>
                    </select>
                </div>
                <div id="runeTagChips" class="mt-2 flex flex-wrap gap-2"></div>
                <div id="runeActiveChips" class="mt-2 flex flex-wrap gap-2"></div>
                <div class="mt-2 flex items-center gap-3">
                    <button id="runeTagModeBtn" class="px-2 py-1 rounded text-xs bg-stone-700 text-stone-200 border border-stone-600 hover:bg-stone-600">åŒ¹é…é€»è¾‘: OR</button>
                    <input id="runeTagSearch" class="bg-stone-800 border border-stone-600 rounded px-2 py-1 text-stone-300 text-xs" placeholder="æœç´¢æ ‡ç­¾..." />
                    <button id="runeClearChipsBtn" class="px-2 py-1 rounded text-xs bg-stone-800 text-stone-200 border border-stone-600 hover:bg-stone-700">æ¸…é™¤æ ‡ç­¾</button>
                    <button id="runeResetBtn" class="ml-auto px-2 py-1 rounded text-xs bg-stone-800 text-stone-200 border border-stone-600 hover:bg-stone-700">é‡ç½®å…¨éƒ¨ç­›é€‰</button>
                </div>
            </div>
            <div id="runeListContainer" class="p-4 overflow-y-auto">
            </div>
        </div>
    </div>

    <div id="tipsModal" class="modal fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 opacity-0 pointer-events-none">
        <div class="bg-stone-950 w-full max-w-4xl max-h-[90vh] rounded-lg border border-stone-600 shadow-lg flex flex-col">
            <div class="p-4 border-b border-stone-600 flex justify-between items-center flex-shrink-0">
                <h3 id="i18n_tips_title" class="text-xl font-bold text-amber-400">ğŸ’¡ é€šå…³ç§˜è¯€</h3>
                <button onclick="toggleTipsModal()" class="text-stone-300 hover:text-white text-2xl">&times;</button>
            </div>
            <div id="tipsListContainer" class="p-4 overflow-y-auto space-y-4">
            </div>
        </div>
    </div>

    <div id="gearModal" class="modal fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 opacity-0 pointer-events-none">
        <div class="bg-stone-950 w-full max-w-4xl max-h-[90vh] rounded-lg border border-stone-600 shadow-lg flex flex-col">
            <div class="p-4 border-b border-stone-600 flex-shrink-0">
                <div class="flex justify-between items-center mb-4">
                    <div class="flex items-center gap-2">
                        <h3 id="i18n_gear_title" class="text-xl font-bold text-amber-400">ğŸ† æå“è£…å¤‡</h3>
                        <span id="gearFilterCount" class="hidden text-xs px-2 py-0.5 rounded bg-amber-600 text-stone-950">0</span>
                    </div>
                    <button onclick="toggleGearModal()" class="text-stone-300 hover:text-white text-2xl">&times;</button>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <input type="text" id="gearSearch" class="bg-stone-800 border border-stone-600 rounded px-3 py-2 text-stone-300" placeholder="æœç´¢åç§°...">
                    <select id="gearTypeFilter" class="bg-stone-800 border border-stone-600 rounded px-3 py-2 text-stone-300">
                        <option value="all">æ‰€æœ‰éƒ¨ä½</option>
                        <option value="helm">å¤´ç›”</option>
                        <option value="armor">ç›”ç”²</option>
                        <option value="weapon">æ­¦å™¨</option>
                        <option value="shield">ç›¾ç‰Œ</option>
                        <option value="belt">è…°å¸¦</option>
                        <option value="glove">æ‰‹å¥—</option>
                        <option value="boot">é‹å­</option>
                        <option value="amulet">é¡¹é“¾</option>
                        <option value="ring">æˆ’æŒ‡</option>
                        <option value="set">å¥—è£…</option>
                    </select>
                    <select id="gearTagFilter" class="bg-stone-800 border border-stone-600 rounded px-3 py-2 text-stone-300">
                        <option value="all">æ‰€æœ‰æ ‡ç­¾</option>
                        <option value="FCR">FCR æ–½æ³•é€Ÿåº¦</option>
                        <option value="IAS">IAS æ”»å‡»é€Ÿåº¦</option>
                        <option value="MF">MF æ‰ç‡</option>
                        <option value="CB">CB å‹ç¢æ€§æ‰“å‡»</option>
                        <option value="DS">DS è‡´å‘½ä¸€å‡»</option>
                        <option value="ResAll">å…¨æŠ—</option>
                        <option value="CBF">ä¸å¯å†°å†»</option>
                        <option value="Teleport">ä¼ é€</option>
                        <option value="Conviction">ä¿¡å¿µå…‰ç¯</option>
                        <option value="-EnemyRes">é™ä½æ•ŒäººæŠ—æ€§</option>
                        <option value="FRW">ç§»åŠ¨é€Ÿåº¦</option>
                        <option value="DR">ç‰©ç†å‡ä¼¤</option>
                        <option value="Life">ç”Ÿå‘½</option>
                        <option value="Mana">æ³•åŠ›</option>
                        <option value="Gold">é‡‘å¸è·å–</option>
                        <option value="vsDemons">å¯¹æ¶é­”ä¼¤å®³</option>
                        <option value="OW">å¼€æ”¾ä¼¤å£</option>
                        <option value="ED">å¢å¼ºä¼¤å®³</option>
                        <option value="STR">åŠ›é‡</option>
                        <option value="Dex">æ•æ·</option>
                        <option value="Merc">ä½£å…µ</option>
                        <option value="Budget">å¹³æ°‘/è¿‡æ¸¡</option>
                    </select>
                </div>
                <div id="gearTagChips" class="mt-2 flex flex-wrap gap-2"></div>
                <div id="gearActiveChips" class="mt-2 flex flex-wrap gap-2"></div>
                <div class="mt-2 flex items-center gap-3">
                    <button id="gearTagModeBtn" class="px-2 py-1 rounded text-xs bg-stone-700 text-stone-200 border border-stone-600 hover:bg-stone-600">åŒ¹é…é€»è¾‘: OR</button>
                    <input id="gearTagSearch" class="bg-stone-800 border border-stone-600 rounded px-2 py-1 text-stone-300 text-xs" placeholder="æœç´¢æ ‡ç­¾..." />
                    <button id="gearClearChipsBtn" class="px-2 py-1 rounded text-xs bg-stone-800 text-stone-200 border border-stone-600 hover:bg-stone-700">æ¸…é™¤æ ‡ç­¾</button>
                    <button id="gearResetBtn" class="ml-auto px-2 py-1 rounded text-xs bg-stone-800 text-stone-200 border border-stone-600 hover:bg-stone-700">é‡ç½®å…¨éƒ¨ç­›é€‰</button>
                </div>
            </div>
            <div id="gearListContainer" class="p-4 overflow-y-auto space-y-4">
            </div>
        </div>
    </div>
    
    <div id="baseModal" class="modal fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 opacity-0 pointer-events-none">
        <div class="bg-stone-950 w-full max-w-4xl max-h-[90vh] rounded-lg border border-stone-600 shadow-lg flex flex-col">
            <div class="p-4 border-b border-stone-600 flex-shrink-0">
                <div class="flex justify-between items-center mb-4">
                    <div class="flex items-center gap-2">
                        <h3 id="i18n_bases_title" class="text-xl font-bold text-amber-400">ğŸ›¡ï¸ å®ç”¨åº•æ</h3>
                        <span id="baseFilterCount" class="hidden text-xs px-2 py-0.5 rounded bg-amber-600 text-stone-950">0</span>
                    </div>
                    <button onclick="toggleBaseModal()" class="text-stone-300 hover:text-white text-2xl">&times;</button>
                </div>
                <div class="flex gap-4">
                    <select id="baseTagFilter" class="bg-stone-800 border border-stone-600 rounded px-3 py-2 text-stone-300">
                        <option value="all">æ‰€æœ‰æ ‡ç­¾</option>
                        <option value="Spirit">Spirit</option>
                        <option value="HOTO">HOTO</option>
                        <option value="Grief">Grief</option>
                        <option value="Infinity">Infinity</option>
                        <option value="Insight">Insight</option>
                        <option value="Faith">Faith</option>
                        <option value="Enigma">Enigma</option>
                        <option value="Fortitude">Fortitude</option>
                        <option value="Exile">Exile</option>
                        <option value="Merc">ä½£å…µ</option>
                    </select>
                </div>
                <div id="baseTagChips" class="mt-2 flex flex-wrap gap-2"></div>
                <div id="baseActiveChips" class="mt-2 flex flex-wrap gap-2"></div>
                <div class="mt-2 flex items-center gap-3">
                    <button id="baseTagModeBtn" class="px-2 py-1 rounded text-xs bg-stone-700 text-stone-200 border border-stone-600 hover:bg-stone-600">åŒ¹é…é€»è¾‘: OR</button>
                    <input id="baseTagSearch" class="bg-stone-800 border border-stone-600 rounded px-2 py-1 text-stone-300 text-xs" placeholder="æœç´¢æ ‡ç­¾..." />
                    <button id="baseClearChipsBtn" class="px-2 py-1 rounded text-xs bg-stone-800 text-stone-200 border border-stone-600 hover:bg-stone-700">æ¸…é™¤æ ‡ç­¾</button>
                    <button id="baseResetBtn" class="ml-auto px-2 py-1 rounded text-xs bg-stone-800 text-stone-200 border border-stone-600 hover:bg-stone-700">é‡ç½®å…¨éƒ¨ç­›é€‰</button>
                </div>
            </div>
            <div id="baseListContainer" class="p-4 overflow-y-auto space-y-6">
            </div>
        </div>
    </div>

    <div id="mfBossModal" class="modal fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 opacity-0 pointer-events-none">
        <div class="bg-stone-950 w-full max-w-4xl max-h-[90vh] rounded-lg border border-stone-600 shadow-lg flex flex-col">
            <div class="p-4 border-b border-stone-600 flex justify-between items-center flex-shrink-0">
                <h3 id="i18n_mf_title" class="text-xl font-bold text-amber-400">ğŸ¯ MFåŠ³æ¨¡æ¦œ</h3>
                <button onclick="toggleMfBossModal()" class="text-stone-300 hover:text-white text-2xl">&times;</button>
            </div>
            <div id="mfBossListContainer" class="p-4 overflow-y-auto space-y-4">
            </div>
        </div>
    </div>

    <div id="aiModal" class="modal fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 opacity-0 pointer-events-none">
        <div class="bg-stone-950 w-full max-w-2xl max-h-[90vh] rounded-lg border border-stone-600 shadow-lg flex flex-col">
            <div class="p-4 border-b border-stone-600 flex justify-between items-center flex-shrink-0">
                <h3 id="i18n_ai_title" class="text-xl font-bold text-amber-400">âœ¨ AIå°é¡¾é—®</h3>
                <button onclick="toggleAIModal()" class="text-stone-300 hover:text-white text-2xl">&times;</button>
            </div>
            <div class="p-4 flex-grow flex flex-col gap-4 min-h-0">
                <div>
                    <label for="aiClassSelect" id="i18n_ai_select_label" class="block mb-2 text-sm font-medium text-stone-300">é€‰æ‹©ä½ çš„èŒä¸š:</label>
                    <select id="aiClassSelect" class="bg-stone-800 border border-stone-600 text-stone-300 text-sm rounded-lg focus:ring-amber-500 focus:border-amber-500 block w-full p-2.5">
                    </select>
                </div>
                <div>
                    <label for="aiQueryInput" id="i18n_ai_input_label" class="block mb-2 text-sm font-medium text-stone-300">æè¿°ä½ çš„æƒ…å†µ (ä¾‹å¦‚: åˆšåˆ°å™©æ¢¦éš¾åº¦ï¼Œæœ‰ä»€ä¹ˆå®‰å…¨åˆ·å®çš„ç©æ³•ï¼Ÿ):</label>
                    <textarea id="aiQueryInput" rows="4" class="block p-2.5 w-full text-sm text-stone-300 bg-stone-800 rounded-lg border border-stone-600 focus:ring-amber-500 focus:border-amber-500" placeholder="è¯·åœ¨è¿™é‡Œè¾“å…¥ä½ çš„é—®é¢˜..."></textarea>
                </div>
                <button id="i18n_ai_submit" onclick="getAIAdvice()" class="w-full bg-amber-500 hover:bg-amber-600 text-stone-950 font-bold py-2 px-4 rounded shadow-md transition transform hover:scale-105">
                    è·å–å»ºè®®
                </button>
                <div id="aiResponseContainer" class="mt-4 p-4 bg-stone-800 rounded-lg border border-stone-700 flex-grow overflow-y-auto">
                     <p class="text-stone-400">ä½ å¥½ï¼Œå¥ˆéå¤©ã€‚æˆ‘æ˜¯è¿ªå¡Â·å‡¯æ©ã€‚å‘Šè¯‰æˆ‘ä½ çš„å›°æ‰°ï¼Œæˆ‘ä¼šæ ¹æ®èµ«æ‹‰è¿ªå§†çš„çŸ¥è¯†ä¸ºä½ æŒ‡ç‚¹è¿·æ´¥ã€‚</p>
                </div>
            </div>
        </div>
    </div>
    
    <div id="bpModal" class="modal fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 opacity-0 pointer-events-none">
        <div class="bg-stone-950 w-full max-w-4xl max-h-[90vh] rounded-lg border border-stone-600 shadow-lg flex flex-col">
            <div class="p-4 border-b border-stone-600 flex justify-between items-center flex-shrink-0">
                <h3 id="i18n_bp_title" class="text-xl font-bold text-amber-400">âš¡ æ¡£ä½è¿›é˜¶</h3>
                <button onclick="toggleBpModal()" class="text-stone-300 hover:text-white text-2xl">&times;</button>
            </div>
            <div class="p-4 overflow-y-auto">
                 <p id="i18n_bp_intro" class="text-stone-300 mb-4">å±æ€§æ¡£ä½æ˜¯D2çš„æ ¸å¿ƒæœºåˆ¶ã€‚è§’è‰²çš„åŠ¨ä½œé€Ÿåº¦å¹¶éçº¿æ€§æå‡ï¼Œè€Œæ˜¯è¦åœ¨ç‰¹å®šå±æ€§ï¼ˆå¦‚é«˜é€Ÿæ–½æ³•FCRï¼‰è¾¾åˆ°æŸä¸ªæ•°å€¼æ—¶ï¼Œæ‰ä¼šå‡å°‘ä¸€å¸§çš„åŠ¨ä½œæ—¶é—´ï¼Œå®ç°è´¨å˜ã€‚è¯·é€‰æ‹©èŒä¸šå’Œæ¡£ä½ç±»å‹è¿›è¡ŒæŸ¥è¯¢ã€‚</p>
                 <div class="flex flex-wrap gap-4 mb-4">
                     <div class="flex-grow">
                         <label for="bpClassSelect" id="i18n_bp_select_class" class="block mb-2 text-sm font-medium text-stone-300">é€‰æ‹©èŒä¸š:</label>
                         <select id="bpClassSelect" class="bg-stone-800 border border-stone-600 text-stone-300 text-sm rounded-lg focus:ring-amber-500 focus:border-amber-500 block w-full p-2.5"></select>
                     </div>
                     <div class="flex-grow">
                         <label for="bpTypeSelect" id="i18n_bp_select_type" class="block mb-2 text-sm font-medium text-stone-300">é€‰æ‹©æ¡£ä½ç±»å‹:</label>
                         <select id="bpTypeSelect" class="bg-stone-800 border border-stone-600 text-stone-300 text-sm rounded-lg focus:ring-amber-500 focus:border-amber-500 block w-full p-2.5"></select>
                     </div>
                 </div>
                 <div id="bpResultContainer"></div>
            </div>
        </div>
    </div>

    <div id="mercModal" class="modal fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 opacity-0 pointer-events-none">
        <div class="bg-stone-950 w-full max-w-4xl max-h-[90vh] rounded-lg border border-stone-600 shadow-lg flex flex-col">
            <div class="p-4 border-b border-stone-600 flex justify-between items-center flex-shrink-0">
                <h3 id="i18n_merc_title" class="text-xl font-bold text-amber-400">ğŸ§‘â€ğŸ¤â€ğŸ§‘ ä½£å…µåœ£å…¸</h3>
                <button onclick="toggleMercModal()" class="text-stone-300 hover:text-white text-2xl">&times;</button>
            </div>
            <div id="mercListContainer" class="p-4 overflow-y-auto space-y-6">
            </div>
        </div>
    </div>

    <div id="craftingModal" class="modal fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 opacity-0 pointer-events-none">
        <div class="bg-stone-950 w-full max-w-4xl max-h-[90vh] rounded-lg border border-stone-600 shadow-lg flex flex-col">
            <div class="p-4 border-b border-stone-600 flex justify-between items-center flex-shrink-0">
                <h3 id="i18n_crafting_title" class="text-xl font-bold text-amber-400">ğŸ”¨ åˆæˆç‰©å“</h3>
                <button onclick="toggleCraftingModal()" class="text-stone-300 hover:text-white text-2xl">&times;</button>
            </div>
            <div id="craftingListContainer" class="p-4 overflow-y-auto space-y-4">
            </div>
        </div>
    </div>

    <header class="bg-stone-950 py-4 shadow-lg sticky top-0 z-40">
        <div class="container mx-auto px-4 flex flex-col items-center">
            <h1 class="text-3xl md:text-4xl font-bold text-amber-400 mb-4 text-center">æš—é»‘ç ´åç¥2ï¼šé‡åˆ¶ç‰ˆ äº¤äº’å¼èŒä¸šæ”»ç•¥</h1>
            <nav id="class-nav" class="grid grid-cols-4 md:grid-cols-8 gap-2 md:gap-4">
            </nav>
        </div>
    </header>

    <main class="container mx-auto p-4 md:p-8">
        <div id="main-content">
        </div>
    </main>
    
    <footer class="text-center py-6 text-stone-400 text-sm">
        <div class="flex flex-wrap justify-center gap-4 mb-4">
            <button onclick="toggleRuneModal()" class="bg-stone-700 hover:bg-stone-600 text-amber-400 font-bold py-2 px-4 rounded shadow-md transition transform hover:scale-105">
                <span class="mr-2">ğŸ’</span><span id="i18n_btn_runewords">ç¬¦æ–‡ä¹‹è¯­</span>
            </button>
            <button onclick="toggleTipsModal()" class="bg-stone-700 hover:bg-stone-600 text-amber-400 font-bold py-2 px-4 rounded shadow-md transition transform hover:scale-105">
                <span class="mr-2">ğŸ’¡</span><span id="i18n_btn_tips">é€šå…³ç§˜è¯€</span>
            </button>
            <button onclick="toggleGearModal()" class="bg-stone-700 hover:bg-stone-600 text-amber-400 font-bold py-2 px-4 rounded shadow-md transition transform hover:scale-105">
                <span class="mr-2">ğŸ†</span><span id="i18n_btn_gear">æå“è£…å¤‡</span>
            </button>
            <button onclick="toggleBaseModal()" class="bg-stone-700 hover:bg-stone-600 text-amber-400 font-bold py-2 px-4 rounded shadow-md transition transform hover:scale-105">
                <span class="mr-2">ğŸ›¡ï¸</span><span id="i18n_btn_bases">å®ç”¨åº•æ</span>
            </button>
             <button onclick="toggleMfBossModal()" class="bg-stone-700 hover:bg-stone-600 text-amber-400 font-bold py-2 px-4 rounded shadow-md transition transform hover:scale-105">
                <span class="mr-2">ğŸ¯</span><span id="i18n_btn_mf">MFåŠ³æ¨¡æ¦œ</span>
            </button>
             <button onclick="toggleBpModal()" class="bg-stone-700 hover:bg-stone-600 text-amber-400 font-bold py-2 px-4 rounded shadow-md transition transform hover:scale-105">
                <span class="mr-2">âš¡</span><span id="i18n_btn_bp">æ¡£ä½è¿›é˜¶</span>
            </button>
            <button onclick="toggleMercModal()" class="bg-stone-700 hover:bg-stone-600 text-amber-400 font-bold py-2 px-4 rounded shadow-md transition transform hover:scale-105">
                <span class="mr-2">ğŸ§‘â€ğŸ¤â€ğŸ§‘</span><span id="i18n_btn_merc">ä½£å…µåœ£å…¸</span>
            </button>
            <button onclick="toggleCraftingModal()" class="bg-stone-700 hover:bg-stone-600 text-amber-400 font-bold py-2 px-4 rounded shadow-md transition transform hover:scale-105">
                <span class="mr-2">ğŸ”¨</span><span id="i18n_btn_crafting">åˆæˆç‰©å“</span>
            </button>
             <button onclick="toggleAIModal()" class="bg-amber-600 hover:bg-amber-700 text-white font-bold py-2 px-4 rounded shadow-md transition transform hover:scale-105">
                <span class="mr-2">âœ¨</span><span id="i18n_btn_ai">AIå°é¡¾é—®</span>
            </button>
        </div>
        <p>åŸºäºç¤¾åŒºæ”»ç•¥æ–‡æ¡£æ„å»ºçš„äº¤äº’å¼æŸ¥è¯¢åº”ç”¨ã€‚ç¥æ‚¨å¥½è¿ï¼Œå¥ˆéå¤©ï¼</p>
    </footer>

    <script type="module">
        import { db } from './js/db.js';
        import { classData } from './js/classData.js';
        /* data moved to modules */
        /*
        const classData = {
                { id: 'home', name: 'èŒä¸šæ€»è§ˆ', icon: 'ğŸ“œ' },
                { id: 'necromancer', name: 'æ­»çµæ³•å¸ˆ', icon: 'ğŸ’€' },
                { id: 'paladin', name: 'åœ£éª‘å£«', icon: 'ğŸ›¡ï¸' },
                { id: 'sorceress', name: 'å·«å¸ˆ', icon: 'ğŸ”¥' },
                { id: 'amazon', name: 'äºšé©¬é€Š', icon: 'ğŸ¹' },
                { id: 'assassin', name: 'çŒæ³•è€…', icon: 'ğŸ¥·' },
                { id: 'barbarian', name: 'é‡è›®äºº', icon: 'âš”ï¸' },
                { id: 'druid', name: 'å¾·é²ä¼Š', icon: 'ğŸ¾' }
            ],
            runes: [
                { id: 1, zh: 'è‰¾å°”', tw: 'æ„›çˆ¾', en: 'El' }, { id: 2, zh: 'è‰¾å¾·', tw: 'è‰¾å¾·', en: 'Eld' }, { id: 3, zh: 'ç‰¹å°”', tw: 'ç‰¹çˆ¾', en: 'Tir' }, { id: 4, zh: 'é‚£å¤«', tw: 'é‚£å¤«', en: 'Nef' }, { id: 5, zh: 'çˆ±æ–¯', tw: 'æ„›æ–¯', en: 'Eth' }, { id: 6, zh: 'ä¼Šå¸', tw: 'ä¼Šå¸', en: 'Ith' }, { id: 7, zh: 'å¡”å°”', tw: 'å¡”çˆ¾', en: 'Tal' }, { id: 8, zh: 'æ‹‰å°”', tw: 'æ‹‰çˆ¾', en: 'Ral' }, { id: 9, zh: 'æ¬§ç‰¹', tw: 'æ­ç‰¹', en: 'Ort' }, { id: 10, zh: 'ä¹¦å°”', tw: 'æ›¸çˆ¾', en: 'Thul' }, { id: 11, zh: 'å®‰å§†', tw: 'å®‰å§†', en: 'Amn' }, { id: 12, zh: 'ç´¢å°”', tw: 'ç´¢çˆ¾', en: 'Sol' }, { id: 13, zh: 'å¤', tw: 'å¤', en: 'Shael' }, { id: 14, zh: 'å¤šå°”', tw: 'å¤šçˆ¾', en: 'Dol' }, { id: 15, zh: 'æµ·å°”', tw: 'æµ·çˆ¾', en: 'Hel' }, { id: 16, zh: 'åŸƒæ¬§', tw: 'åŸƒæ­', en: 'Io' }, { id: 17, zh: 'å¢å§†', tw: 'ç›§å§†', en: 'Lum' }, { id: 18, zh: 'ç§‘', tw: 'ç§‘', en: 'Ko' }, { id: 19, zh: 'æ³•å°”', tw: 'æ³•çˆ¾', en: 'Fal' }, { id: 20, zh: 'è“å§†', tw: 'è—å§†', en: 'Lem' }, { id: 21, zh: 'æ™®å°”', tw: 'æ™®çˆ¾', en: 'Pul' }, { id: 22, zh: 'ä¹Œå§†', tw: 'çƒå§†', en: 'Um' }, { id: 23, zh: 'é©¬å°”', tw: 'é¦¬çˆ¾', en: 'Mal' }, { id: 24, zh: 'ä¼Šæ–¯ç‰¹', tw: 'ä¼Šæ–¯ç‰¹', en: 'Ist' }, { id: 25, zh: 'å¤å°”', tw: 'å¤çˆ¾', en: 'Gul' }, { id: 26, zh: 'ä¼å…‹æ–¯', tw: 'ä¼å…‹æ–¯', en: 'Vex' }, { id: 27, zh: 'æ¬§å§†', tw: 'æ­å§†', en: 'Ohm' }, { id: 28, zh: 'ç½—', tw: 'ç¾…', en: 'Lo' }, { id: 29, zh: 'ç‘Ÿ', tw: 'ç‘Ÿ', en: 'Sur' }, { id: 30, zh: 'è´', tw: 'è²', en: 'Ber' }, { id: 31, zh: 'ä¹”', tw: 'å–¬', en: 'Jah' }, { id: 32, zh: 'æŸ¥å§†', tw: 'æŸ¥å§†', en: 'Cham' }, { id: 33, zh: 'è¨å¾·', tw: 'è–©å¾·', en: 'Zod' },
            ],
            runewords: [
                { name: 'é‡å…½ (Beast)', base: '5å­” æ–§/æƒæ–/é”¤', formula: '30+3+22+23+17', level: 63, type: ['weapon'], sockets: 5 }, { name: 'æ¯ç­ (Breath of the Dying)', base: '6å­” ä»»æ„æ­¦å™¨', formula: '26+15+1+2+33+5', level: 69, type: ['weapon'], sockets: 6 }, { name: 'è£è€€ä¹‹é“¾ (Chains of Honor)', base: '4å­” èƒ¸ç”²', formula: '14+22+30+24', level: 63, type: ['armor'], sockets: 4 }, { name: 'æ··æ²Œ (Chaos)', base: '3å­” çˆªç±»', formula: '19+27+22', level: 57, type: ['weapon'], sockets: 3 }, { name: 'æ–°æœˆ (Crescent Moon)', base: '3å­” æ–§/å‰‘/é•¿æŸ„æ­¦å™¨', formula: '13+22+3', level: 47, type: ['weapon'], sockets: 3 }, { name: 'è°œå›¢ (Enigma)', base: '3å­” èƒ¸ç”²', formula: '31+6+30', level: 65, type: ['armor'], sockets: 3 }, { name: 'æµäº¡ (Exile)', base: '4å­” åœ£éª‘å£«ç›¾ç‰Œ', formula: '26+27+24+14', level: 57, type: ['shield'], sockets: 4 }, { name: 'ä¿¡å¿ƒ (Faith)', base: '4å­” å¼“/å¼©', formula: '27+31+20+2', level: 65, type: ['weapon'], sockets: 4 }, { name: 'åˆšæ¯… (Fortitude)', base: '4å­” æ­¦å™¨/èƒ¸ç”²', formula: '1+12+14+28', level: 59, type: ['weapon', 'armor'], sockets: 4 }, { name: 'æ‚”æ¨ (Grief)', base: '5å­” å‰‘/æ–§', formula: '5+3+28+23+8', level: 59, type: ['weapon'], sockets: 5 }, { name: 'æ©¡æ ‘ä¹‹å¿ƒ (Heart of the Oak)', base: '4å­” æ³•æ–/è¿æ·', formula: '18+26+21+10', level: 55, type: ['weapon'], sockets: 4 }, { name: 'è£è€€ (Honor)', base: '5å­” è¿‘æˆ˜æ­¦å™¨', formula: '11+1+6+3+12', level: 27, type: ['weapon'], sockets: 5 }, { name: 'æ— é™ (Infinity)', base: '4å­” é•¿æŸ„æ­¦å™¨/é•¿çŸ›', formula: '30+23+30+29', level: 63, type: ['weapon'], sockets: 4 }, { name: 'çœ¼å…‰ (Insight)', base: '4å­” é•¿æŸ„æ­¦å™¨/æ³•æ–/å¼“/å¼©', formula: '8+3+7+12', level: 27, type: ['weapon'], sockets: 4 }, { name: 'æœ€åçš„æ„¿æœ› (Last Wish)', base: '6å­” å‰‘/é”¤/æ–§', formula: '31+23+31+29+31+30', level: 65, type: ['weapon'], sockets: 6 }, { name: 'å¶å­ (Leaf)', base: '2å­” æ³•æ–', formula: '3+8', level: 19, type: ['weapon'], sockets: 2 }, { name: 'ç‹®å¿ƒ (Lionheart)', base: '3å­” èƒ¸ç”²', formula: '15+17+19', level: 41, type: ['armor'], sockets: 3 }, { name: 'çŸ¥è¯† (Lore)', base: '2å­” å¤´ç›”', formula: '9+12', level: 27, type: ['helm'], sockets: 2 }, { name: 'é©¬èµ›å…‹ (Mosaic)', base: '3å­” çˆªç±»', formula: '23+25+11', level: 53, type: ['weapon'], sockets: 3 }, { name: 'èª“çº¦ (Oath)', base: '4å­” å‰‘/æ–§/é’‰å¤´é”¤', formula: '13+21+23+17', level: 49, type: ['weapon'], sockets: 4 }, { name: 'å’Œå¹³ (Peace)', base: '2å­” èƒ¸ç”²', formula: '13+10+11', level: 29, type: ['armor'], sockets: 2 }, { name: 'å‡¤å‡° (Phoenix)', base: '4å­” æ­¦å™¨/ç›¾ç‰Œ', formula: '26+26+28+31', level: 65, type: ['weapon', 'shield'], sockets: 4 }, { name: 'çƒŸé›¾ (Smoke)', base: '2å­” èƒ¸ç”²', formula: '4+17', level: 37, type: ['armor'], sockets: 2 }, { name: 'ç²¾ç¥ (Spirit)', base: '4å­” å‰‘/ç›¾ç‰Œ', formula: '7+10+9+11', level: 25, type: ['weapon', 'shield'], sockets: 4 }, { name: 'é’¢é“ (Steel)', base: '2å­” å‰‘/æ–§/é’‰å¤´é”¤', formula: '3+1', level: 13, type: ['weapon'], sockets: 2 }, { name: 'éšç§˜ (Stealth)', base: '2å­” èƒ¸ç”²', formula: '7+5', level: 17, type: ['armor'], sockets: 2 }, { name: 'èƒŒä¿¡ (Treachery)', base: '3å­” èƒ¸ç”²', formula: '13+10+20', level: 43, type: ['armor'], sockets: 3 }, { name: 'å’Œé£ (Zephyr)', base: '2å­” è¿œç¨‹æ­¦å™¨', formula: '9+5', level: 21, type: ['weapon'], sockets: 2 },
            ],
            tips: [
                { title: 'ğŸ„ å¦‚ä½•å¼€å¯ç§˜å¯†å¥¶ç‰›å…³ï¼Ÿ', content: 'é€šå…³å¯¹åº”éš¾åº¦ï¼ˆæ™®é€š/å™©æ¢¦/åœ°ç‹±ï¼‰åï¼Œåœ¨èµ«æ‹‰è¿ªå§†æ–¹å—ä¸­æ”¾å…¥â€œç»´ç‰¹ä¹‹è…¿â€ï¼ˆåœ¨å´”æ–¯ç‰¹ç‘å§†æ‹¯æ•‘å‡¯æ©çš„åœ°æ–¹è·å–ï¼‰å’Œä¸€ä¸ªâ€œè¾¨è¯†å·è½´â€ï¼Œç‚¹å‡»åˆæˆï¼Œå³å¯åœ¨ç½—æ ¼è¥åœ°å¼€å¯é€šå¾€ç§˜å¯†å¥¶ç‰›å…³çš„çº¢é—¨ã€‚' },
                { title: 'ğŸƒâ€â™‚ï¸ é‡ç½®åœ°å›¾ä¸Boss', content: 'æƒ³è¦é‡å¤åˆ·ä¸€ä¸ªBossæˆ–ä¸€ä¸ªåŒºåŸŸï¼Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦â€œå‚¨å­˜å¹¶é€€å‡ºæ¸¸æˆâ€ï¼Œç„¶åé‡æ–°è¿›å…¥æ¸¸æˆå³å¯ã€‚æ‰€æœ‰çš„æ€ªç‰©å’Œåœ°å›¾éƒ½ä¼šè¢«é‡ç½®ã€‚' },
                { title: 'ğŸ“¦ èµ«æ‹‰è¿ªå§†æ–¹å—å®ç”¨å…¬å¼ (éç¬¦æ–‡ä¹‹è¯­)', content: '<ul class="list-disc list-inside space-y-2"><li><strong>3 ä¸ªæ²»ç–—è¯å‰‚ + 3 ä¸ªæ³•åŠ›è¯å‰‚ + 1 ä¸ªç¢è£‚çš„å®çŸ³</strong> = 1 ä¸ªå›å¤æ´»åŠ›è¯å‰‚</li><li><strong>1 ä¸ªå›å¤æ´»åŠ›è¯å‰‚ + 3 ä¸ªå®Œç¾çš„å®çŸ³</strong> = 1 ä¸ªå…¨é¢çš„å›å¤æ´»åŠ›è¯å‰‚ (å¤§ç´«)</li><li><strong>3 ä¸ªå®Œç¾çš„å®çŸ³ + 1 ä»¶é­”æ³•ç‰©å“</strong> = é‡ç½®è¯¥é­”æ³•ç‰©å“çš„å±æ€§ (ç›¸å½“äºèµŒåš)</li><li><strong>1 ä¸ªâ€œæµ·å°”â€ç¬¦æ–‡(15#) + 1 ä¸ªå›åŸå·è½´ + ä»»ä½•å¸¦å­”ç‰©å“</strong> = æ¸…é™¤é•¶åµŒç‰© (é•¶åµŒç‰©ä¼šæ¶ˆå¤±)</li><li><strong>1 ä¸ªæ— æš‡çš„å®çŸ³ + 1 ä¸ªé­”æ³•æ­¦å™¨/ç›”ç”²</strong> = å‡çº§ä¸ºæ›´é«˜å“è´¨çš„é­”æ³•ç‰©å“</li><li><strong>â€œå¡”å°”â€(7#) + â€œä¹¦å°”â€(10#) + â€œå®Œç¾çš„é»„ç‰â€ + æ™®é€šç›”ç”²</strong> = åŒç±»å‹çš„å¸¦å­”ç›”ç”²</li><li><strong>â€œæ‹‰å°”â€(8#) + â€œå®‰å§†â€(11#) + â€œå®Œç¾çš„ç´«æ°´æ™¶â€ + æ™®é€šæ­¦å™¨</strong> = åŒç±»å‹çš„å¸¦å­”æ­¦å™¨</li></ul>' },
                { title: ' mercenary è£…å¤‡å°æŠ€å·§', content: 'ç»™ä½ çš„ä½£å…µç©¿ä¸Šå¸¦æœ‰â€œæ— æ³•ç ´åâ€å±æ€§çš„æ— å½¢è£…å¤‡ï¼ˆæ¯”å¦‚æ— å½¢çš„â€œåˆšæ¯…â€æŠ¤ç”²ï¼‰ï¼Œå¯ä»¥è®©ä»–è·å¾—æ— å½¢è£…å¤‡å¸¦æ¥çš„50%åŸºç¡€å±æ€§åŠ æˆï¼Œå¹¶ä¸”è£…å¤‡ä¸ä¼šæŸåï¼Œæå¤§æå‡å…¶ç”Ÿå­˜å’Œè¾“å‡ºèƒ½åŠ›ã€‚' },
                { title: 'ğŸ”„ å¿«é€Ÿåˆ‡æ¢æ­¦å™¨', content: 'é»˜è®¤æŒ‰ä¸‹ â€œWâ€ é”®å¯ä»¥åœ¨ä¸»å‰¯ä¸¤å¥—æ­¦å™¨ä¹‹é—´å¿«é€Ÿåˆ‡æ¢ã€‚è¿™å¯¹äºéœ€è¦ä¸åŒå…‰ç¯ï¼ˆå¦‚å‰¯æ‰‹â€œé‡å…½â€ï¼‰æˆ–ä¸åŒæŠ€èƒ½ç»„åˆçš„èŒä¸šè‡³å…³é‡è¦ã€‚' },
                { title: 'ğŸ’€ å¦‚ä½•å®‰å…¨åœ°æ¡å›å°¸ä½“ï¼Ÿ', content: 'å¦‚æœä½ åœ¨å±é™©çš„åœ°æ–¹æ­»äº¡ï¼Œéš¾ä»¥æ¡å›å°¸ä½“ï¼Œå¯ä»¥å…ˆâ€œå‚¨å­˜å¹¶é€€å‡ºæ¸¸æˆâ€ã€‚é‡æ–°è¿›å…¥æ¸¸æˆåï¼Œä½ çš„å°¸ä½“ï¼ˆä»¥åŠä¸Šé¢çš„æ‰€æœ‰è£…å¤‡ï¼‰ä¼šå‡ºç°åœ¨åŸé•‡çš„å®‰å…¨åŒºåŸŸã€‚' },
                { title: 'ğŸ’° å–ä»€ä¹ˆç‰©å“æœ€å€¼é’±ï¼Ÿ', content: 'åœ¨æ¸¸æˆæ—©æœŸï¼Œå¸¦æœ‰â€œ+æŠ€èƒ½â€è¯ç¼€çš„æ³•æ–ã€æ­»çµæ³•å¸ˆçš„â€œå¨ƒå¨ƒå¤´â€ï¼ˆç›¾ç‰Œï¼‰ã€åœ£éª‘å£«çš„æƒæ–ç­‰èŒä¸šç‰¹å®šç‰©å“é€šå¸¸èƒ½å–å‡ºå¥½ä»·é’±ã€‚å¦å¤–ï¼Œæˆ’æŒ‡ã€æŠ¤èº«ç¬¦ç­‰å°ä»¶ç‰©å“çš„å”®ä»·ä¸å ç”¨ç©ºé—´æ¯”å¾ˆé«˜ã€‚' },
            ],
            topGear: [
                { name: 'è°œå›¢ (Enigma)', type: 'ç¬¦æ–‡ä¹‹è¯­èƒ¸ç”²', category: ['armor'], key_stats: ['+1 ä¼ é€ (Teleport)', '+2 æ‰€æœ‰æŠ€èƒ½', '+é«˜åŠ›é‡ (æŒ‰ç­‰çº§æå‡)', 'ğŸ€é«˜MF (æŒ‰ç­‰çº§æå‡)'], best_for: 'æ‰€æœ‰èŒä¸šçš„ç»ˆææ¯•ä¸šé€‰æ‹©ï¼Œèµ‹äºˆæ— ä¸ä¼¦æ¯”çš„æœºåŠ¨æ€§ï¼Œå½»åº•æ”¹å˜æ¸¸æˆç©æ³•ã€‚' },
                { name: 'æ‚”æ¨ (Grief)', type: 'ç¬¦æ–‡ä¹‹è¯­æ­¦å™¨', category: ['weapon'], key_stats: ['+320-400 ä¼¤å®³ (Damage)', 'âš”ï¸20-40% IAS', '-25% ç›®æ ‡é˜²å¾¡', '20% è‡´å‘½ä¸€å‡»'], best_for: 'ç‰©ç†è¿‘æˆ˜èŒä¸šçš„æ¯•ä¸šæ­¦å™¨ï¼Œå°¤å…¶æ˜¯ç›¾å‡»åœ£éª‘å£«å’Œæ—‹é£é‡è›®äººã€‚ä¼¤å®³è®¡ç®—æ–¹å¼ç‹¬ç‰¹ï¼Œé¢æ¿ä¸æ˜¾ç¤ºä½†å®é™…ä¼¤å®³æé«˜ã€‚' },
                { name: 'æ— é™ (Infinity)', type: 'ç¬¦æ–‡ä¹‹è¯­é•¿æŸ„æ­¦å™¨', category: ['weapon'], key_stats: ['èµ‹äºˆ12çº§ä¿¡å¿µå…‰ç¯ (Conviction Aura)', '40% å‹ç¢æ€§æ‰“å‡» (CB)', '+é«˜é¢å¢å¼ºä¼¤å®³ (ED)'], best_for: 'ä½£å…µä¸“ç”¨æ¯•ä¸šæ­¦å™¨ã€‚ä¿¡å¿µå…‰ç¯èƒ½ç ´é™¤å¤§éƒ¨åˆ†æ€ªç‰©çš„å…ƒç´ å…ç–«ï¼Œæ˜¯æ‰€æœ‰å…ƒç´ ç³»ç©æ³•ï¼ˆå¦‚ç”µæ³•ã€æ ‡æªäºšé©¬é€Šï¼‰çš„è´¨å˜è£…å¤‡ã€‚' },
                { name: 'ç²¾ç¥ (Spirit)', type: 'ç¬¦æ–‡ä¹‹è¯­å‰‘/ç›¾', category: ['weapon', 'shield'], key_stats: ['+2 æ‰€æœ‰æŠ€èƒ½', 'âš¡25-35% FCR', '+å¤§é‡æ³•åŠ›', '+ç”Ÿå‘½'], best_for: 'æ€§ä»·æ¯”æœ€é«˜çš„æ–½æ³•è€…è£…å¤‡ï¼Œæ— è®ºæ˜¯å‰‘è¿˜æ˜¯ç›¾ï¼Œéƒ½æ˜¯æ‰€æœ‰æ³•ç³»èŒä¸šä»å¼€è’åˆ°æ¯•ä¸šçš„æ ¸å¿ƒé€‰æ‹©ã€‚' },
                { name: 'æ©¡æ ‘ä¹‹å¿ƒ (Heart of the Oak)', type: 'ç¬¦æ–‡ä¹‹è¯­æ­¦å™¨', category: ['weapon'], key_stats: ['+3 æ‰€æœ‰æŠ€èƒ½', 'âš¡40% FCR', '+30-40 æ‰€æœ‰æŠ—æ€§', '+10 æ•æ·'], best_for: 'æ³•ç³»èŒä¸šçš„é€šç”¨æ¯•ä¸šæ­¦å™¨ï¼Œæä¾›æµ·é‡çš„æŠ€èƒ½ã€æ–½æ³•é€Ÿåº¦å’ŒæŠ—æ€§ã€‚' },
                { name: 'è°è§’ä¹‹å†  (Shako)', type: 'å¤´ç›”', category: ['helm'], key_stats: ['+2 æ‰€æœ‰æŠ€èƒ½', '+å¤§é‡ç”Ÿå‘½/æ³•åŠ› (æŒ‰ç­‰çº§æå‡)', '10% ç‰©ç†ä¼¤å®³å‡å…', 'ğŸ€50% MF'], best_for: 'å‡ ä¹æ‰€æœ‰éè¿‘æˆ˜ç‰©ç†èŒä¸šçš„æ¯•ä¸šé€‰æ‹©ï¼Œé€šç”¨æ€§ä¹‹ç‹ã€‚ä¿—ç§°â€œå†›å¸½â€ã€‚' },
                { name: 'æ ¼é‡ŒèŠ¬ä¹‹çœ¼ (Griffon\'s Eye)', type: 'å¤´é¥°', category: ['helm'], key_stats: ['+1 æ‰€æœ‰æŠ€èƒ½', '+10-15% é—ªç”µæŠ€èƒ½ä¼¤å®³', '-15-20% æ•Œäººé—ªç”µæŠ—æ€§', 'âš¡+25% FCR'], best_for: 'æ‰€æœ‰é—ªç”µç³»ç©æ³•çš„ç»ˆææ¯•ä¸šå¤´ç›”ï¼Œå¦‚é—ªç”µå·«å¸ˆã€æ ‡æªäºšé©¬é€Šã€‚' },
                { name: 'é©¬æ‹‰çš„ä¸‡èŠ±ç­’ (Mara\'s Kaleidoscope)', type: 'é¡¹é“¾', category: ['amulet'], key_stats: ['+2 æ‰€æœ‰æŠ€èƒ½', '+20-30 æ‰€æœ‰æŠ—æ€§', '+5 æ‰€æœ‰å±æ€§'], best_for: 'é€šç”¨æ€§æœ€å¼ºçš„é¡¹é“¾ä¹‹ä¸€ï¼ŒåŒæ—¶æä¾›æŠ€èƒ½ã€æŠ—æ€§å’Œå±æ€§ï¼Œé€‚åˆæ‰€æœ‰èŒä¸šã€‚' },
                { name: 'ä¹”ä¸¹ä¹‹çŸ³ (Stone of Jordan)', type: 'æˆ’æŒ‡', category: ['ring'], key_stats: ['+1 æ‰€æœ‰æŠ€èƒ½', 'å¢åŠ æ³•åŠ›ä¸Šé™ 25%', '+20 æ³•åŠ›'], best_for: 'æ³•ç³»èŒä¸šçš„ç»ˆææˆ’æŒ‡ï¼Œæä¾›å®è´µçš„+1æŠ€èƒ½å’Œæµ·é‡æ³•åŠ›ã€‚ä¿—ç§°â€œSOJâ€ã€‚' },
                { name: 'èœ˜è››ä¹‹ç½‘ (Arachnid Mesh)', type: 'è…°å¸¦', category: ['belt'], key_stats: ['+1 æ‰€æœ‰æŠ€èƒ½', 'âš¡20% FCR', 'å‡é€Ÿç›®æ ‡ 10%'], best_for: 'æ³•ç³»ç»Ÿä¸€çš„æ¯•ä¸šè…°å¸¦ï¼Œæ˜¯å”¯ä¸€æä¾›+1æŠ€èƒ½å’ŒFCRçš„è…°å¸¦ã€‚' },
                { name: 'æˆ˜äº‰æ—…è€… (War Traveler)', type: 'é‹å­', category: ['boot'], key_stats: ['å¢åŠ  15-25 ä¼¤å®³', 'ğŸ€30-50% MF', '+10 åŠ›é‡/ä½“åŠ›'], best_for: 'ç‰©ç†ç³»å’ŒMFç©æ³•æ³›ç”¨æ€§æœ€å¹¿çš„é‹å­ï¼Œæä¾›ç›´æ¥ä¼¤å®³å’Œé«˜MFå€¼ã€‚' },
                { name: 'æ³°å¦çš„å¤ä»‡ (Titan\'s Revenge)', type: 'æ ‡æª', category: ['weapon'], key_stats: ['+2 äºšé©¬é€ŠæŠ€èƒ½', '+2 æ ‡æªä¸é•¿çŸ›æŠ€èƒ½', 'è‡ªåŠ¨å›å¤æ•°é‡', 'ğŸƒ+30% FRW'], best_for: 'æ ‡æªäºšé©¬é€Šçš„ä¸“å±æ¯•ä¸šæ­¦å™¨ï¼Œæ— å½¢çš„ç‰ˆæœ¬æ›´æ˜¯ä»·å€¼è¿åŸã€‚' },
                { name: 'æ­»äº¡æ·±åº¦ (Death\'s Fathom)', type: 'æ³•ç ', category: ['weapon'], key_stats: ['+3 å·«å¸ˆæŠ€èƒ½', '+15-30% å†°å†·æŠ€èƒ½ä¼¤å®³', '+é—ªç”µ/ç«ç„°æŠ—æ€§'], best_for: 'çº¯å†°å·«å¸ˆçš„ç»ˆææ¯•ä¸šæ­¦å™¨ï¼Œèƒ½æœ€å¤§åŒ–æš´é£é›ªç­‰æŠ€èƒ½çš„ä¼¤å®³ã€‚' },
                { name: 'å®‰è¾¾åˆ©å°”çš„é¢å®¹ (Andariel\'s Visage)', type: 'å¤´ç›”', category: ['helm'], key_stats: ['+2 æ‰€æœ‰æŠ€èƒ½', 'âš”ï¸20% IAS', '8-10% å·å–ç”Ÿå‘½', '+åŠ›é‡'], best_for: 'ä½£å…µï¼ˆå°¤å…¶æ˜¯ç¬¬äºŒå¹•æªå…µï¼‰çš„æ¯•ä¸šå¤´ç›”ï¼Œæä¾›æŠ€èƒ½ã€æ”»é€Ÿå’Œå¸è¡€ï¼Œå±æ€§å®Œç¾ã€‚' },
                { name: 'å¡”æ ¼å¥¥çš„åŒ–èº« (Trang-Oul\'s Avatar)', type: 'å¥—è£…', category: ['set'], key_stats: ['é›†é½åå˜èº«å¸è¡€é¬¼', 'æä¾›å¤§é‡æŠ—æ€§ã€æŠ€èƒ½ã€âš¡FCR', 'æ‰‹å¥—+è…°å¸¦+ç›¾ç‰Œä¸‰ä»¶å¥—æä¾›-25%æ•Œäººæ¯’ç´ æŠ—æ€§'], best_for: 'æ¯’ç³»æ­»çµæ³•å¸ˆçš„å¸¸è§é€‰æ‹©ï¼Œå°¤å…¶æ˜¯ä¸‰ä»¶å¥—çš„å‡æ¯’æŠ—æ•ˆæœéå¸¸å…³é”®ã€‚' },
            ],
            usefulBases: [
                { 
                    category: "æ–½æ³•è€…æ­¦å™¨ (Caster Weapons)",
                    intro: "è¾¨è¯†å•/åŒæ‰‹æ­¦å™¨æ˜¯æ–°æ‰‹çš„å¸¸è§å›°æ‰°ã€‚æœ€ç®€å•çš„æ–¹æ³•æ˜¯çœ‹ç‰©å“æ å æ ¼ï¼šå ç”¨1x2æ ¼çš„æ˜¯å•æ‰‹æ­¦å™¨ï¼ˆå¦‚æ‰‹æ–Wandsï¼‰ï¼Œå¯ä»¥é…ç›¾ï¼›å ç”¨1x3æˆ–1x4æ ¼çš„æ˜¯åŒæ‰‹æ­¦å™¨ï¼ˆå¦‚æ³•æ–Stavesï¼‰ï¼Œæ— æ³•é…ç›¾ã€‚",
                    items: [
                        { name: 'æ‰‹æ– (Wand)', icon: 'ğŸª„', why: 'æ‰€æœ‰æ‰‹æ–å‡ä¸ºå•æ‰‹ã€‚æ˜¯åˆ¶ä½œç¬¦æ–‡ä¹‹è¯­â€œç™½è‰²â€(White)æˆ–ä½œä¸ºæ­»çµæ³•å¸ˆè¿‡æ¸¡æ­¦å™¨çš„åº•æã€‚', tip: 'åœ¨å•†åº—å¯»æ‰¾å¸¦æœ‰â€œ+3 éª¨çŸ›â€ç­‰æ ¸å¿ƒæŠ€èƒ½çš„ç°è‰²2å­”æ‰‹æ–æ˜¯æ¯•ä¸šé€‰æ‹©ä¹‹ä¸€ã€‚' },
                        { name: 'æ³•æ– (Staff)', icon: 'âš•ï¸', why: 'æ¸¸æˆä¸­æœ€å¸¸è§çš„â€œæ³•æ–â€å¤šä¸ºåŒæ‰‹ã€‚æ˜¯å‰æœŸå·«å¸ˆåˆ¶ä½œâ€œå¶å­â€(Leaf)çš„åº•æã€‚', tip: 'è¾¨è¯†æŠ€å·§ï¼šç‰©å“æ å  1x3 æˆ– 1x4 æ ¼ä¸ºåŒæ‰‹ã€‚' }
                    ]
                },
                { 
                    category: "é€šç”¨æ­¦å™¨åº•æ (Weapon Bases)",
                    items: [
                        { name: 'æ°´æ™¶å‰‘/é˜”å‰‘', sockets: '4å­”', why: 'æ³•ç³»é€šç”¨çš„â€œç²¾ç¥â€å‰‘åº•æã€‚æ™®é€šç‰›åœºæ‰è½çš„æ°´æ™¶å‰‘ï¼Œç”¨ç¬¬äº”å¹•æ‹‰è‹å…‹ä»»åŠ¡æ‰“å­”å¿…å‡º4å­”ã€‚', icon: 'ğŸ—¡ï¸' },
                        { name: 'è¿æ·', sockets: '4å­”', why: 'â€œæ©¡æ ‘ä¹‹å¿ƒâ€(HOTO)çš„æ ‡å‡†åº•æï¼ŒåŠ›é‡éœ€æ±‚ä½ï¼Œæ”»é€Ÿå¿«ã€‚', icon: 'ğŸ”¨' },
                        { name: 'å¹»åŒ–ä¹‹åˆƒ', sockets: '5å­”', why: 'ç‰©ç†ç³»æ¯•ä¸šæ­¦å™¨â€œæ‚”æ¨â€çš„æœ€ä½³åº•æä¹‹ä¸€ï¼Œå¤©ç”Ÿæ— æ³•ç ´åä¸”æ”»é€Ÿæå¿«ã€‚', icon: 'âš”ï¸' },
                        { name: 'å·¨é•¿æ–§/ç¥ç§˜ä¹‹æ–§/é”åˆ©ä¹‹æ–§ (ä»…æ— å½¢)', sockets: '4å­”', why: 'ä½£å…µæ¯•ä¸šæ­¦å™¨â€œæ— é™â€å’Œâ€œçœ¼å…‰â€çš„é¡¶çº§åº•æï¼Œæ— å½¢çš„é«˜åŸºç¡€ä¼¤å®³èƒ½æå¤§æå‡ä½£å…µè¾“å‡ºã€‚', icon: 'ğŸª“' },
                        { name: 'å¥³æ—é•¿ä¹‹å¼“/å¤§é™¢é•¿ä¹‹å¼“', sockets: '4å­”', why: 'å¼“é©¬æ¯•ä¸šæ­¦å™¨â€œä¿¡å¿ƒâ€çš„ä¼˜è´¨åº•æï¼Œè‡ªå¸¦+3å¼“ä¸åå­—å¼“æŠ€èƒ½ã€‚', icon: 'ğŸ¹' }
                    ]
                },
                { 
                    category: "ç›”ç”²åº•æ (Armor Bases)",
                    items: [
                        { name: 'æ³•å¸ˆé“ ç”² (Mage Plate)', sockets: '3å­”', why: 'åŠ›é‡éœ€æ±‚æä½(55)ï¼Œæœ€é€‚åˆåˆ¶ä½œâ€œè°œå›¢â€çš„è½»ç”²åº•æä¹‹ä¸€ï¼Œä¸å½±å“ç§»åŠ¨é€Ÿåº¦ã€‚', icon: 'ğŸ§¥' },
                        { name: 'æ‰§æ”¿å®˜é“ ç”² (Archon Plate)', sockets: '3å­”/4å­”', why: 'é˜²å¾¡æœ€é«˜çš„è½»ç”²ï¼ŒåŠ›é‡éœ€æ±‚ä¹Ÿåªæœ‰103ï¼Œæ˜¯åˆ¶ä½œâ€œè°œå›¢â€å’Œâ€œåˆšæ¯…â€çš„æ¯•ä¸šåº•æã€‚', icon: 'ğŸ‘•' },
                        { name: 'ç°æš®å¯¿è¡£ (Dusk Shroud)', sockets: '3å­”/4å­”', why: 'åŠ›é‡éœ€æ±‚(77)å’Œé˜²å¾¡åŠ›ä»‹äºæ³•å¸ˆé“ ç”²å’Œæ‰§æ”¿å®˜é“ ç”²ä¹‹é—´ï¼Œä¹Ÿæ˜¯åˆ¶ä½œâ€œè°œå›¢â€ã€â€œåˆšæ¯…â€çš„ä¼˜ç§€é€‰æ‹©ã€‚', icon: 'ğŸ½' }
                    ]
                },
                { 
                    category: "ç›¾ç‰Œåº•æ (Shield Bases)",
                    items: [
                        { name: 'ç»Ÿæ²»è€…å¤§ç›¾ (Monarch)', sockets: '4å­”', why: 'éåœ£éª‘å£«èŒä¸šèƒ½è·å¾—4å­”çš„æœ€é«˜é˜²å¾¡ç›¾ç‰Œï¼Œæ˜¯åˆ¶ä½œâ€œç²¾ç¥â€ç›¾çš„å”¯ä¸€é€‰æ‹©ã€‚ä¿—ç§°â€œç»Ÿæ²»ç›¾â€ã€‚', icon: 'ğŸ›¡ï¸' },
                        { name: 'ç¥åœ£å°ç›¾/ç¥åœ£è½»åœ†ç›¾ (Sacred Targe/Rondache)', sockets: '4å­” (è¦æ±‚é«˜å…¨æŠ—)', why: 'åœ£éª‘å£«ä¸“å±ç›¾ï¼Œè‡ªå¸¦é«˜æ ¼æŒ¡ç‡å’Œæœ€é«˜å¯è¾¾45çš„å…¨æŠ—ï¼Œæ˜¯åˆ¶ä½œâ€œç²¾ç¥â€æˆ–â€œæµäº¡â€çš„æå“åº•æã€‚', icon: 'âšœï¸' }
                    ]
                }
            ],
            mfTargets: [
                { name: 'å¢¨è²æ–¯æ‰˜ (Mephisto)', location: 'A3 - æ†æ¨å›šç‰¢ ç¬¬ä¸‰å±‚ (Durance of Hate Lvl 3)', why: 'æœ€è‘—åçš„â€œåŠ³æ¨¡â€ã€‚æ‰è½è¡¨æå…¶ä¼˜ç§€ï¼Œæ¶µç›–äº†æ¸¸æˆä¸­ç»å¤§éƒ¨åˆ†æ ¸å¿ƒæš—é‡‘è£…å¤‡ã€‚è·¯çº¿çŸ­ï¼Œä¸”å¯ä»¥åˆ©ç”¨åœ°å½¢å¡ä½æ— ä¼¤å‡»æ€ã€‚', recommended: 'çº¯å†°å·«å¸ˆ' },
                { name: 'å®‰è¾¾åˆ©å°” (Andariel)', location: 'A1 - åœ°ä¸‹å¢“ç©´ ç¬¬å››å±‚ (Catacombs Lvl 4)', why: 'æ‰è½å¤§é‡å®ç”¨æš—é‡‘å’Œå¥—è£…ï¼Œå°¤å…¶æ˜¯æˆ’æŒ‡å’Œé¡¹é“¾ã€‚é¦–æ¬¡å‡»æ€æœ‰Quest Bugï¼Œæ‰ç‡æé«˜ï¼Œæ•ˆç‡æƒŠäººã€‚', recommended: 'ç«æ³•/å†°æ³•' },
                { name: 'æš´èºå¤–çš® (Pindleskin)', location: 'A5 - å“ˆæ´›åŠ æ–¯ (Harrogath - Anya\'s Portal)', why: 'ä¿—ç§°â€œçš®å”â€ã€‚è·¯çº¿æçŸ­ï¼Œå°±åœ¨çº¢é—¨æ—è¾¹ã€‚85çº§åœºæ™¯æ‰è½ï¼Œèƒ½å‡ºæ‰€æœ‰é¡¶çº§è£…å¤‡ï¼Œåˆ·å®é€Ÿåº¦é£å¿«ã€‚', recommended: 'ä»»ä½•é«˜ä¼¤å®³æ¸…åœºèŒä¸š' },
                { name: 'å´”å‡¡å…‹è®®ä¼š (Travincal Council)', location: 'A3 - å´”å‡¡å…‹ (Travincal)', why: 'é«˜çº§ç¬¦æ–‡å’Œé‡‘å¸çš„ä¸»è¦æ¥æºã€‚æ€ªç‰©å›ºå®šï¼Œå¯†åº¦é«˜ï¼Œæ˜¯â€œæ‰“é’±â€é‡è›®äººçš„æœ€çˆ±ã€‚', recommended: 'ç¥ç¦ä¹‹é”¤åœ£éª‘å£«, æ‰“é’±é‡è›®äºº' },
                { name: 'å¤ä»£é€šé“ (Ancient Tunnels)', location: 'A2 - å¤±è½å¤åŸ (Lost City)', why: '85çº§åœºæ™¯ï¼Œèƒ½æ‰è½æ¸¸æˆä¸­æ‰€æœ‰ç‰©å“ã€‚åœºæ™¯å†…æ€ªç‰©æ²¡æœ‰å†°å†·å…ç–«ï¼Œæ˜¯çº¯å†°å·«å¸ˆçš„å¤©å ‚ã€‚', recommended: 'çº¯å†°å·«å¸ˆ, é£å¾·' },
                { name: 'å¥³ä¼¯çˆµ (The Countess)', location: 'A1 - é»‘è‰²è’åœ° (Black Marsh) -> é—å¿˜é«˜å¡” ç¬¬äº”å±‚ (Forgotten Tower Lvl 5)', why: 'å‰ä¸­æœŸç¬¦æ–‡çš„ä¸»è¦æ¥æºï¼Œç¨³å®šæ‰è½1-8å·ç¬¦æ–‡ï¼ˆåœ°ç‹±éš¾åº¦æœ€é«˜æ‰è½24å·ï¼‰ã€‚', recommended: 'ä»»ä½•æœ‰ä¼ é€/é«˜è·‘é€Ÿçš„èŒä¸š' },
                { name: 'å°¼æ‹‰å¡å…‹ (Nihlathak)', location: 'A5 - æ²ƒç‰¹å¤§å… (Halls of Vaught)', why: 'æ¯ç­ä¹‹é’¥çš„å”¯ä¸€æ¥æºï¼ŒåŒæ—¶ä¹Ÿæ˜¯é«˜çº§ç¬¦æ–‡å’Œé¡¶çº§è£…å¤‡çš„æ‰è½ç‚¹ã€‚ä½†å…¶å°¸çˆ†æŠ€èƒ½éå¸¸å±é™©ã€‚', recommended: 'çº¯å¬æ­»çµæ³•å¸ˆ, é™·é˜±çŒæ³•è€…' }
            ],
            breakpoints: {
                fcr: {
                    name: "é«˜é€Ÿæ–½æ³• (FCR)",
                    amazon: { "æ–½æ³•": [0, 7, 14, 22, 32, 48, 68, 99, 152] },
                    assassin: { "æ–½æ³•": [0, 8, 16, 27, 42, 65, 102, 174] },
                    barbarian: { "æ–½æ³•": [0, 9, 20, 37, 63, 105, 200] },
                    druid: { "äººå½¢æ–½æ³•": [0, 4, 10, 19, 30, 46, 68, 99, 163] },
                    necromancer: { "æ–½æ³•": [0, 9, 18, 30, 48, 75, 125] },
                    paladin: { "æ–½æ³•": [0, 9, 18, 30, 48, 75, 125] },
                    sorceress: { "é—ªç”µ/è¿é”é—ªç”µ": [0, 7, 15, 23, 35, 52, 78, 117, 194], "å…¶ä»–æŠ€èƒ½": [0, 9, 20, 37, 63, 105, 200] }
                },
                fhr: {
                    name: "å¿«é€Ÿæ‰“å‡»æ¢å¤ (FHR)",
                    amazon: [0, 6, 13, 20, 32, 52, 86, 174, 600],
                    assassin: [0, 7, 15, 27, 48, 86, 200, 4680],
                    barbarian: [0, 7, 15, 27, 48, 86, 200, 4680],
                    druid_human: [0, 3, 7, 13, 19, 29, 42, 63, 99, 174, 456],
                    druid_wolf: [0, 6, 13, 20, 32, 52, 86, 174, 600],
                    druid_bear: [0, 5, 10, 16, 26, 39, 56, 86, 152, 360],
                    necromancer: [0, 5, 10, 16, 26, 39, 56, 86, 152, 360],
                    paladin: [0, 7, 15, 27, 48, 86, 200, 4680],
                    sorceress: [0, 5, 9, 14, 20, 30, 42, 60, 86, 142, 280]
                },
                fbr: {
                    name: "å¿«é€Ÿæ ¼æŒ¡é€Ÿåº¦ (FBR)",
                    amazon: [0, 6, 13, 20, 32, 52, 86, 174, 600],
                    assassin: [0, 7, 15, 27, 48, 86, 200, 4680],
                    barbarian: [0, 7, 15, 27, 48, 86, 200, 4680],
                    druid: [0, 6, 13, 20, 32, 52, 86, 174, 600],
                    necromancer: [0, 6, 13, 20, 32, 52, 86, 174, 600],
                    paladin: [0, 9, 18, 30, 48, 75, 125],
                    sorceress: [0, 7, 15, 27, 48, 86, 200, 4680]
                }
            },
            mercenaries: [
                 { 
                    category: "ç¬¬äºŒå¹• æ²™æ¼ ä½£å…µ (Act 2 Desert Mercenary) - æœ€å¼ºä¼™ä¼´",
                    items: [
                        { name: 'å™©æ¢¦éš¾åº¦ - è¿›æ”»å‹', icon: 'âš”ï¸', why: '<strong>å…‰ç¯: åŠ›é‡ (Might)ã€‚</strong> æä¾›ç™¾åˆ†æ¯”ç‰©ç†ä¼¤å®³åŠ æˆï¼Œæ˜¯æ‰€æœ‰ç‰©ç†ç³»èŒä¸šï¼ˆå¦‚é‡è›®äººã€å¼“é©¬ã€é£å¾·ï¼‰å’Œå¬å”¤ç³»èŒä¸šï¼ˆæ­»çµæ³•å¸ˆï¼‰çš„æœ€å¼ºè¾…åŠ©ã€‚' },
                        { name: 'å™©æ¢¦éš¾åº¦ - é˜²å¾¡å‹', icon: 'â„ï¸', why: '<strong>å…‰ç¯: ç¥åœ£å†°å†» (Holy Freeze)ã€‚</strong> å¤§èŒƒå›´å‡é€Ÿæ•Œäººï¼Œæå¤§æå‡è§’è‰²å®‰å…¨æ€§ï¼Œé€‚åˆæ‰€æœ‰è„†çš®èŒä¸šæˆ–å¼€è’é˜¶æ®µã€‚' },
                        { name: 'æ™®é€š/åœ°ç‹± - æˆ˜æ–—å‹', icon: 'ğŸ™', why: '<strong>å…‰ç¯: ç¥ˆç¥· (Prayer)ã€‚</strong> é…åˆâ€œçœ¼å…‰â€ç¬¦æ–‡ä¹‹è¯­çš„å†¥æ€å…‰ç¯ï¼Œå¯ä»¥å®ç°åŒå€å›è¡€æ•ˆæœï¼Œç»­èˆªèƒ½åŠ›æå¼ºã€‚' },
                        { name: 'æ¯•ä¸šè£…å¤‡æ¨è', icon: 'ğŸ‘‘', why: '<strong>æ­¦å™¨:</strong> â€œæ— é™â€(ç ´å…æ ¸å¿ƒ)ã€â€œçœ¼å…‰â€(å›è“)ã€â€œéµä»â€(é«˜ä¼¤)ã€â€œæ­»ç¥çš„ä¸§é’Ÿâ€(ç ´ç‰©å…)ã€‚<strong>ç›”ç”²:</strong> â€œåˆšæ¯…â€(ä¼¤å®³+ç”Ÿå­˜)ã€â€œèƒŒä¿¡â€(æ”»é€Ÿ+å‡ä¼¤)ã€‚<strong>å¤´ç›”:</strong> â€œå®‰è¾¾åˆ©å°”çš„é¢å®¹â€(æ”»é€Ÿ+å¸è¡€)ã€â€œå‰æ°¸ä¹‹è„¸â€(CBæ‰“ç‹)ã€‚' }
                    ]
                },
                { 
                    category: "å…¶ä»–ä½£å…µ",
                    items: [
                        { name: 'ç¬¬ä¸€å¹• ç½—æ ¼æ–¥å€™ (Act 1 Rogue Scout)', icon: 'ğŸ¹', why: 'å¯ä»¥ä½¿ç”¨å¼“ã€‚å½“è£…å¤‡â€œä¿¡å¿ƒâ€ç¬¦æ–‡ä¹‹è¯­æ—¶ï¼Œå¥¹èƒ½ä¸ºç©å®¶æä¾›ç‹‚çƒ­å…‰ç¯ï¼Œæ˜¯ç‰©ç†å¼“é©¬çš„æ¯•ä¸šé€‰æ‹©ã€‚' },
                        { name: 'ç¬¬äº”å¹• é‡è›®äººæˆ˜å£« (Act 5 Barbarian Warrior)', icon: 'ğŸ’ª', why: 'éå¸¸å¼ºå£®çš„è‚‰ç›¾ï¼Œå¯ä»¥ä½¿ç”¨â€œæ‰§æ³•è€…â€ç¬¦æ–‡ä¹‹è¯­æä¾›åº‡æŠ¤æ‰€å…‰ç¯ï¼ˆå¯¹ä¸æ­»æ—æœ‰æ•ˆï¼‰ï¼Œæˆ–åŒæŒâ€œç˜Ÿç–«â€æä¾›å‡€åŒ–å…‰ç¯ã€‚' }
                    ]
                }
            ],
            crafting: [
                 { 
                    name: 'æ©™è‰²åˆæˆç‰©å“ (Crafted Items)', 
                    intro: 'åˆæˆç‰©å“æ˜¯æ¸¸æˆåæœŸè·å–æå“è£…å¤‡çš„é‡è¦é€”å¾„ã€‚å…¬å¼ä¸ºï¼šç‰¹å®šé­”æ³•ç‰©å“ + å¯¹åº”çš„ç¬¦æ–‡ + å¯¹åº”é¢œè‰²çš„å®Œç¾å®çŸ³ + ä»»æ„ç å®ã€‚ç‰©å“ç­‰çº§(ilvl)å’Œè§’è‰²ç­‰çº§(clvl)å…±åŒå†³å®šäº†æˆå“å±æ€§çš„ä¸Šé™ã€‚',
                    recipes: [
                        { name: 'æ–½æ³•è€…é¡¹é“¾ (Caster Amulet)', formula: 'é­”æ³•é¡¹é“¾ + 8#æ‹‰å°” + å®Œç¾ç´«æ°´æ™¶ + ç å®', stats: 'å›ºå®šè¯ç¼€ï¼š(4-10)% é«˜é€Ÿæ–½æ³•, (4-10)% æ³•åŠ›å›å¤, +(10-20) æ³•åŠ›ã€‚<br><strong>è¿½æ±‚ç›®æ ‡:</strong> +2 èŒä¸šæŠ€èƒ½, (15-20)% é«˜é€Ÿæ–½æ³•, å±æ€§, æŠ—æ€§ã€‚' },
                        { name: 'è¡€è…¥æ‰‹å¥— (Blood Gloves)', formula: 'é­”æ³•é‡æ‰‹å¥—/é²¨é±¼çš®æ‰‹å¥—/å¸è¡€é¬¼éª¸éª¨æ‰‹å¥— + 4#é‚£å¤« + å®Œç¾çº¢å®çŸ³ + ç å®', stats: 'å›ºå®šè¯ç¼€ï¼š(5-10)% å‹ç¢æ€§æ‰“å‡» (CB), (1-3)% å¸å–ç”Ÿå‘½, +(10-20) ç”Ÿå‘½ã€‚<br><strong>è¿½æ±‚ç›®æ ‡:</strong> +2 æ ‡æª/å¼“ç®­æŠ€èƒ½, 20% æå‡æ”»å‡»é€Ÿåº¦ (IAS), å±æ€§ã€‚' },
                        { name: 'è¡€è…¥æˆ’æŒ‡ (Blood Ring)', formula: 'é­”æ³•æˆ’æŒ‡ + 12#ç´¢å°” + å®Œç¾çº¢å®çŸ³ + ç å®', stats: 'å›ºå®šè¯ç¼€ï¼š(1-3)% å¸å–ç”Ÿå‘½, +(10-20) ç”Ÿå‘½, + (1-5) åŠ›é‡ã€‚<br><strong>è¿½æ±‚ç›®æ ‡:</strong> é«˜é€Ÿæ–½æ³•, åŒå¸, å±æ€§, æŠ—æ€§ã€‚' }
                    ]
                },
                { 
                    name: 'ç¬¦æ–‡å‡çº§å…¬å¼ (Rune Upgrade)', 
                    intro: 'åœ¨èµ«æ‹‰è¿ªå§†æ–¹å—ä¸­ï¼Œå¯ä»¥å°†ä½çº§ç¬¦æ–‡åˆæˆä¸ºæ›´é«˜çº§çš„ç¬¦æ–‡ã€‚è¯·æ³¨æ„ï¼Œä»10å·ç¬¦æ–‡å¼€å§‹ï¼Œåˆæˆéœ€è¦é¢å¤–çš„å®çŸ³ã€‚',
                    recipes: [
                        { name: 'åŸºç¡€ç¬¦æ–‡ (1# - 9#)', formula: '3 x ç¬¦æ–‡ (N)', stats: '<strong>äº§ç‰©:</strong> 1 x ç¬¦æ–‡ (N+1)<br><strong>ç¤ºä¾‹:</strong> 3 x 3#(ç‰¹å°”) -> 1 x 4#(é‚£å¤«)' },
                        { name: '10# â†’ 21# (éœ€ç¢è£‚/è£‚å¼€çš„å®çŸ³)', formula: '3 x ç¬¦æ–‡ (N) + å¯¹åº”å®çŸ³', stats: '<strong>ç¤ºä¾‹:</strong> 3 x 10#(ä¹¦å°”) + 1 ç¢è£‚çš„é»„ç‰ -> 1 x 11#(å®‰å§†)' },
                        { name: '21# â†’ 33# (éœ€æ™®é€š/æ— ç‘•ç–µçš„å®çŸ³)', formula: '2 x ç¬¦æ–‡ (N) + å¯¹åº”å®çŸ³', stats: '<strong>æ³¨æ„:</strong> ä»21å·å¼€å§‹ï¼Œæ¯æ¬¡åˆæˆåªéœ€è¦2ä¸ªä½çº§ç¬¦æ–‡ã€‚<br><strong>ç¤ºä¾‹:</strong> 2 x 21#(æ™®å°”) + 1 è£‚å¼€çš„é’»çŸ³ -> 1 x 22#(ä¹Œå§†)' }
                    ]
                }
            ]
        };

        const classData = {
            home: {
                title: 'èŒä¸šæ€»è§ˆä¸å¯¹æ¯”',
                intro: 'æ¬¢è¿æ¥åˆ°æš—é»‘2é‡åˆ¶ç‰ˆäº¤äº’å¼èŒä¸šæ”»ç•¥ã€‚è¿™é‡Œæ±‡æ€»äº†ä¸ƒå¤§èŒä¸šçš„æ ¸å¿ƒç©æ³•ä¸æ•°æ®ã€‚é¦–å…ˆï¼Œæ‚¨å¯ä»¥é€šè¿‡ä¸‹æ–¹çš„ç»¼åˆèƒ½åŠ›é›·è¾¾å›¾ï¼Œå¯¹å„ä¸ªèŒä¸šçš„â€œèƒ½åŠ›å½¢çŠ¶â€æœ‰ä¸€ä¸ªç›´è§‚çš„äº†è§£ã€‚ç‚¹å‡»å›¾ä¾‹å¯ä»¥åˆ‡æ¢æ˜¾ç¤ºä¸åŒèŒä¸šã€‚é€‰æ‹©æ‚¨æ„Ÿå…´è¶£çš„èŒä¸šï¼Œæ·±å…¥æ¢ç´¢å…¶å¼€è’è·¯çº¿ã€ä¸»æµæ„ç­‘å’Œé…è£…ç­–ç•¥ï¼Œç¥æ‚¨åœ¨åº‡æŠ¤ä¹‹åœ°å¥½è¿ï¼',
                content: `<div class="bg-stone-800 p-4 rounded-lg border border-stone-600"><div class="chart-container"><canvas id="classComparisonChart"></canvas></div><p class="text-center text-stone-400 text-sm mt-2">ğŸ’¡ ç‚¹å‡»ä¸‹æ–¹çš„èŒä¸šå›¾ä¾‹å¯ä»¥åˆ‡æ¢æ˜¾ç¤º/éšè—å¯¹åº”çš„èŒä¸šæ•°æ®</p><div class="mt-4 p-4 bg-stone-950/50 rounded-lg border border-stone-700"><h4 class="text-amber-400 font-bold text-lg mb-2">ğŸ’¡ æ–°æ‰‹ç©å®¶æ¨è</h4><p class="text-stone-300">å¯¹äºåˆæ¬¡ä½“éªŒçš„ç©å®¶ï¼Œæˆ‘ä»¬å¼ºçƒˆæ¨è <strong class="text-amber-400">æ­»çµæ³•å¸ˆ(çº¯å¬å”¤)</strong> æˆ– <strong class="text-amber-400">å·«å¸ˆ(å†°ç«åŒä¿®)</strong>ã€‚æ­»çµæ³•å¸ˆä¾é éª·é«…å¤§å†›ä½œæˆ˜ï¼Œè‡ªèº«éå¸¸å®‰å…¨ï¼Œè£…å¤‡è¦æ±‚ä½ï¼›å·«å¸ˆæ‹¥æœ‰ä¼ é€æŠ€èƒ½ï¼Œè·‘å›¾å’Œåˆ·è£…å¤‡æ•ˆç‡æé«˜ï¼Œä¸”å†°ç«åŒä¿®ç©æ³•èƒ½è½»æ¾åº”å¯¹æ¸¸æˆä¸­çš„ç»å¤§å¤šæ•°æƒ…å†µã€‚</p></div></div>`
            },
            necromancer: {
                title: 'æ­»çµæ³•å¸ˆ - æŒæ§ç”Ÿå‘½ä¸æ­»äº¡',
                intro: 'æ­»çµæ³•å¸ˆæ˜¯å¬å”¤å¤§å¸ˆä¸è¯…å’’ä¸“å®¶ã€‚ä»–èƒ½ç»„å»ºäº¡è€…å¤§å†›ï¼Œä¹Ÿèƒ½ç”¨æ¯’éª¨æ³•æœ¯ç“¦è§£æ•Œäººã€‚è¿™ä¸ªèŒä¸šå¼€è’æä¸ºå®‰å…¨ï¼Œæˆå‹åæ˜¯å›¢é˜Ÿä¸­ä¸å¯æˆ–ç¼ºçš„é¡¶çº§è¾…åŠ©å’Œæ¸…åœºæœºå™¨ï¼Œå¯¹æ–°æ‰‹ç©å®¶éå¸¸å‹å¥½ã€‚',
                sections: [
                     {
                        title: 'ğŸŒ± Soloå¼€è’è·¯çº¿',
                        content: `<div class="bg-stone-800 p-4 rounded-lg border border-stone-600 text-stone-300 space-y-3"><p><strong>æŠ€èƒ½è·¯çº¿ (çº¯å¬å”¤):</strong></p><ul class="list-disc list-inside pl-4 space-y-1"><li><strong>1-12çº§:</strong> ä¼˜å…ˆç‚¹æ»¡ <span class="text-amber-400">éª·é«…å¤è‹</span>ã€‚</li><li><strong>12-24çº§:</strong> ç»§ç»­åŠ æ»¡éª·é«…å¤è‹ï¼Œå¹¶å¼€å§‹æŠ•å…¥ <span class="text-amber-400">æ”¯é…éª·é«…</span>ã€‚å­¦ä¹ 1çº§ <span class="text-amber-400">é»åœŸçŸ³é­”</span>, <span class="text-amber-400">ä¼¤å®³åŠ æ·±</span>, å’Œ <span class="text-amber-400">å°¸ä½“çˆ†ç‚¸</span>ã€‚</li><li><strong>24çº§ä»¥å:</strong> ä¼˜å…ˆåŠ æ»¡ <span class="text-amber-400">æ”¯é…éª·é«…</span> å’Œ <span class="text-amber-400">å°¸ä½“çˆ†ç‚¸</span>ã€‚å­¦ä¹ 1çº§ <span class="text-amber-400">è¡°è€</span> å¯¹ä»˜Bossã€‚</li></ul><p><strong>å±æ€§åˆ†é…:</strong> åŠ›é‡åŠ åˆ°å¤Ÿç©¿è£…å¤‡(ç²¾ç¥ç›¾éœ€156)ï¼Œå…¶ä½™å…¨ä½“åŠ›ã€‚</p><p><strong>å…³é”®è£…å¤‡:</strong> "éšç§˜"ç”²(Lv 17), "çŸ¥è¯†"å¤´(Lv 27), "ç²¾ç¥"å‰‘ç›¾ç»„åˆ(Lv 25)ã€‚ä½£å…µåŠ¡å¿…å°½æ—©è£…å¤‡"çœ¼å…‰"(Lv 27)ã€‚</p></div>`
                    },
                    { 
                        title: 'ğŸ’¡ ä¸»æµç©æ³•æ„ç­‘',
                        content: `<div class="space-y-4"><div class="bg-stone-800 p-4 rounded-lg border border-stone-600"><h4 class="font-bold text-lg text-amber-400 mb-2">çº¯å¬æ­»çµæ³•å¸ˆ (Fishymancer)</h4><p class="text-stone-300">ä»¥éª·é«…å¤§å†›ä¸ºæ ¸å¿ƒçš„ç»å…¸Buildã€‚æˆ˜æ–—æ—¶è®©ä½£å…µçš„åŠ›é‡å…‰ç¯å¼ºåŒ–éª·é«…ï¼Œè‡ªå·±ä¸ºæ•Œç¾¤æ–½æ”¾ä¼¤å®³åŠ æ·±è¯…å’’ï¼›å½“é¦–ä¸ªæ•Œäººè¢«å‡»æ€åï¼Œç«‹å³é¢‘ç¹æ–½æ”¾å°¸ä½“çˆ†ç‚¸å¼•å‘è¿é”çˆ†ç‚¸ã€‚çº¯å¬æµæå…¶å®‰å…¨ï¼Œå¯¹è£…å¤‡è¦æ±‚ä½ã€‚æœ‰äº†â€œè°œå›¢â€(Lv 65)ä¼ é€åï¼Œåˆ·å›¾æ•ˆç‡æˆå€æå‡ã€‚</p></div><div class="bg-stone-800 p-4 rounded-lg border border-stone-600"><h4 class="font-bold text-lg text-amber-400 mb-2">ç™½éª¨æ­»çµæ³•å¸ˆ (Bonemancer)</h4><p class="text-stone-300">ä»¥éª¨çŸ›å’Œéª¨é­‚ä¸ºä¸»è¦è¾“å‡ºæ‰‹æ®µã€‚éª¨çŸ›å…·æœ‰ç©¿é€æ•ˆæœï¼Œç›´çº¿æ¸…æ€ªæ•ˆç‡ä¸é”™ï¼›éª¨é­‚åˆ™ç”¨äºå•ä½“é«˜ä¼¤æ‰“å‡»ã€‚éª¨ç³»æ³•æœ¯å±äºé­”æ³•ä¼¤å®³ï¼Œå‡ ä¹æ²¡æœ‰å…ç–«é—®é¢˜ï¼Œæ˜¯PVPçš„å¸¸é’æ ‘ã€‚</p></div><div class="bg-stone-800 p-4 rounded-lg border border-stone-600"><h4 class="font-bold text-lg text-amber-400 mb-2">æ¯’ç´ æ­»çµæ³•å¸ˆ (Poisonmancer)</h4><p class="text-stone-300">ä»¥å‰§æ¯’æ–°æ˜Ÿä¸ºæ ¸å¿ƒï¼Œé€ æˆæŒç»­æ€§å¤§èŒƒå›´ä¼¤å®³ã€‚è£…å¤‡æˆå‹åæ¸…å±é€Ÿåº¦æå¿«ï¼Œç‰¹åˆ«é€‚åˆç§˜å¯†å¥¶ç‰›å…³ç­‰é«˜å¯†åº¦åŒºåŸŸã€‚å¯¹è£…å¤‡è¦æ±‚éå¸¸é«˜ï¼Œæ ¸å¿ƒæ˜¯æš—é‡‘æ³•æ–â€œæ­»äº¡ä¹‹ç½‘â€ã€‚</p></div></div>`
                    },
                    {
                        title: 'ğŸ—ºï¸ MFåˆ·å®æ¨èåŒºåŸŸ',
                        content: `<ul class="list-disc list-inside text-stone-300 space-y-2 bg-stone-800 p-4 rounded-lg border border-stone-600"><li><strong class="text-amber-400">ç§˜å¯†å¥¶ç‰›å…³ & å„é«˜å¯†åº¦85çº§åŒºåŸŸï¼š</strong> çº¯å¬æˆ–æ¯’ç³»æ­»çµçš„ä¹å›­ï¼Œæ€ªç‰©å¯†é›†ï¼Œéå¸¸é€‚åˆå°¸çˆ†æˆ–æ¯’æ˜Ÿæ¸…åœºã€‚</li><li><strong class="text-amber-400">A5 - å°¼æ‹‰å¡å…‹ (Nihlathak)ï¼š</strong> çº¯å¬æ­»çµæœ€å®‰å…¨çš„åˆ·é’¥åŒ™é€‰æ‹©ä¹‹ä¸€ã€‚éª·é«…å’ŒçŸ³é­”èƒ½æœ‰æ•ˆå¸å¼•ç«åŠ›ï¼Œé˜²æ­¢è¢«å°¼æ‹‰å¡å…‹çš„å°¸çˆ†ç§’æ€ã€‚</li></ul>`
                    },
                    {
                        title: 'ğŸ¤º PVPç©æ³•ä¸å¯¹ç­–',
                        content: `<div class="bg-stone-800 p-4 rounded-lg border border-stone-600"><p class="text-stone-300">PVPä¸­ä»¥<strong class="text-amber-400">ç™½éª¨æ­»çµ</strong>ä¸ºä¸»ã€‚åˆ©ç”¨éª¨çŸ›çš„å¿«é€Ÿå¼¹é“å’Œéª¨é­‚çš„è¿½è¸ªèƒ½åŠ›ï¼Œé…åˆéª¨ç‰¢å›šç¦å¯¹æ‰‹è¿›è¡Œæ‰“å‡»ã€‚å¯¹ç­–æ˜¯ä¿æŒé«˜é€Ÿç§»åŠ¨ï¼Œé¿å…è¢«éª¨ç‰¢å›°ä½ï¼Œå¹¶å †å â€œé­”æ³•ä¼¤å®³å‡å°‘â€å±æ€§ã€‚</p></div>`
                    },
                    {
                        title: 'âš™ï¸ è£…å¤‡æˆé•¿è·¯çº¿',
                        content: `<div class="grid md:grid-cols-3 gap-4"> <div class="bg-stone-800 p-4 rounded-lg border border-stone-600"> <h4 class="font-bold text-lg text-amber-500 mb-2">è¿‡æ¸¡æœŸ</h4> <ul class="list-disc list-inside text-stone-300 space-y-1"> <li><strong>æ­¦å™¨/ç›¾ç‰Œ:</strong> +æŠ€èƒ½é­”æ–/å¨ƒå¨ƒå¤´, "ç²¾ç¥"å‰‘ç›¾ (Lv 25)</li> <li><strong>å¤´ç›”:</strong> "çŸ¥è¯†" (Lv 27)</li> <li><strong>æŠ¤ç”²:</strong> "éšç§˜" (Lv 17)</li> <li><strong>ä½£å…µ:</strong> "çœ¼å…‰"é•¿æŸ„æ­¦å™¨ (Lv 27)</li> </ul> </div> <div class="bg-stone-800 p-4 rounded-lg border border-stone-600"> <h4 class="font-bold text-lg text-amber-500 mb-2">æˆå‹æœŸ</h4> <ul class="list-disc list-inside text-stone-300 space-y-1"> <li><strong>æ­¦å™¨:</strong> "æ©¡æ ‘ä¹‹å¿ƒ" (Lv 55)</li> <li><strong>ç›¾ç‰Œ:</strong> "ç²¾ç¥" (Lv 25)</li> <li><strong>å¤´ç›”:</strong> è°è§’ä¹‹å† (Shako)</li> <li><strong>æŠ¤ç”²:</strong> è›‡é­”æ³•å¸ˆä¹‹çš®</li> <li><strong>å‰¯æ‰‹:</strong> "é‡å…½" (Lv 63)</li> </ul> </div> <div class="bg-stone-800 p-4 rounded-lg border border-stone-600"> <h4 class="font-bold text-lg text-amber-500 mb-2">æ¯•ä¸šè£… (çº¯å¬/æ¯’)</h4> <ul class="list-disc list-inside text-stone-300 space-y-1"> <li><strong>æŠ¤ç”²:</strong> "è°œå›¢" (Lv 65) (æ ¸å¿ƒ)</li> <li><strong>ä½£å…µæ­¦å™¨:</strong> "æ— é™" (Lv 63) (çº¯å¬)</li> <li><strong>æ­¦å™¨:</strong> æ­»äº¡ä¹‹ç½‘ (çº¯æ¯’)</li> <li><strong>å¥—è£…:</strong> å¡”æ ¼å¥¥ä¸‰ä»¶ (çº¯æ¯’)</li> </ul> </div> </div>`
                    }
                ]
            },
            paladin: {
                title: 'åœ£éª‘å£« - ç¥åœ£çš„åŒ–èº«',
                intro: 'åœ£éª‘å£«æ˜¯æ”»å®ˆå…¼å¤‡çš„å›¢é˜Ÿæ ¸å¿ƒã€‚ä»–æ‹¥æœ‰å¼ºå¤§çš„æˆ˜æ–—å…‰ç¯ï¼Œç¥ç¦ä¹‹é”¤æµæ´¾ï¼ˆHammerdinï¼‰è¢«å…¬è®¤ä¸ºç‰ˆæœ¬åˆ·å›¾ä¹‹ç‹ã€‚æ— è®ºæ˜¯å¼€è’ã€åæœŸåˆ·å®è¿˜æ˜¯æŒ‘æˆ˜è¶…çº§Bossï¼Œåœ£éª‘å£«éƒ½æœ‰ç€æ— ä¸ä¼¦æ¯”çš„å…¨é¢æ€§ã€‚',
                sections: [
                    {
                        title: 'ğŸŒ± Soloå¼€è’è·¯çº¿',
                        content: `<div class="bg-stone-800 p-4 rounded-lg border border-stone-600 text-stone-300 space-y-3"><p><strong>æŠ€èƒ½è·¯çº¿ (åœ£ç«è½¬ç¥ç¦ä¹‹é”¤):</strong></p><ul class="list-disc list-inside pl-4 space-y-1"><li><strong>1-18çº§ (åœ£ç«):</strong> ä¸»åŠ  <span class="text-amber-400">åœ£ç«</span> åŠå…¶ååŒ <span class="text-amber-400">æŠµæŠ—ç«ç„°</span>ï¼Œæ¸…æ€ªæ•ˆç‡æé«˜ã€‚</li><li><strong>18-24çº§ (è½¬å‹):</strong> æ´—ç‚¹æˆ–å¼€å§‹åŠ ç‚¹ <span class="text-amber-400">ç¥ç¦ä¹‹é”¤</span> å’Œ <span class="text-amber-400">ä¸“æ³¨</span> å…‰ç¯ã€‚</li><li><strong>24çº§ä»¥å:</strong> åŠ æ»¡ <span class="text-amber-400">ç¥ç¦ä¹‹é”¤</span> åŠå…¶ååŒæŠ€èƒ½ (<span class="text-amber-400">ç¥ç¦ç„å‡†</span>, <span class="text-amber-400">æ´»åŠ›</span>)ï¼Œå¹¶åŠ æ»¡ <span class="text-amber-400">ä¸“æ³¨</span>ã€‚</li></ul><p><strong>å±æ€§åˆ†é…:</strong> åŠ›é‡å¤Ÿç©¿è£…å¤‡(çº¦156)ï¼Œæ•æ·åŠ åˆ°åœ£ç›¾åæ ¼æŒ¡75%ï¼Œå…¶ä½™å…¨ä½“åŠ›ã€‚</p><p><strong>å…³é”®è£…å¤‡:</strong> åŒ"ç²¾ç¥"(å‰‘+åœ£éª‘å£«ç›¾)(Lv 25)æ˜¯è´¨å˜è£…å¤‡ã€‚"éšç§˜"ç”²(Lv 17), "çŸ¥è¯†"å¤´(Lv 27)è¿‡æ¸¡ã€‚ä½£å…µä½¿ç”¨"çœ¼å…‰"(Lv 27)ã€‚</p></div>`
                    },
                    {
                        title: 'ğŸ’¡ ä¸»æµç©æ³•æ„ç­‘',
                        content: `<div class="space-y-4"><div class="bg-stone-800 p-4 rounded-lg border border-stone-600"><h4 class="font-bold text-lg text-amber-400 mb-2">ç¥ç¦ä¹‹é”¤åœ£éª‘å£« (Hammerdin)</h4><p class="text-stone-300">åˆ©ç”¨ç¥ç¦ä¹‹é”¤+ä¸“æ³¨å…‰ç¯è¾“å‡ºï¼Œæ˜¯å½“å‰ç‰ˆæœ¬PVMæ•ˆç‡æœ€é«˜çš„Buildã€‚é£é”¤å±äºé­”æ³•ä¼¤å®³ï¼Œåœ°ç‹±éš¾åº¦å‡ ä¹æ²¡æœ‰å…ç–«æ€ªï¼Œå¯è°“æ— å¾€ä¸åˆ©ã€‚å”¯ä¸€ç¼ºç‚¹æ˜¯åœ¨ç‹­çª„åœ°å½¢éœ€è¦èµ°ä½æŠ€å·§ã€‚</p></div><div class="bg-stone-800 p-4 rounded-lg border border-stone-600"><h4 class="font-bold text-lg text-amber-400 mb-2">ç›¾å‡»åœ£éª‘å£« (Smiter)</h4><p class="text-stone-300">ä¸“æ³¨äºå•ä½“ç›®æ ‡çš„Bossæ€æ‰‹ã€‚ä¾é 100%å‘½ä¸­çš„é‡å‡»å’Œé«˜å‹ç¢æ€§æ‰“å‡»(CB)æ•ˆæœï¼Œèƒ½æœ€å¿«é€Ÿåº¦å‡»æ€å„å¤§Bossï¼Œæ˜¯è·å–åœ°ç‹±ç«ç‚¬çš„ç»å¯¹ä¸»åŠ›ã€‚ä½†å‡ ä¹æ²¡æœ‰æ¸…å°æ€ªèƒ½åŠ›ã€‚</p></div><div class="bg-stone-800 p-4 rounded-lg border border-stone-600"><h4 class="font-bold text-lg text-amber-400 mb-2">å¤©å ‚ä¹‹æ‹³åœ£éª‘å£« (FoHdin)</h4><p class="text-stone-300">åœ¨æ¶é­”ä¸ä¸æ­»ç”Ÿç‰©å¯†é›†çš„åœºæ™¯ï¼ˆå¦‚ A4 - æ··æ²Œé­”æ®¿ (Chaos Sanctuary)ï¼‰æ¸…åœºæ•ˆç‡æé«˜ï¼Œç”šè‡³è¶…è¿‡ç¥ç¦ä¹‹é”¤ã€‚ä½†å¯¹å…¶ä»–ç±»å‹çš„æ€ªç‰©ä¼¤å®³æœ‰é™ï¼ŒFarmè·¯çº¿è¾ƒä¸ºå›ºå®šã€‚</p></div></div>`
                    },
                     {
                        title: 'ğŸ—ºï¸ MFåˆ·å®æ¨èåŒºåŸŸ',
                        content: `<ul class="list-disc list-inside text-stone-300 space-y-2 bg-stone-800 p-4 rounded-lg border border-stone-600"><li><strong class="text-amber-400">æ‰€æœ‰85çº§åŒºåŸŸï¼š</strong> ç¥ç¦ä¹‹é”¤åœ£éª‘å£«å¯ä»¥é«˜æ•ˆæ¸…ç†ä»»ä½•é¡¶çº§åœºæ™¯ï¼Œå¦‚ A4 - æ··æ²Œé­”æ®¿ (Chaos Sanctuary)ã€A5 - ä¸–ç•Œä¹‹çŸ³è¦å¡ (Worldstone Keep) ç­‰ã€‚</li><li><strong class="text-amber-400">A3 - å´”å‡¡å…‹è®®ä¼š (Travincal)ï¼š</strong> åˆ·é«˜çº§ç¬¦æ–‡å’Œé‡‘å¸çš„ç»ä½³åœ°ç‚¹ã€‚</li><li><strong class="text-amber-400">åœ°ç‹±ç«ç‚¬ä»»åŠ¡ (Uber Tristram)ï¼š</strong> ç›¾å‡»åœ£éª‘å£«æ˜¯å•æŒ‘è¶…çº§Bossã€è·å–ç«ç‚¬çš„é¦–é€‰èŒä¸šã€‚</li></ul>`
                    },
                    {
                        title: 'ğŸ¤º PVPç©æ³•ä¸å¯¹ç­–',
                        content: `<div class="bg-stone-800 p-4 rounded-lg border border-stone-600"><p class="text-stone-300"><strong class="text-amber-400">ç¥ç¦ä¹‹é”¤åœ£éª‘å£«</strong>åœ¨PVPä¸­è¿‘ä¹æ— è§£ã€‚é«˜ä¼¤å®³ã€é«˜æœºåŠ¨ã€é«˜é˜²å¾¡ï¼Œå‡ ä¹æ²¡æœ‰å¤©æ•Œã€‚å¯¹ç­–æ˜¯åˆ©ç”¨åœ°å½¢å’Œèµ°ä½èº²é¿é£é”¤ï¼Œå¹¶å †å â€œé­”æ³•ä¼¤å®³å‡å…â€å±æ€§ã€‚ä¸è¦å°è¯•ä¸<strong class="text-amber-400">ç›¾å‡»åœ£éª‘å£«</strong>è¿‘æˆ˜ç¡¬æ‹¼ã€‚</p></div>`
                    },
                    {
                        title: 'âš™ï¸ è£…å¤‡æˆé•¿è·¯çº¿ (ç¥ç¦ä¹‹é”¤)',
                        content: `<div class="grid md:grid-cols-3 gap-4"> <div class="bg-stone-800 p-4 rounded-lg border border-stone-600"> <h4 class="font-bold text-lg text-amber-500 mb-2">è¿‡æ¸¡æœŸ</h4> <ul class="list-disc list-inside text-stone-300 space-y-1"> <li><strong>æ­¦å™¨/ç›¾ç‰Œ:</strong> åŒ"ç²¾ç¥" (Lv 25) (å‰‘+åœ£éª‘å£«ç›¾)</li> <li><strong>å¤´ç›”:</strong> "çŸ¥è¯†" (Lv 27)</li> <li><strong>æŠ¤ç”²:</strong> "éšç§˜" (Lv 17) æˆ– "ç‹®å¿ƒ" (Lv 41)</li> <li><strong>ä½£å…µ:</strong> "çœ¼å…‰"é•¿æŸ„æ­¦å™¨ (Lv 27)</li> </ul> </div> <div class="bg-stone-800 p-4 rounded-lg border border-stone-600"> <h4 class="font-bold text-lg text-amber-500 mb-2">æˆå‹æœŸ</h4> <ul class="list-disc list-inside text-stone-300 space-y-1"> <li><strong>æ­¦å™¨:</strong> "æ©¡æ ‘ä¹‹å¿ƒ" (Lv 55)</li> <li><strong>ç›¾ç‰Œ:</strong> é«˜æŠ—"ç²¾ç¥"åœ£éª‘å£«ç›¾ (Lv 25)</li> <li><strong>å¤´ç›”:</strong> è°è§’ä¹‹å† (Shako)</li> <li><strong>è…°å¸¦:</strong> èœ˜è››ä¹‹ç½‘</li> <li><strong>æ‰‹å¥—:</strong> æ³•å¸ˆä¹‹æ‹³</li> </ul> </div> <div class="bg-stone-800 p-4 rounded-lg border border-stone-600"> <h4 class="font-bold text-lg text-amber-500 mb-2">æ¯•ä¸šè£…</h4> <ul class="list-disc list-inside text-stone-300 space-y-1"> <li><strong>æŠ¤ç”²:</strong> "è°œå›¢" (Lv 65) (æ ¸å¿ƒ)</li> <li><strong>æˆ’æŒ‡:</strong> åŒä¹”ä¸¹ä¹‹çŸ³</li> <li><strong>æŠ¤ç¬¦:</strong> é©¬æ‹‰çš„ä¸‡èŠ±ç­’</li> <li><strong>å…¶ä»–:</strong> èŒä¸šç«ç‚¬ã€æ¯ç­</li> </ul> </div> </div>`
                    }
                ]
            },
            sorceress: {
                title: 'å·«å¸ˆ - å…ƒç´ çš„å¥³ç‹',
                intro: 'å·«å¸ˆæ˜¯å…ƒç´ é­”æ³•çš„å¤§å¸ˆï¼Œæ›´æ‹¥æœ‰ç‹¬ä¸€æ— äºŒçš„ä¼ é€æŠ€èƒ½ï¼Œè¿™è®©å¥¹æˆä¸ºå½“ä¹‹æ— æ„§çš„å¼€è’å’ŒMFå¥³ç‹ã€‚è™½ç„¶èº«æ¿è„†å¼±ï¼Œä½†å¼ºå¤§çš„è¿œç¨‹ç«åŠ›ä¸æ— ä¸ä¼¦æ¯”çš„æœºåŠ¨æ€§ï¼Œè®©å¥¹å§‹ç»ˆæ˜¯æ¸¸æˆä¸­æœ€å—æ¬¢è¿çš„èŒä¸šã€‚',
                sections: [
                    {
                        title: 'ğŸŒ± Soloå¼€è’è·¯çº¿',
                        content: `<div class="bg-stone-800 p-4 rounded-lg border border-stone-600 text-stone-300 space-y-3"><p><strong>æŠ€èƒ½è·¯çº¿ (ç«ç³»è½¬å†°ç«åŒä¿®):</strong></p><ul class="list-disc list-inside pl-4 space-y-1"><li><strong>1-24çº§ (ç«ç³»):</strong> ä¸»åŠ  <span class="text-amber-400">ç«çƒ</span> åŠå…¶ååŒ <span class="text-amber-400">ç«ç„°å¼¹</span>ã€‚åŠ¡å¿…å­¦ä¹ 1çº§ <span class="text-amber-400">é™æ€åŠ›åœº</span> å’Œ1çº§ <span class="text-amber-400">ä¼ é€</span>ã€‚</li><li><strong>24çº§ä»¥å (åŒä¿®):</strong> å¼€å§‹ä¸»åŠ  <span class="text-amber-400">å†°å°çƒ</span> å’Œ <span class="text-amber-400">å†°å†·æ”¯é…</span>ã€‚ä¿ç•™ç«çƒä½œä¸ºå¯¹ä»˜å†°å…æ€ªçš„æ‰‹æ®µã€‚</li></ul><p><strong>å±æ€§åˆ†é…:</strong> åŠ›é‡å¤Ÿç©¿è£…å¤‡(ç²¾ç¥ç›¾éœ€156)ï¼Œå…¶ä½™å…¨ä½“åŠ›ã€‚</p><p><strong>å…³é”®è£…å¤‡:</strong> "å¶å­"æ³•æ–(Lv 19)(å‰æœŸç«æ³•), "éšç§˜"ç”²(Lv 17), "çŸ¥è¯†"å¤´(Lv 27), "ç²¾ç¥"å‰‘ç›¾ç»„åˆ(Lv 25)ã€‚ä½£å…µä½¿ç”¨"çœ¼å…‰"(Lv 27)ã€‚</p></div>`
                    },
                    {
                        title: 'ğŸ’¡ ä¸»æµç©æ³•æ„ç­‘',
                        content: `<div class="space-y-4"><div class="bg-stone-800 p-4 rounded-lg border border-stone-600"><h4 class="font-bold text-lg text-amber-400 mb-2">çº¯å†°å·«å¸ˆ (Blizzard Sorc)</h4><p class="text-stone-300">ä»¥æš´é£é›ªä¸ºæ ¸å¿ƒè¾“å‡ºï¼Œä¼¤å®³æé«˜ã€èŒƒå›´æå¤§ï¼Œæ˜¯MFæ•ˆç‡æœ€é«˜çš„Buildä¹‹ä¸€ã€‚è‡ªå¸¦å†°å†»å‡é€Ÿæ•ˆæœï¼Œéå¸¸å®‰å…¨ã€‚ç¼ºç‚¹æ˜¯æ— æ³•å¤„ç†å†°å…æ€ªï¼ŒFarmè·¯çº¿ç›¸å¯¹å›ºå®šã€‚</p></div><div class="bg-stone-800 p-4 rounded-lg border border-stone-600"><h4 class="font-bold text-lg text-amber-400 mb-2">çº¯ç”µå·«å¸ˆ (Lightning Sorc)</h4><p class="text-stone-300">ç†è®ºä¼¤å®³ä¸Šé™å…¨èŒä¸šæœ€é«˜ï¼Œæ¸…å±é€Ÿåº¦æå¿«ã€‚ä½†ä¼¤å®³æ³¢åŠ¨å¤§ä¸”æåº¦ä¾èµ–è£…å¤‡ï¼Œéœ€è¦ä½£å…µæŒæœ‰â€œæ— é™â€(Lv 63)ç ´é™¤å…ç–«æ‰èƒ½å‘æŒ¥å…¨éƒ¨å¨åŠ›ï¼Œæ˜¯å¤§åæœŸçš„é€‰æ‹©ã€‚</p></div><div class="bg-stone-800 p-4 rounded-lg border border-stone-600"><h4 class="font-bold text-lg text-amber-400 mb-2">å†°ç«åŒä¿®å·«å¸ˆ (Meteorb)</h4><p class="text-stone-300">åŒæ—¶ä¿®ä¹ ç«ç³»ï¼ˆé™¨çŸ³/ç«çƒï¼‰å’Œå†°ç³»ï¼ˆå†°å°çƒï¼‰ã€‚ä¼˜ç‚¹æ˜¯é€šå…³è¿‡ç¨‹å¹³æ»‘ï¼Œèƒ½åº”å¯¹ç»å¤§å¤šæ•°å…ç–«æ€ªç‰©ï¼Œéå¸¸é€‚åˆå•äººé€šå…³å’Œå…¨åœºæ™¯MFã€‚ç¼ºç‚¹æ˜¯ä¼¤å®³ä¸Šé™ä¸å¦‚å•ç³»ä¸“ç²¾ã€‚</p></div></div>`
                    },
                    {
                        title: 'ğŸ—ºï¸ MFåˆ·å®æ¨èåŒºåŸŸ',
                        content: `<ul class="list-disc list-inside text-stone-300 space-y-2 bg-stone-800 p-4 rounded-lg border border-stone-600"><li><strong class="text-amber-400">A1 - å®‰è¾¾åˆ©å°” (Andariel) & A3 - å¢¨è²æ–¯æ‰˜ (Mephisto)ï¼š</strong> çº¯å†°æ³•å¸ˆæœ€ç»å…¸çš„Boss Farmè·¯çº¿ï¼Œå¯ä»¥åˆ©ç”¨åœ°å½¢å¡ä½å®‰å…¨å‡»æ€ï¼Œæ˜¯ç§¯ç´¯åŸºç¡€è£…å¤‡çš„èµ·ç‚¹ã€‚</li><li><strong class="text-amber-400">A2 - å¤ä»£é€šé“ (Ancient Tunnels)ï¼š</strong> 85çº§åœºæ™¯ä¸”æ— å†°å…æ€ªï¼Œæ˜¯çº¯å†°æ³•å¸ˆçš„å¤©å ‚ã€‚</li><li><strong class="text-amber-400">å…¨åœ°å›¾ (éœ€è£…å¤‡æ”¯æŒ)ï¼š</strong> æ‹¥æœ‰â€œæ— é™â€(Lv 63)çš„çº¯ç”µæ³•å¸ˆå¯ä»¥æ— è§†å…ç–«ï¼Œä»¥æœ€é«˜æ•ˆç‡Farmä»»ä½•åœ°å›¾æˆ–ææ€–åœ°å¸¦ã€‚</li></ul>`
                    },
                     {
                        title: 'ğŸ¤º PVPç©æ³•ä¸å¯¹ç­–',
                        content: `<div class="bg-stone-800 p-4 rounded-lg border border-stone-600"><p class="text-stone-300"><strong class="text-amber-400">å†°ç³»å·«å¸ˆ</strong>ä¾é å‡é€Ÿå’Œæš´é£é›ªçš„çˆ†å‘è¿›è¡Œé£ç­ã€‚å¯¹ç­–æ˜¯å †æ»¡å†°æŠ—ã€è£…å¤‡é˜²å†»ï¼Œå¹¶ä¿æŒé«˜é€Ÿç§»åŠ¨é¿å…è¢«å‘½ä¸­ã€‚<br><strong class="text-amber-400">ç”µç³»å·«å¸ˆ</strong>å¸¸é…åˆèƒ½é‡æŠ¤ç›¾ï¼Œåˆ©ç”¨ä¼ é€è´´è„¸é‡Šæ”¾æ–°æ˜Ÿç§’æ€å¯¹æ‰‹ã€‚å¯¹ç­–æ˜¯å †å é—ªç”µæŠ—æ€§å’Œé—ªç”µå¸æ”¶è£…å¤‡ï¼Œå¹¶æ‹‰å¼€è·ç¦»ï¼Œåœ¨å…¶æŠ¤ç›¾è¢«æ‰“ç ´æ—¶åå‡»ã€‚</p></div>`
                    },
                    {
                        title: 'âš™ï¸ è£…å¤‡æˆé•¿è·¯çº¿',
                        content: `<div class="grid md:grid-cols-3 gap-4"> <div class="bg-stone-800 p-4 rounded-lg border border-stone-600"> <h4 class="font-bold text-lg text-amber-500 mb-2">è¿‡æ¸¡æœŸ</h4> <ul class="list-disc list-inside text-stone-300 space-y-1"> <li><strong>æ­¦å™¨:</strong> "å¶å­"æ³•æ– (Lv 19) (ç«ç³»), "ç²¾ç¥"å‰‘ (Lv 25)</li> <li><strong>ç›¾ç‰Œ:</strong> "ç²¾ç¥"ç›¾ (Lv 25)</li> <li><strong>å¤´ç›”:</strong> "çŸ¥è¯†" (Lv 27)</li> <li><strong>æŠ¤ç”²:</strong> "éšç§˜" (Lv 17)</li> <li><strong>ä½£å…µ:</strong> "çœ¼å…‰"é•¿æŸ„æ­¦å™¨ (Lv 27)</li> </ul> </div> <div class="bg-stone-800 p-4 rounded-lg border border-stone-600"> <h4 class="font-bold text-lg text-amber-500 mb-2">æˆå‹æœŸ</h4> <ul class="list-disc list-inside text-stone-300 space-y-1"> <li><strong>å¥—è£…:</strong> å¡”æ‹‰å¤çš„åŒ–èº« (æ€§ä»·æ¯”æé«˜)</li> <li><strong>æ•£ä»¶:</strong> å¥¥åº“æ–¯æ³•æ–, è°è§’ä¹‹å† , è›‡é­”æ³•å¸ˆä¹‹çš®, èœ˜è››ä¹‹ç½‘</li> <li><strong>æˆ’æŒ‡/é¡¹é“¾:</strong> ä¹”ä¸¹ä¹‹çŸ³, é©¬æ‹‰çš„ä¸‡èŠ±ç­’</li> </ul> </div> <div class="bg-stone-800 p-4 rounded-lg border border-stone-600"> <h4 class="font-bold text-lg text-amber-500 mb-2">æ¯•ä¸šè£… (çº¯ç”µ/çº¯å†°)</h4> <ul class="list-disc list-inside text-stone-300 space-y-1"> <li><strong>ä½£å…µæ­¦å™¨:</strong> "æ— é™" (Lv 63) (ç”µæ³•æ ¸å¿ƒ)</li> <li><strong>å¤´ç›”:</strong> æ ¼é‡ŒèŠ¬ä¹‹çœ¼ (ç”µæ³•), å¤œç¿¼é¢çº± (å†°æ³•)</li> <li><strong>æ­¦å™¨:</strong> æ­»äº¡æ·±åº¦ (å†°æ³•), "æ–°æœˆ"(Lv 47)/è‰¾æ–¯å±ˆå¡” (ç”µæ³•)</li> <li><strong>æŠ¤ç”²:</strong> "è°œå›¢" (Lv 65) æˆ– "è£è€€ä¹‹é“¾" (Lv 63)</li> </ul> </div> </div>`
                    }
                ]
            },
            amazon: {
                title: 'äºšé©¬é€Š - æ ‡æªä¸å¼“ç®­çš„å¥³æ­¦ç¥',
                intro: 'äºšé©¬é€Šæ˜¯è¿œç¨‹ç‰©ç†å’Œå…ƒç´ ä¼¤å®³çš„ä¸“å®¶ã€‚æ ‡æªç³»æ“…é•¿å¤§è§„æ¨¡æ¸…åœºï¼Œå°¤å…¶åœ¨ç§˜å¯†å¥¶ç‰›å…³ä¸­æ‰€å‘æŠ«é¡ï¼›å¼“ç®­ç³»åˆ™æ˜¯ç»å…¸çš„è¿œç¨‹ç‰©ç†å°„æ‰‹ã€‚è¯¥èŒä¸šå¯¹è£…å¤‡å’Œæ“ä½œæœ‰ä¸€å®šè¦æ±‚ï¼Œæ›´é€‚åˆæœ‰ç»éªŒçš„ç©å®¶ã€‚',
                sections: [
                    {
                        title: 'ğŸŒ± Soloå¼€è’è·¯çº¿',
                        content: `<div class="bg-stone-800 p-4 rounded-lg border border-stone-600 text-stone-300 space-y-3"><p><strong>æŠ€èƒ½è·¯çº¿ (æ ‡æª):</strong></p><ul class="list-disc list-inside pl-4 space-y-1"><li><strong>åˆæœŸ:</strong> ä½¿ç”¨ <span class="text-amber-400">å‰§æ¯’æ ‡æª</span> è¿‡æ¸¡ã€‚</li><li><strong>ä¸­æœŸ (18çº§+):</strong> ä¸»åŠ›å•ä½“æŠ€èƒ½ <span class="text-amber-400">å……èƒ½ä¸€å‡»</span>ã€‚</li><li><strong>åæœŸ (30çº§+):</strong> ä¸»åŠ›æ¸…åœºæŠ€èƒ½ <span class="text-amber-400">é—ªç”µä¹‹æ€’</span>ã€‚ä¼˜å…ˆåŠ æ»¡ <span class="text-amber-400">é—ªç”µä¹‹æ€’</span> å’Œ <span class="text-amber-400">å……èƒ½ä¸€å‡»</span> åŠå…¶ååŒæŠ€èƒ½ã€‚</li></ul><p><strong>å±æ€§åˆ†é…:</strong> åŠ›é‡å¤Ÿç©¿è£…å¤‡ï¼Œæ•æ·åŠ åˆ°æ»¡è¶³æ ¼æŒ¡æˆ–è£…å¤‡éœ€æ±‚ï¼Œå…¶ä½™å…¨ä½“åŠ›ã€‚</p><p><strong>å…³é”®è£…å¤‡:</strong> "éšç§˜"ç”²(Lv 17), "çŸ¥è¯†"å¤´(Lv 27)ã€‚æ ‡æªäºšé©¬é€Šæ ¸å¿ƒæ˜¯+æŠ€èƒ½è£…å¤‡ã€‚ä½£å…µä½¿ç”¨"çœ¼å…‰"(Lv 27)ã€‚</p></div>`
                    },
                     {
                        title: 'ğŸ’¡ ä¸»æµç©æ³•æ„ç­‘',
                        content: `<div class="space-y-4"><div class="bg-stone-800 p-4 rounded-lg border border-stone-600"><h4 class="font-bold text-lg text-amber-400 mb-2">æ ‡æªç”µç–—äºšé©¬é€Š (Lightning Javazon)</h4><p class="text-stone-300">ä»¥é—ªç”µä¹‹æ€’å’Œå……èƒ½ä¸€å‡»ä¸ºæ ¸å¿ƒï¼Œè¢«èª‰ä¸ºâ€œå¥¶ç‰›åœºæ€æ‰‹â€ã€‚æ€ªç‰©è¶Šå¤šï¼Œé—ªç”µä¹‹æ€’çš„æ¸…åœºæ•ˆç‡è¶Šé«˜ã€‚å¯¹å•ä½“Bossï¼Œå……èƒ½ä¸€å‡»èƒ½é€ æˆæ¯ç­æ€§ä¼¤å®³ã€‚éœ€è¦â€œæ— é™â€(Lv 63)å…‰ç¯æ¥è§£å†³é—ªç”µå…ç–«é—®é¢˜ã€‚</p></div><div class="bg-stone-800 p-4 rounded-lg border border-stone-600"><h4 class="font-bold text-lg text-amber-400 mb-2">å¼“ç®­ç‰©ç†äºšé©¬é€Š (Bowazon)</h4><p class="text-stone-300">ä»¥å¤šé‡ç®­å’Œå¯¼å¼•ç®­ä¸ºä¸»è¦è¾“å‡ºæ‰‹æ®µçš„ç‰©ç†å¼“æ‰‹ã€‚æ²¡æœ‰å…ƒç´ å…ç–«çƒ¦æ¼ï¼Œä½†æåº¦ä¾èµ–é«˜ç«¯è£…å¤‡ï¼Œæ ¸å¿ƒæ˜¯â€œä¿¡å¿ƒâ€(Lv 65)ç¬¦æ–‡å¼“æä¾›çš„ç‹‚çƒ­å…‰ç¯ï¼Œä»¥åŠâ€œåˆšæ¯…â€(Lv 59)ç”²æä¾›çš„å·¨é¢ç‰©ç†å¢ä¼¤ã€‚</p></div></div>`
                    },
                     {
                        title: 'ğŸ—ºï¸ MFåˆ·å®æ¨èåŒºåŸŸ',
                        content: `<ul class="list-disc list-inside text-stone-300 space-y-2 bg-stone-800 p-4 rounded-lg border border-stone-600"><li><strong class="text-amber-400">ç§˜å¯†å¥¶ç‰›å…³ï¼š</strong> æ ‡æªäºšé©¬é€Šçš„é¦–é€‰å¤©å ‚ï¼Œæ€ªç‰©å¯†é›†ä¸”æ— ç”µå…ï¼Œå®Œç¾å¥‘åˆé—ªç”µä¹‹æ€’ã€‚</li><li><strong class="text-amber-400">A1 - æ³°æ‘©é«˜åœ° -> åœ°ç©´ (The Pit)ï¼š</strong> 85çº§åœºæ™¯ï¼Œç‰©ç†å¼“äºšé©¬é€Šå’Œæ‹¥æœ‰â€œæ— é™â€(Lv 63)çš„æ ‡æªäºšé©¬é€Šå‡å¯é«˜æ•ˆFarmã€‚</li><li><strong class="text-amber-400">A4 - æ··æ²Œé­”æ®¿ (Chaos Sanctuary)ï¼š</strong> å¯¹è£…å¤‡è¦æ±‚é«˜ï¼Œéœ€è¦â€œæ— é™â€(Lv 63)æˆ–ç ´å…æ‰‹æ®µå¤„ç†ç”µå…æ€ªã€‚</li></ul>`
                    },
                    {
                        title: 'ğŸ¤º PVPç©æ³•ä¸å¯¹ç­–',
                        content: `<div class="bg-stone-800 p-4 rounded-lg border border-stone-600"><p class="text-stone-300"><strong class="text-amber-400">å¼“ç®­äºšé©¬é€Š</strong>æ˜¯ç»å…¸çš„PVPè§’è‰²ï¼Œä¾é é«˜æ”»é€Ÿçš„å¯¼å¼•ç®­è¿›è¡Œè¿œç¨‹å‹åˆ¶ã€‚å¯¹ç­–æ˜¯å¿«é€Ÿè¿‘èº«ï¼Œä¸ç»™å¥¹é£ç­çš„ç©ºé—´ã€‚<strong class="text-amber-400">æ ‡æªäºšé©¬é€Š</strong>åˆ™ä¾é è´´è„¸å……èƒ½ä¸€å‡»æˆ–å‰§æ¯’æ ‡æªæ‰“Hit&Runï¼Œå¯¹ç­–æ˜¯ä¿æŒè·ç¦»å’Œå‡†å¤‡è§£æ¯’è¯æ°´ã€‚</p></div>`
                    },
                    {
                        title: 'âš™ï¸ è£…å¤‡æˆé•¿è·¯çº¿',
                        content: `<div class="grid md:grid-cols-3 gap-4"> <div class="bg-stone-800 p-4 rounded-lg border border-stone-600"> <h4 class="font-bold text-lg text-amber-500 mb-2">è¿‡æ¸¡æœŸ</h4> <ul class="list-disc list-inside text-stone-300 space-y-1"> <li><strong>æ­¦å™¨:</strong> +æŠ€èƒ½æ ‡æª, "å’Œé£"å¼“ (Lv 21)</li> <li><strong>å¤´ç›”:</strong> "çŸ¥è¯†" (Lv 27)</li> <li><strong>æŠ¤ç”²:</strong> "éšç§˜" (Lv 17), "å’Œå¹³" (Lv 29)</li> <li><strong>ä½£å…µ:</strong> "çœ¼å…‰"é•¿æŸ„æ­¦å™¨ (Lv 27)</li> </ul> </div> <div class="bg-stone-800 p-4 rounded-lg border border-stone-600"> <h4 class="font-bold text-lg text-amber-500 mb-2">æˆå‹æœŸ (æ ‡æª)</h4> <ul class="list-disc list-inside text-stone-300 space-y-1"> <li><strong>æ­¦å™¨:</strong> æ³°å¦çš„å¤ä»‡</li> <li><strong>å¤´ç›”:</strong> å®‰è¾¾åˆ©å°”çš„é¢å®¹</li> <li><strong>è…°å¸¦:</strong> å‰ƒåˆ€ä¹‹å°¾</li> <li><strong>æ‰‹å¥—:</strong> å®‰ç½®æ‰‹</li> <li><strong>ç›¾ç‰Œ:</strong> "ç²¾ç¥" (Lv 25)</li> </ul> </div> <div class="bg-stone-800 p-4 rounded-lg border border-stone-600"> <h4 class="font-bold text-lg text-amber-500 mb-2">æ¯•ä¸šè£… (æ ‡æª/å¼“)</h4> <ul class="list-disc list-inside text-stone-300 space-y-1"> <li><strong>ä½£å…µæ­¦å™¨:</strong> "æ— é™" (Lv 63) (æ ‡æª)</li> <li><strong>æŠ¤ç”²:</strong> "è°œå›¢" (Lv 65) (æ ‡æª), "åˆšæ¯…" (Lv 59) (å¼“)</li> <li><strong>å¤´ç›”:</strong> æ ¼é‡ŒèŠ¬ä¹‹çœ¼ (æ ‡æª)</li> <li><strong>æ­¦å™¨:</strong> "ä¿¡å¿ƒ"å¼“ (Lv 65) (å¼“)</li> </ul> </div> </div>`
                    }
                ]
            },
            assassin: {
                title: 'çŒæ³•è€… - æš—å½±ä¸­çš„åˆ©åˆƒ',
                intro: 'çŒæ³•è€…ç²¾é€šé™·é˜±ä¸æ­¦å­¦ä¸¤ç§æˆªç„¶ä¸åŒçš„æˆ˜æ–—æ–¹å¼ã€‚é™·é˜±æµå®‰å…¨é«˜æ•ˆï¼Œæ˜¯å¼€è’é¦–é€‰ï¼›æ­¦å­¦æµåœ¨â€œé©¬èµ›å…‹â€ç¬¦æ–‡ä¹‹è¯­çš„åŠ æŒä¸‹å¼ºåŠ¿å´›èµ·ï¼Œæˆä¸ºåæœŸå¼ºåŠ›ç©æ³•ã€‚å¥¹æ˜¯ä¸€ä½é›†æ§åˆ¶ã€çˆ†å‘å’Œæˆ˜æœ¯äºä¸€èº«çš„å¤šé¢æ‰‹ã€‚',
                sections: [
                    {
                        title: 'ğŸŒ± Soloå¼€è’è·¯çº¿',
                        content: `<div class="bg-stone-800 p-4 rounded-lg border border-stone-600 text-stone-300 space-y-3"><p><strong>æŠ€èƒ½è·¯çº¿ (é™·é˜±):</strong></p><ul class="list-disc list-inside pl-4 space-y-1"><li><strong>1-24çº§:</strong> ä½¿ç”¨ <span class="text-amber-400">ç«ç„°çˆ†éœ‡</span> ä½œä¸ºä¸»è¦è¾“å‡ºã€‚</li><li><strong>24çº§ä»¥å:</strong> æ ¸å¿ƒæŠ€èƒ½ <span class="text-amber-400">é›·å…‰å®ˆå«</span> (ä¼˜å…ˆåŠ æ»¡) å’Œ <span class="text-amber-400">äº¡è€…å®ˆå«</span> (å°¸çˆ†æ¸…åœº)ã€‚</li><li><strong>è¾…åŠ©æŠ€èƒ½:</strong> 1ç‚¹ <span class="text-amber-400">é­”å½±æ–—ç¯·</span> (æ§åœº), 1ç‚¹ <span class="text-amber-400">å¿ƒçµçˆ†éœ‡</span> (ä¿å‘½), 1ç‚¹ <span class="text-amber-400">æš—å½±å®—å¸ˆ</span> (è‚‰ç›¾)ã€‚</li></ul><p><strong>å±æ€§åˆ†é…:</strong> åŠ›é‡å¤Ÿç©¿è£…å¤‡ï¼Œæ•æ·æ»¡è¶³è£…å¤‡éœ€æ±‚ï¼Œå…¶ä½™å…¨ä½“åŠ›ã€‚</p><p><strong>å…³é”®è£…å¤‡:</strong> æ ¸å¿ƒæ˜¯+é™·é˜±æŠ€èƒ½çš„çˆªå­ã€‚"éšç§˜"ç”²(Lv 17), "çŸ¥è¯†"å¤´(Lv 27)ã€‚å¯å‡†å¤‡"ç²¾ç¥"å‰‘ç›¾(Lv 25)ä½œä¸ºå‰¯æ‰‹åˆ‡è£…æ”¾é™·é˜±ã€‚ä½£å…µä½¿ç”¨"çœ¼å…‰"(Lv 27)ã€‚</p></div>`
                    },
                     {
                        title: 'ğŸ’¡ ä¸»æµç©æ³•æ„ç­‘',
                        content: `<div class="space-y-4"><div class="bg-stone-800 p-4 rounded-lg border border-stone-600"><h4 class="font-bold text-lg text-amber-400 mb-2">é™·é˜±çŒæ³•è€… (Trapsin)</h4><p class="text-stone-300">ä»¥é›·å…‰å®ˆå«å’Œäº¡è€…å®ˆå«ä¸ºæ ¸å¿ƒè¾“å‡ºã€‚ç©æ³•éå¸¸å®‰å…¨ï¼Œé€šè¿‡é™·é˜±è¿›è¡Œè¿œç¨‹æ”»å‡»ï¼Œå¹¶åˆ©ç”¨äº¡è€…å®ˆå«çš„å°¸çˆ†æ•ˆæœæ¸…åœºã€‚æ ¸å¿ƒæ˜¯å †å +é™·é˜±æŠ€èƒ½ç­‰çº§ã€‚</p></div><div class="bg-stone-800 p-4 rounded-lg border border-stone-600"><h4 class="font-bold text-lg text-amber-400 mb-2">é©¬èµ›å…‹æ­¦å­¦çŒæ³•è€… (Mosaic Sin)</h4><p class="text-stone-300">2.6ç‰ˆæœ¬å´›èµ·çš„è¶…å¼ºåŠ›ç©æ³•ã€‚åŒæŒâ€œé©¬èµ›å…‹â€(Lv 53)çˆªåï¼Œç»ˆç»“æŠ€ä¸å†æ¶ˆè€—èšæ°”ï¼Œå¯ä»¥åŒæ—¶è§¦å‘å†°ã€ç«ã€ç”µä¸‰ç³»å…ƒç´ æ•ˆæœï¼Œæ¸…åœºèƒ½åŠ›æå¼ºï¼Œä¸”ä¸å—å•ä¸€å…ç–«é™åˆ¶ã€‚ä½†éœ€è¦è¿‘èº«ä½œæˆ˜ï¼Œæ“ä½œè¦æ±‚é«˜ã€‚</p></div><div class="bg-stone-800 p-4 rounded-lg border border-stone-600"><h4 class="font-bold text-lg text-amber-400 mb-2">è¸¢å‡»çŒæ³•è€… (Kicksin)</h4><p class="text-stone-300">åˆ©ç”¨é¾™çˆª/é¾™å°¾çš„é«˜è¿å‡»æ¬¡æ•°å åŠ å‹ç¢æ€§æ‰“å‡»(CB)æ•ˆæœï¼Œæ˜¯ä¸“é—¨ç”¨æ¥å‡»æ€è¶…çº§Bossçš„Buildä¹‹ä¸€ï¼Œå¯ä»¥å•æŒ‘Uberä¸‰ç‹è·å–ç«ç‚¬ã€‚</p></div></div>`
                    },
                    {
                        title: 'ğŸ—ºï¸ MFåˆ·å®æ¨èåŒºåŸŸ',
                        content: `<ul class="list-disc list-inside text-stone-300 space-y-2 bg-stone-800 p-4 rounded-lg border border-stone-600"><li><strong class="text-amber-400">A1 - å¥³ä¼¯çˆµ (Countess)ï¼š</strong> é™·é˜±åˆºå®¢åˆ·ä½ä¸­çº§ç¬¦æ–‡çš„ç»ä½³åœ°ç‚¹ï¼Œå¯ä»¥éš”å¢™æ”¾ç½®é™·é˜±å®‰å…¨å‡»æ€ã€‚</li><li><strong class="text-amber-400">A5 - å°¼æ‹‰å¡å…‹ (Nihlathak)ï¼š</strong> åˆ©ç”¨äº¡è€…å®ˆå«æŠ¢å…ˆå¼•çˆ†å°¸ä½“ï¼Œå¯ä»¥éå¸¸å®‰å…¨åœ°Farmæ¯ç­ä¹‹é’¥ã€‚</li><li><strong class="text-amber-400">Uberå´”æ–¯ç‰¹å§† (Uber Tristram)ï¼š</strong> è¸¢å‡»åˆºå®¢æ˜¯é™¤åœ£éª‘å£«å¤–ï¼Œå•æŒ‘ä¸‰é­”ç‹çš„åˆä¸€é€‰æ‹©ã€‚</li></ul>`
                    },
                    {
                        title: 'ğŸ¤º PVPç©æ³•ä¸å¯¹ç­–',
                        content: `<div class="bg-stone-800 p-4 rounded-lg border border-stone-600"><p class="text-stone-300"><strong class="text-amber-400">é™·é˜±åˆºå®¢</strong>é€šè¿‡å¸ƒç½®é™·é˜±é˜µå’Œå¿ƒçµçˆ†éœ‡çš„â€œé”å¤´â€æ§åˆ¶å¯¹æ‰‹ã€‚å¯¹ç­–æ˜¯æé«˜ç”µæŠ—å’Œå¸æ”¶ï¼Œå¹¶ä¿æŒç§»åŠ¨æ‰“ä¹±å…¶èŠ‚å¥ã€‚<strong class="text-amber-400">å¹½çµåˆºå®¢</strong>åˆ©ç”¨â€œæ··æ²Œâ€(Lv 57)çˆªçš„æ—‹é£æ–©è¿›è¡Œè´´èº«ç¼ æ–—ï¼Œå¯¹ç­–æ˜¯ä½¿ç”¨åœ£éª‘å£«çš„ç›¾å‡»æ‰“æ–­æˆ–æ³•å¸ˆçš„é«˜é¢‘ä¼ é€æ‹‰å¼€è·ç¦»ã€‚</p></div>`
                    },
                    {
                        title: 'âš™ï¸ è£…å¤‡æˆé•¿è·¯çº¿',
                        content: `<div class="grid md:grid-cols-3 gap-4"> <div class="bg-stone-800 p-4 rounded-lg border border-stone-600"> <h4 class="font-bold text-lg text-amber-500 mb-2">è¿‡æ¸¡æœŸ (é™·é˜±)</h4> <ul class="list-disc list-inside text-stone-300 space-y-1"> <li><strong>æ­¦å™¨:</strong> +3é™·é˜±æŠ€èƒ½çˆª</li> <li><strong>å¤´ç›”:</strong> "çŸ¥è¯†" (Lv 27)</li> <li><strong>æŠ¤ç”²:</strong> "éšç§˜" (Lv 17), "çƒŸé›¾" (Lv 37)</li> <li><strong>å‰¯æ‰‹:</strong> "ç²¾ç¥"å‰‘ç›¾ (Lv 25)</li> <li><strong>ä½£å…µ:</strong> "çœ¼å…‰" (Lv 27)</li> </ul> </div> <div class="bg-stone-800 p-4 rounded-lg border border-stone-600"> <h4 class="font-bold text-lg text-amber-500 mb-2">æˆå‹æœŸ (é™·é˜±/æ­¦å­¦)</h4> <ul class="list-disc list-inside text-stone-300 space-y-1"> <li><strong>æ­¦å™¨:</strong> åŒ"é©¬èµ›å…‹"çˆª (Lv 53) (æ­¦å­¦)</li> <li><strong>å¤´ç›”:</strong> è°è§’ä¹‹å†  (é™·é˜±), å‰æ‹‰çš„å®ˆæŠ¤ (æ­¦å­¦)</li> <li><strong>æŠ¤ç”²:</strong> "èƒŒä¿¡" (Lv 43) (é€šç”¨), "è°œå›¢" (Lv 65) (é™·é˜±)</li> <li><strong>æ‰‹å¥—:</strong> å¾·å¤æ‹‰ä¹‹æ¡ (æ­¦å­¦)</li> </ul> </div> <div class="bg-stone-800 p-4 rounded-lg border border-stone-600"> <h4 class="font-bold text-lg text-amber-500 mb-2">æ¯•ä¸šè£… (é™·é˜±/æ­¦å­¦)</h4> <ul class="list-disc list-inside text-stone-300 space-y-1"> <li><strong>å¤´ç›”:</strong> æ ¼é‡ŒèŠ¬ä¹‹çœ¼ (é™·é˜±)</li> <li><strong>æŠ¤ç”²:</strong> "åˆšæ¯…" (Lv 59) (æ­¦å­¦), "è°œå›¢" (Lv 65) (é€šç”¨)</li> <li><strong>ä½£å…µæ­¦å™¨:</strong> "æ— é™" (Lv 63) (é™·é˜±)</li> <li><strong>æˆ’æŒ‡:</strong> åŒä¹”ä¸¹ä¹‹çŸ³ (é™·é˜±)</li> </ul> </div> </div>`
                    }
                ]
            },
            barbarian: {
                title: 'é‡è›®äºº - æˆ˜åœºçš„æ€’å¼',
                intro: 'é‡è›®äººæ˜¯ä¼ ç»Ÿçš„è¿‘æˆ˜ä¹‹ç‹ä¸å›¢é˜Ÿçš„æ”¯æŸ±ã€‚ä»–æ‹¥æœ‰å…¨èŒä¸šæœ€é«˜çš„ç”Ÿå‘½æˆé•¿å’Œå¼ºå¤§çš„æˆ˜æ–—å¼å«ï¼Œèƒ½æå¤§åœ°å¢å¼ºè‡ªå·±å’Œé˜Ÿå‹çš„ç”Ÿå­˜èƒ½åŠ›ã€‚è™½ç„¶å¼€è’è¾ƒä¸ºè‰°éš¾ï¼Œä½†æˆå‹åæ˜¯å›¢é˜Ÿä¸­ä¸å¯æˆ–ç¼ºçš„è¾…åŠ©å’Œâ€œæ‰“é’±â€ä¸“å®¶ã€‚',
                sections: [
                    {
                        title: 'ğŸŒ± Soloå¼€è’è·¯çº¿',
                        content: `<div class="bg-stone-800 p-4 rounded-lg border border-stone-600 text-stone-300 space-y-3"><p><strong>æŠ€èƒ½è·¯çº¿ (åŒæŒ¥è½¬æ—‹é£):</strong></p><ul class="list-disc list-inside pl-4 space-y-1"><li><strong>åˆæœŸ:</strong> ä½¿ç”¨ <span class="text-amber-400">åŒæ‰‹æŒ¥èˆ</span> (4çº§å0è“è€—) æ¸…æ€ªã€‚</li><li><strong>ä¸­æœŸ (24çº§+):</strong> æ ¸å¿ƒç”Ÿå­˜æŠ€èƒ½ <span class="text-amber-400">æˆ˜æ–—ä½“åˆ¶</span> (ä¼˜å…ˆåŠ æ»¡)ã€‚</li><li><strong>åæœŸ (30çº§+):</strong> ä¸»åŠ›è¾“å‡ºæŠ€èƒ½ <span class="text-amber-400">æ—‹é£æ–©</span>ã€‚å¹¶æ ¹æ®æ­¦å™¨ç±»å‹åŠ æ»¡å¯¹åº”çš„ <span class="text-amber-400">æ­¦å™¨æŒæ¡</span>ã€‚</li></ul><p><strong>å±æ€§åˆ†é…:</strong> åŠ›é‡å¤Ÿç©¿è£…å¤‡ï¼Œæ•æ·æ»¡è¶³è£…å¤‡å’Œå‘½ä¸­éœ€æ±‚ï¼Œå…¶ä½™å…¨ä½“åŠ›ã€‚</p><p><strong>å…³é”®è£…å¤‡:</strong> åŒæŒ"é’¢é“"(Lv 13)æ­¦å™¨å¼€è’ã€‚ä¸­æœŸå¯å‡‘é½ä¸æœ½ä¹‹ç‹(IK)å¥—è£…éƒ¨ä»¶ã€‚å¤´ç›”ç›®æ ‡æ˜¯äºšç‘ç‰¹çš„é¢å®¹ã€‚ä½£å…µä½¿ç”¨"çœ¼å…‰"(Lv 27)ã€‚</p></div>`
                    },
                     {
                        title: 'ğŸ’¡ ä¸»æµç©æ³•æ„ç­‘',
                        content: `<div class="space-y-4"><div class="bg-stone-800 p-4 rounded-lg border border-stone-600"><h4 class="font-bold text-lg text-amber-400 mb-2">æ—‹é£æ–©é‡è›®äºº (Whirlwind Barb)</h4><p class="text-stone-300">ç»å…¸çš„WWæµæ´¾ï¼Œé€šè¿‡æ—‹é£æ–©åœ¨æ€ªç‰©ç¾¤ä¸­æ¥å›ç©¿æ¢­é€ æˆä¼¤å®³ã€‚é€‚åˆå¼€é˜”åœ°å½¢ï¼Œè£…å¤‡æˆå‹åæ¸…åœºèƒ½åŠ›ä¸ä¿—ã€‚æ˜¯PVPä¸­çš„è¿‘æˆ˜éœ¸ä¸»ä¹‹ä¸€ã€‚</p></div><div class="bg-stone-800 p-4 rounded-lg border border-stone-600"><h4 class="font-bold text-lg text-amber-400 mb-2">ç‹‚ä¹±é‡è›®äºº (Frenzy Barb)</h4><p class="text-stone-300">é€šè¿‡è¿ç»­æ”»å‡»å åŠ ç§»åŠ¨å’Œæ”»å‡»é€Ÿåº¦ï¼Œè¶Šæ‰“è¶Šå¿«ã€‚åœ¨è·‘å›¾å’Œå•ä½“è¾“å‡ºä¸Šæœ‰ä¼˜åŠ¿ï¼Œæ‰“å‡»æ„Ÿåè¶³ã€‚ä½†æ¸…ç¾¤èƒ½åŠ›å’Œå®‰å…¨æ€§ç¨é€Šäºæ—‹é£æµã€‚</p></div><div class="bg-stone-800 p-4 rounded-lg border border-stone-600"><h4 class="font-bold text-lg text-amber-400 mb-2">æ‰“é’±é‡è›®äºº (Gold Find Barb)</h4><p class="text-stone-300">ç‰¹åŒ–Buildï¼Œåˆ©ç”¨â€œå¯»æ‰¾ç‰©å“â€æŠ€èƒ½åœ¨å´”å‡¡å…‹ç­‰åœºæ™¯åå¤å‡»æ€è®®ä¼šæˆå‘˜å¹¶ç¿»æ‰¾å°¸ä½“ï¼Œä»¥è·å–å¤§é‡é‡‘å¸å’Œé«˜çº§ç¬¦æ–‡ã€‚æ˜¯åæœŸé‡è¦çš„è´¢å¯Œæ¥æºã€‚</p></div></div>`
                    },
                    {
                        title: 'ğŸ—ºï¸ MFåˆ·å®æ¨èåŒºåŸŸ',
                        content: `<ul class="list-disc list-inside text-stone-300 space-y-2 bg-stone-800 p-4 rounded-lg border border-stone-600"><li><strong class="text-amber-400">A3 - å´”å‡¡å…‹é«˜é˜¶è®®ä¼š (Travincal Council)ï¼š</strong> é‡è›®äººåˆ·é’±å’Œåˆ·é«˜çº§ç¬¦æ–‡çš„åœ£åœ°ã€‚é«˜æŠ—æ€§è®©ä»–èƒ½ç¡¬æŠ—è®®ä¼šæˆå‘˜çš„æ”»å‡»ï¼Œå‡»æ€åè¿˜èƒ½ç”¨â€œå¯»æ‰¾ç‰©å“â€è·å¾—é¢å¤–æ‰è½ã€‚</li><li><strong class="text-amber-400">ç»„é˜ŸMFï¼š</strong> åœ¨å¤šäººæ¸¸æˆä¸­ï¼Œé‡è›®äººæ˜¯é¡¶çº§çš„è¾…åŠ©ã€‚æä¾›æˆ˜æ–—ä½“åˆ¶(BO)å¼è¡€ï¼Œå¹¶å¯¹æ‰€æœ‰å°¸ä½“ä½¿ç”¨â€œå¯»æ‰¾ç‰©å“â€ï¼Œèƒ½æ˜¾è‘—æé«˜æ•´ä¸ªé˜Ÿä¼çš„æ‰å®æ€»é‡ã€‚</li></ul>`
                    },
                    {
                        title: 'ğŸ¤º PVPç©æ³•ä¸å¯¹ç­–',
                        content: `<div class="bg-stone-800 p-4 rounded-lg border border-stone-600"><p class="text-stone-300"><strong class="text-amber-400">æ—‹é£é‡è›®äºº</strong>æ˜¯PVPè¿‘æˆ˜éœ¸ä¸»ã€‚åˆ©ç”¨é«˜é€Ÿæ—‹é£å’Œè·³è·ƒçš„å‡»é€€è¿›è¡Œæ§åœºå’Œè¾“å‡ºã€‚å¯¹ç­–æ˜¯é¿å…æ­£é¢ç¡¬æ‹¼ï¼Œåˆ©ç”¨ç¬ç§»å’Œéšœç¢ç‰©æ‹‰æ‰¯ï¼Œåœ¨å…¶æ—‹é£ç»“æŸçš„ç¡¬ç›´æ—¶åå‡»ã€‚</p></div>`
                    },
                    {
                        title: 'âš™ï¸ è£…å¤‡æˆé•¿è·¯çº¿',
                        content: `<div class="grid md:grid-cols-3 gap-4"> <div class="bg-stone-800 p-4 rounded-lg border border-stone-600"> <h4 class="font-bold text-lg text-amber-500 mb-2">è¿‡æ¸¡æœŸ</h4> <ul class="list-disc list-inside text-stone-300 space-y-1"> <li><strong>æ­¦å™¨:</strong> åŒ"é’¢é“" (Lv 13), "è£è€€" (Lv 27)</li> <li><strong>å¥—è£…:</strong> ä¸æœ½ä¹‹ç‹ (IK) éƒ¨åˆ†ç»„ä»¶</li> <li><strong>æŠ¤ç”²:</strong> "çƒŸé›¾" (Lv 37), "ç‹®å¿ƒ" (Lv 41)</li> <li><strong>æˆ’æŒ‡:</strong> ä¹Œé¸¦ä¹‹éœœ</li> <li><strong>ä½£å…µ:</strong> "çœ¼å…‰" (Lv 27)</li> </ul> </div> <div class="bg-stone-800 p-4 rounded-lg border border-stone-600"> <h4 class="font-bold text-lg text-amber-500 mb-2">æˆå‹æœŸ</h4> <ul class="list-disc list-inside text-stone-300 space-y-1"> <li><strong>æ­¦å™¨:</strong> "èª“çº¦" (Lv 49) (æ€§ä»·æ¯”ä¹‹ç‹)</li> <li><strong>å¤´ç›”:</strong> äºšç‘ç‰¹çš„é¢å®¹ (æ ¸å¿ƒ)</li> <li><strong>æŠ¤ç”²:</strong> "èƒŒä¿¡" (Lv 43)</li> <li><strong>è…°å¸¦:</strong> ç»´å°”å‡¯çš„èµç½ª</li> <li><strong>æ‰‹å¥—:</strong> å¾·å¤æ‹‰ä¹‹æ¡</li> </ul> </div> <div class="bg-stone-800 p-4 rounded-lg border border-stone-600"> <h4 class="font-bold text-lg text-amber-500 mb-2">æ¯•ä¸šè£…</h4> <ul class="list-disc list-inside text-stone-300 space-y-1"> <li><strong>æ­¦å™¨:</strong> åŒ"æ‚”æ¨"ç›¸ä½å‰‘ (Lv 59)</li> <li><strong>æŠ¤ç”²:</strong> "è°œå›¢" (Lv 65) (æœºåŠ¨æ€§) æˆ– "åˆšæ¯…" (Lv 59) (ä¼¤å®³)</li> <li><strong>å¤´ç›”:</strong> äºšç‘ç‰¹çš„é¢å®¹ (å‡çº§)</li> <li><strong>æˆ’æŒ‡:</strong> åŒå¸æˆ’æŒ‡+ä¹Œé¸¦ä¹‹éœœ</li> </ul> </div> </div>`
                    }
                ]
            },
            druid: {
                title: 'å¾·é²ä¼Š - è‡ªç„¶çš„å®ˆæŠ¤è€…',
                intro: 'å¾·é²ä¼Šæ˜¯ä¸€ä½ç©æ³•å¤šæ ·çš„èŒä¸šï¼Œä»–èƒ½å¬å”¤çŒ›å…½ã€é©¾é©­å…ƒç´ ã€å˜èº«é‡å…½ã€‚é£ç³»å¾·é²ä¼Šæ˜¯PVMä¸­çš„å…¨èƒ½å¥½æ‰‹ï¼Œæ”»é˜²å…¼å¤‡ï¼›å˜èº«å¾·é²ä¼Šåˆ™åœ¨PVPä¸­è¡¨ç°å‡ºè‰²ã€‚ä»–èƒ½ä¸ºå›¢é˜Ÿæä¾›å®è´µçš„ç”Ÿå‘½å…‰ç¯ï¼Œæ˜¯é˜Ÿä¼ä¸­åšå®çš„åç›¾ã€‚',
                sections: [
                    {
                        title: 'ğŸŒ± Soloå¼€è’è·¯çº¿',
                        content: `<div class="bg-stone-800 p-4 rounded-lg border border-stone-600 text-stone-300 space-y-3"><p><strong>æŠ€èƒ½è·¯çº¿ (ç«ç³»è½¬é£ç³»):</strong></p><ul class="list-disc list-inside pl-4 space-y-1"><li><strong>1-24çº§ (ç«ç³»):</strong> ä¸»åŠ  <span class="text-amber-400">ç«ç„°é£æš´</span> å’Œ <span class="text-amber-400">è£‚åœ°</span>ï¼Œè½»æ¾åº¦è¿‡å‰æœŸã€‚</li><li><strong>24çº§ä»¥å (è½¬å‹é£ç³»):</strong> æ´—ç‚¹ï¼Œä¸»åŠ  <span class="text-amber-400">é¾™å·é£</span> å’Œ <span class="text-amber-400">æš´é£</span>ï¼Œå¹¶åŠ æ»¡ååŒæŠ€èƒ½ <span class="text-amber-400">æ—‹é£è£…ç”²</span>ã€‚</li><li><strong>å¬å”¤ç³»:</strong> åŠ¡å¿…ç‚¹å‡º1ç‚¹ <span class="text-amber-400">æ©¡æœ¨æ™ºè€…</span> (æå¤§æå‡ç”Ÿå‘½)ã€‚</li></ul><p><strong>å±æ€§åˆ†é…:</strong> åŠ›é‡å¤Ÿç©¿è£…å¤‡(ç²¾ç¥ç›¾éœ€156)ï¼Œå…¶ä½™å…¨ä½“åŠ›ã€‚</p><p><strong>å…³é”®è£…å¤‡:</strong> "å¶å­"æ³•æ–(Lv 19)(å‰æœŸç«å¾·), "ç²¾ç¥"å‰‘ç›¾(Lv 25)(é£å¾·æ ¸å¿ƒ)ã€‚+3é¾™å·é£çš„å¾·é²ä¼Šå¤´ç›”æ˜¯åˆ¶ä½œ"çŸ¥è¯†"(Lv 27)çš„æå“åº•æã€‚ä½£å…µä½¿ç”¨"çœ¼å…‰"(Lv 27)ã€‚</p></div>`
                    },
                    {
                        title: 'ğŸ’¡ ä¸»æµç©æ³•æ„ç­‘',
                        content: `<div class="space-y-4"><div class="bg-stone-800 p-4 rounded-lg border border-stone-600"><h4 class="font-bold text-lg text-amber-400 mb-2">é£ç³»å¾·é²ä¼Š (Wind Druid)</h4><p class="text-stone-300">æœ€å¼ºçš„PVMæµæ´¾ä¹‹ä¸€ã€‚æ ¸å¿ƒæŠ€èƒ½æ˜¯é¾™å·é£ï¼ˆç‰©ç†ï¼‰å’Œæš´é£ï¼ˆå†°å†·ï¼‰ï¼ŒåŒæ—¶æ‹¥æœ‰ç‰©ç†å’Œå…ƒç´ ä¸¤ç§ä¼¤å®³ï¼Œå‡ ä¹æ²¡æœ‰æ‰“ä¸äº†çš„æ€ªç‰©ã€‚åŠ ä¸Šæ—‹é£è£…ç”²å’Œæ©¡æœ¨æ™ºè€…ï¼Œç”Ÿå­˜èƒ½åŠ›æå¼ºã€‚</p></div><div class="bg-stone-800 p-4 rounded-lg border border-stone-600"><h4 class="font-bold text-lg text-amber-400 mb-2">å˜èº«ç‹¼äººå¾· (Fury Werewolf)</h4><p class="text-stone-300">ä¸»æ”»æŠ€èƒ½ä¸ºç‹‚æ€’ï¼Œä¸€æ¬¡æ”»å‡»5æ¬¡ï¼Œæ˜¯å¼ºåŠ›çš„ç‰©ç†è¿‘æˆ˜Buildã€‚é…åˆç‹‚çŠ¬ç—…è¿˜èƒ½é€ æˆå¤§èŒƒå›´æŒç»­æ¯’ä¼¤ã€‚ç©æ³•ç±»ä¼¼ç‹‚ä¹±é‡è›®äººï¼Œé«˜é€Ÿç æ€ï¼Œç”Ÿå­˜åŠ›å¼ºã€‚</p></div><div class="bg-stone-800 p-4 rounded-lg border border-stone-600"><h4 class="font-bold text-lg text-amber-400 mb-2">å˜èº«ç†Šäººå¾· (Maul Werebear)</h4><p class="text-stone-300">ä»¥è¶…é«˜ç”Ÿå‘½å’Œé˜²å¾¡è‘—ç§°çš„å¦å…‹ã€‚æ”»å‡»é€Ÿåº¦è¾ƒæ…¢ï¼Œä½†æ‹¥æœ‰ç¾¤ä½“çœ©æ™•ç¥æŠ€â€œéœ‡æ³¢â€ã€‚ä¸»è¦åœ¨PVMä¸­å……å½“å¦å…‹å’Œæ§åœºï¼Œæˆ–ç‰¹åŒ–ä¸ºä¸“é—¨å‡»æ€Uber Bossçš„Buildã€‚</p></div></div>`
                    },
                    {
                        title: 'ğŸ—ºï¸ MFåˆ·å®æ¨èåŒºåŸŸ',
                        content: `<ul class="list-disc list-inside text-stone-300 space-y-2 bg-stone-800 p-4 rounded-lg border border-stone-600"><li><strong class="text-amber-400">A2 - å¤ä»£é€šé“ (Ancient Tunnels)ï¼š</strong> é£å¾·çš„å®Œç¾Farmåœ°ç‚¹ï¼Œ85çº§åœºæ™¯ä¸”æ— å†°å…ã€‚</li><li><strong class="text-amber-400">ç§˜å¯†å¥¶ç‰›å…³ (Cow Level)ï¼š</strong> é£å¾·å’Œç«å¾·åˆ·ç‰›æ•ˆç‡éƒ½ä¸é”™ä¸”éå¸¸å®‰å…¨ã€‚</li><li><strong class="text-amber-400">A5 - å°¼æ‹‰å¡å…‹ (Nihlathak)ï¼š</strong> é£å¾·æ‹¥æœ‰é£Ÿå°¸è—¤å¯ä»¥åå™¬å°¸ä½“ï¼Œèƒ½ç›¸å¯¹å®‰å…¨åœ°Farmã€‚</li></ul>`
                    },
                     {
                        title: 'ğŸ¤º PVPç©æ³•ä¸å¯¹ç­–',
                        content: `<div class="bg-stone-800 p-4 rounded-lg border border-stone-600"><p class="text-stone-300"><strong class="text-amber-400">é£å¾·</strong>è¡€é‡æåšï¼Œç”Ÿå­˜èƒ½åŠ›å¼ºï¼Œåœ¨æ³•ç³»å¯¹å†³ä¸­ä¾é æ¶ˆè€—æˆ˜å–èƒœã€‚å¯¹ç­–æ˜¯é€Ÿæˆ˜é€Ÿå†³ï¼Œåˆ©ç”¨å…¶é¾™å·é£å¼¹é“ä¸ç¨³å®šçš„å¼±ç‚¹è¿›è¡Œçˆ†å‘ã€‚<strong class="text-amber-400">ç‹¼å¾·</strong>åˆ™ä¾é â€œç‹‚çŠ¬ç—…â€çš„å‰§æ¯’è¿›è¡ŒHit&Runã€‚å¯¹ç­–æ˜¯è¢«å’¬åç«‹å³å–è§£æ¯’è¯æ°´ï¼Œå¹¶ä¿æŒè·ç¦»ã€‚</p></div>`
                    },
                    {
                        title: 'âš™ï¸ è£…å¤‡æˆé•¿è·¯çº¿',
                        content: `<div class="grid md:grid-cols-3 gap-4"> <div class="bg-stone-800 p-4 rounded-lg border border-stone-600"> <h4 class="font-bold text-lg text-amber-500 mb-2">è¿‡æ¸¡æœŸ (å…ƒç´ /è¿‘æˆ˜)</h4> <ul class="list-disc list-inside text-stone-300 space-y-1"> <li><strong>æ­¦å™¨:</strong> "å¶å­"(Lv 19)/"ç²¾ç¥"(Lv 25) (å…ƒç´ ), "èª“çº¦"(Lv 49) (è¿‘æˆ˜)</li> <li><strong>å¤´ç›”:</strong> "çŸ¥è¯†" (Lv 27), åŠ å°”çš„é•¿å‘ (è¿‘æˆ˜æ ¸å¿ƒ)</li> <li><strong>æŠ¤ç”²:</strong> "éšç§˜" (Lv 17), "çƒŸé›¾" (Lv 37)</li> <li><strong>ä½£å…µ:</strong> "çœ¼å…‰" (Lv 27)</li> </ul> </div> <div class="bg-stone-800 p-4 rounded-lg border border-stone-600"> <h4 class="font-bold text-lg text-amber-500 mb-2">æˆå‹æœŸ (å…ƒç´ /è¿‘æˆ˜)</h4> <ul class="list-disc list-inside text-stone-300 space-y-1"> <li><strong>æ­¦å™¨:</strong> "æ©¡æ ‘ä¹‹å¿ƒ" (Lv 55) (å…ƒç´ ), "æ¯ç­" (Lv 69) (è¿‘æˆ˜)</li> <li><strong>å¤´ç›”:</strong> è°è§’ä¹‹å†  (å…ƒç´ ), åŠ å°”çš„é•¿å‘ (è¿‘æˆ˜)</li> <li><strong>æŠ¤ç”²:</strong> è›‡é­”æ³•å¸ˆä¹‹çš® (å…ƒç´ ), "åˆšæ¯…" (Lv 59) (è¿‘æˆ˜)</li> <li><strong>ç›¾ç‰Œ:</strong> "ç²¾ç¥" (Lv 25) (å…ƒç´ )</li> </ul> </div> <div class="bg-stone-800 p-4 rounded-lg border border-stone-600"> <h4 class="font-bold text-lg text-amber-500 mb-2">æ¯•ä¸šè£…</h4> <ul class="list-disc list-inside text-stone-300 space-y-1"> <li><strong>æŠ¤ç”²:</strong> "è°œå›¢" (Lv 65) (é€šç”¨æ ¸å¿ƒ)</li> <li><strong>ä½£å…µæ­¦å™¨:</strong> "æ— é™" (Lv 63) (æå¤§æå‡é£å¾·å’Œç‹¼å¾·)</li> <li><strong>æˆ’æŒ‡:</strong> ä¹Œé¸¦ä¹‹éœœ (è¿‘æˆ˜)</li> <li><strong>æ‰‹å¥—:</strong> å¾·å¤æ‹‰ä¹‹æ¡ (è¿‘æˆ˜)</li> </ul> </div> </div>`
                    }
                ]
            }
        };
        */

        let currentClass = 'home';
        let chartInstance = null;
        const radarVisible = { necromancer:true, paladin:true, sorceress:true, amazon:true, assassin:true, barbarian:true, druid:true };

        // Lightweight offline radar renderer (fallback for inline/file://)
        function drawOfflineRadar(canvas, labels, datasets) {
            if (!canvas) return;
            const dpr = (window.devicePixelRatio || 1);
            const parent = canvas.parentElement;
            const rect = parent ? parent.getBoundingClientRect() : canvas.getBoundingClientRect();
            const cssW = Math.max(320, Math.floor(rect.width || 700));
            const cssH = Math.max(300, Math.floor(rect.height || 450));
            canvas.width = Math.floor(cssW * dpr);
            canvas.height = Math.floor(cssH * dpr);
            const ctx = canvas.getContext('2d');
            if (!ctx) return;
            ctx.scale(dpr, dpr);
            ctx.clearRect(0,0,cssW,cssH);
            const cx = cssW/2, cy = cssH/2; const radius = Math.min(cssW, cssH)*0.38;
            const N = labels.length || 6;
            const step = (Math.PI*2)/N;
            // Draw grid
            ctx.strokeStyle = 'rgba(168,162,158,0.3)'; ctx.lineWidth = 1;
            for (let ring=1; ring<=5; ring++){
                const r = radius*ring/5; ctx.beginPath();
                for (let i=0;i<N;i++){
                    const ang = -Math.PI/2 + i*step;
                    const x = cx + Math.cos(ang)*r; const y = cy + Math.sin(ang)*r;
                    if (i===0) ctx.moveTo(x,y); else ctx.lineTo(x,y);
                }
                ctx.closePath(); ctx.stroke();
            }
            // Axis lines
            for (let i=0;i<N;i++){
                const ang = -Math.PI/2 + i*step;
                ctx.beginPath(); ctx.moveTo(cx,cy);
                ctx.lineTo(cx + Math.cos(ang)*radius, cy + Math.sin(ang)*radius);
                ctx.stroke();
            }
            // Axis labels
            try {
                ctx.fillStyle = '#facc15';
                ctx.font = '14px sans-serif';
                for (let i=0;i<N;i++){
                    const ang = -Math.PI/2 + i*step;
                    const lx = cx + Math.cos(ang)*(radius+16);
                    const ly = cy + Math.sin(ang)*(radius+16);
                    const t = labels[i] || '';
                    if (Math.cos(ang) > 0.3) ctx.textAlign = 'left';
                    else if (Math.cos(ang) < -0.3) ctx.textAlign = 'right';
                    else ctx.textAlign = 'center';
                    if (Math.sin(ang) > 0.3) ctx.textBaseline = 'top';
                    else if (Math.sin(ang) < -0.3) ctx.textBaseline = 'bottom';
                    else ctx.textBaseline = 'middle';
                    ctx.fillText(t, lx, ly);
                }
            } catch {}
            // Draw datasets (0-10 scale)
            const toRGBA = (hex, alpha) => hex.replace('rgb(', 'rgba(').replace(')', `, ${alpha})`);
            datasets.forEach(ds=>{
                if (radarVisible.hasOwnProperty(ds.id) && !radarVisible[ds.id]) return;
                const vals = ds.data || [];
                ctx.beginPath();
                for (let i=0;i<N;i++){
                    const v = Math.max(0, Math.min(10, vals[i]||0));
                    const r = radius*(v/10);
                    const ang = -Math.PI/2 + i*step;
                    const x = cx + Math.cos(ang)*r; const y = cy + Math.sin(ang)*r;
                    if (i===0) ctx.moveTo(x,y); else ctx.lineTo(x,y);
                }
                ctx.closePath();
                const fillCol = (ds.color && ds.color.bg) ? ds.color.bg : (ds.backgroundColor || 'rgba(250,204,21,0.2)');
                const strokeCol = (ds.color && ds.color.border) ? ds.color.border : (ds.borderColor || 'rgb(250,204,21)');
                ctx.fillStyle = fillCol;
                ctx.strokeStyle = strokeCol;
                ctx.lineWidth = 2; ctx.fill(); ctx.stroke();
            });
        }

        function ensureRadarLegend(containerEl, datasets) {
            if (!containerEl) return;
            // Attach legend to the card container (one level up) to avoid being clipped by fixed-height chart container
            const host = containerEl.parentElement || containerEl;
            let legend = host.querySelector('.radar-legend');
            if (!legend) { legend = document.createElement('div'); legend.className = 'radar-legend flex flex-wrap gap-2 justify-center mt-2'; host.appendChild(legend); }
            legend.innerHTML = '';
            datasets.forEach(ds => {
                const btn = document.createElement('button');
                const active = radarVisible[ds.id] !== false;
                btn.className = 'px-2 py-0.5 rounded text-xs border ' + (active ? 'bg-amber-500 text-stone-950 border-amber-600' : 'bg-stone-800 text-stone-300 border-stone-600 hover:bg-stone-700');
                btn.textContent = classLabelFor(ds.id, ds.id);
                btn.onclick = () => { radarVisible[ds.id] = !active; renderRadarChart(); };
                legend.appendChild(btn);
            });
        }
        
        const mainContent = document.getElementById('main-content');
        const classNav = document.getElementById('class-nav');
        const runeModal = document.getElementById('runeModal');
        const tipsModal = document.getElementById('tipsModal');
        const gearModal = document.getElementById('gearModal');
        const baseModal = document.getElementById('baseModal');
        const mfBossModal = document.getElementById('mfBossModal');
        const aiModal = document.getElementById('aiModal');
        const bpModal = document.getElementById('bpModal');
        const mercModal = document.getElementById('mercModal');
        const craftingModal = document.getElementById('craftingModal');

        const runeListContainer = document.getElementById('runeListContainer');
        const tipsListContainer = document.getElementById('tipsListContainer');
        const gearListContainer = document.getElementById('gearListContainer');
        const baseListContainer = document.getElementById('baseListContainer');
        const mfBossListContainer = document.getElementById('mfBossListContainer');
        const mercListContainer = document.getElementById('mercListContainer');
        const craftingListContainer = document.getElementById('craftingListContainer');

        const runeSearch = document.getElementById('runeSearch');
        const runeTypeFilter = document.getElementById('runeTypeFilter');
        const runeSocketFilter = document.getElementById('runeSocketFilter');
        const runeTagFilter = document.getElementById('runeTagFilter');
        const gearSearch = document.getElementById('gearSearch');
        const gearTypeFilter = document.getElementById('gearTypeFilter');
        const gearTagFilter = document.getElementById('gearTagFilter');
        const baseTagFilter = document.getElementById('baseTagFilter');

        const aiClassSelect = document.getElementById('aiClassSelect');
        const aiQueryInput = document.getElementById('aiQueryInput');
        const aiResponseContainer = document.getElementById('aiResponseContainer');

        const bpClassSelect = document.getElementById('bpClassSelect');
        const bpTypeSelect = document.getElementById('bpTypeSelect');
        const bpResultContainer = document.getElementById('bpResultContainer');


        const selectedGearTags = new Set();
        const selectedRuneTags = new Set();
        const selectedBaseTags = new Set();
        let runeTagMode = 'OR';
        let gearTagMode = 'OR';
        let baseTagMode = 'OR';
        let gearTagSearch = '';
        let runeTagSearch = '';
        let baseTagSearch = '';

        function saveGearTagsState(){
            try { localStorage.setItem('gearTagsState', JSON.stringify({ selected: [...selectedGearTags], mode: gearTagMode, search: gearTagSearch })); } catch {}
        }
        function saveRuneTagsState(){
            try { localStorage.setItem('runeTagsState', JSON.stringify({ selected: [...selectedRuneTags], mode: runeTagMode, search: runeTagSearch })); } catch {}
        }
        function saveBaseTagsState(){
            try { localStorage.setItem('baseTagsState', JSON.stringify({ selected: [...selectedBaseTags], mode: baseTagMode, search: baseTagSearch })); } catch {}
        }
        function loadGearTagsState(){
            try { const s = JSON.parse(localStorage.getItem('gearTagsState')||'{}'); (s.selected||[]).forEach(t=>selectedGearTags.add(t)); gearTagMode = s.mode||'OR'; gearTagSearch = s.search||''; } catch {}
        }
        function loadRuneTagsState(){
            try { const s = JSON.parse(localStorage.getItem('runeTagsState')||'{}'); (s.selected||[]).forEach(t=>selectedRuneTags.add(t)); runeTagMode = s.mode||'OR'; runeTagSearch = s.search||''; } catch {}
        }
        function loadBaseTagsState(){
            try { const s = JSON.parse(localStorage.getItem('baseTagsState')||'{}'); (s.selected||[]).forEach(t=>selectedBaseTags.add(t)); baseTagMode = s.mode||'OR'; baseTagSearch = s.search||''; } catch {}
        }

        // Runeword -> tags mapping (authoritative)
        // runewordTagsMap will be loaded from external module if available; default empty

        // Defaults (will be overridden by js/tags.js if available)
        let uiLang = 'zh';
        try { uiLang = localStorage.getItem('uiLang') || 'zh'; } catch {}
        let tagLabelsZh = {};
        let tagLabelsEn = {};
        let classLabelsZh = { home: 'èŒä¸šæ€»è§ˆ', necromancer: 'æ­»çµæ³•å¸ˆ', paladin: 'åœ£éª‘å£«', sorceress: 'å·«å¸ˆ', amazon: 'äºšé©¬é€Š', assassin: 'çŒæ³•è€…', barbarian: 'é‡è›®äºº', druid: 'å¾·é²ä¼Š' };
        let classLabelsEn = { home: 'Overview', necromancer: 'Necromancer', paladin: 'Paladin', sorceress: 'Sorceress', amazon: 'Amazon', assassin: 'Assassin', barbarian: 'Barbarian', druid: 'Druid' };
        // i18n UI dictionaries (fallbacks; overridden by js/i18n.js if present)
        let uiZh = { lang_label:'è¯­è¨€', tags_all:'æ‰€æœ‰æ ‡ç­¾', tag_search_placeholder:'æœç´¢æ ‡ç­¾...', match_mode_or:'åŒ¹é…é€»è¾‘: OR', match_mode_and:'åŒ¹é…é€»è¾‘: AND', reset_all:'é‡ç½®å…¨éƒ¨ç­›é€‰', clear_tags:'æ¸…é™¤æ ‡ç­¾', rune_matches:'ç¬¦æ–‡æŸ¥è¯¢ç»“æœ', titles:{runewords:'ç¬¦æ–‡ä¹‹è¯­', tips:'é€šå…³ç§˜è¯€', gear:'æå“è£…å¤‡', bases:'å®ç”¨åº•æ', mf:'MFåŠ³æ¨¡æ¦œ', ai:'AIå°é¡¾é—®', bp:'æ–­æ¡£è®¡ç®—', merc:'ä½£å…µ', crafting:'åˆæˆç‰©å“'}, no_results:'æœªæ‰¾åˆ°åŒ¹é…çš„ç»“æœã€‚', no_gear:'æœªæ‰¾åˆ°åŒ¹é…çš„è£…å¤‡ã€‚', bp_note_ias:'æ³¨æ„ï¼šIAS(æå‡æ”»å‡»é€Ÿåº¦)æ¡£ä½å› æ­¦å™¨ã€æŠ€èƒ½ä¸åŒè€Œæå…¶å¤æ‚ï¼Œå»ºè®®ä½¿ç”¨ä¸“é—¨çš„IASè®¡ç®—å™¨æŸ¥è¯¢ã€‚', frames:'å¸§æ•° (Frames)', required_prefix:'éœ€è¦' };
        let uiEn = { lang_label:'Lang', tags_all:'All tags', tag_search_placeholder:'Search tags...', match_mode_or:'Match: OR', match_mode_and:'Match: AND', reset_all:'Reset All', clear_tags:'Clear Tags', rune_matches:'Rune matches', titles:{runewords:'Runewords', tips:'Tips', gear:'Top Gear', bases:'Useful Bases', mf:'MF Targets', ai:'AI Advisor', bp:'Breakpoints', merc:'Mercenaries', crafting:'Crafting'}, no_results:'No results found.', no_gear:'No matching gear found.', bp_note_ias:'Note: IAS breakpoints vary widely by weapon/skill; use a dedicated IAS calculator.', frames:'Frames', required_prefix:'Required' };
        let gearTagOptions = ['FCR','IAS','MF','CB','DS','ResAll','CBF','Teleport','Conviction','-EnemyRes','FRW','DR','Life','Mana','Gold','vsDemons','OW','ED','STR','Dex','Merc','Budget','+Skill','PsnDamage','ManaRegen','Pierce','Amazon','Barbarian','Assassin','Druid','Paladin','Sockets','Caster','Melee','ColdDamage'];
        let runeTagOptions = ['FCR','IAS','MF','CB','DS','ResAll','CBF','Teleport','Conviction','-EnemyRes','Meditation','FRW','Budget','Merc','+Skill','Attributes','Defense','Lightning','Fire','Bow'];
        let baseTagOptions = ['Spirit','HOTO','Grief','Infinity','Insight','Faith','Enigma','Fortitude','Exile','Merc','Phoenix','Treachery','Stealth'];
        let runewordTagsMap = new Map();
        function uiDict(){ return uiLang === 'en' ? uiEn : uiZh; }
        function classLabelFor(id, fallback){
            const map = uiLang === 'en' ? classLabelsEn : classLabelsZh;
            return (map && map[id]) ? map[id] : (fallback || id);
        }
        function tagLabel(key){
            const dict = uiLang === 'en' ? tagLabelsEn : tagLabelsZh;
            return (dict && dict[key]) ? dict[key] : key;
        }

        function renderTagChips(containerId, options, selectedSet, onChange, searchText=''){
            const el = document.getElementById(containerId);
            if (!el) return;
            el.innerHTML = '';
            const filtered = options.filter(t => {
                const lbl = tagLabel(t).toLowerCase();
                return !searchText || lbl.includes(searchText.toLowerCase()) || t.toLowerCase().includes(searchText.toLowerCase());
            });
            filtered.forEach(tag => {
                const btn = document.createElement('button');
                btn.textContent = tagLabel(tag);
                btn.className = 'px-2 py-1 rounded text-xs border ' + (selectedSet.has(tag) ? 'bg-amber-500 text-stone-950 border-amber-600' : 'bg-stone-800 text-stone-300 border-stone-600 hover:bg-stone-700');
                btn.onclick = () => { if (selectedSet.has(tag)) selectedSet.delete(tag); else selectedSet.add(tag); onChange(); renderTagChips(containerId, options, selectedSet, onChange, searchText); };
                el.appendChild(btn);
            });
            if (options.length) {
                const clear = document.createElement('button');
                clear.textContent = uiDict().clear_tags;
                clear.className = 'ml-2 px-2 py-1 rounded text-xs bg-stone-700 text-stone-200 border border-stone-600 hover:bg-stone-600';
                clear.onclick = () => { selectedSet.clear(); onChange(); renderTagChips(containerId, options, selectedSet, onChange, searchText); };
                el.appendChild(clear);
            }
        }

        function renderActiveChips(containerId, selectedSet, onRemove){
            const el = document.getElementById(containerId);
            if (!el) return;
            el.innerHTML = '';
            if (!selectedSet || selectedSet.size === 0) return;
            [...selectedSet].forEach(tag => {
                const chip = document.createElement('button');
                chip.className = 'px-2 py-0.5 rounded text-xs bg-amber-500 text-stone-950 border border-amber-600 hover:bg-amber-400';
                chip.title = tagLabel(tag);
                chip.textContent = tagLabel(tag) + ' Ã—';
                chip.onclick = () => { selectedSet.delete(tag); if (typeof onRemove === 'function') onRemove(); };
                el.appendChild(chip);
            });
        }

        function formatRunewordFormula(formula) {
            return formula.split('+').map(num => {
                const rune = db.runes.find(r => r.id == num);
                return rune ? `<span class="whitespace-nowrap">${num}#${rune.zh}</span>` : '';
            }).join(' + ');
        }
        
        function renderRunes() {
            const query = runeSearch.value.toLowerCase();
            const type = runeTypeFilter.value;
            const sockets = runeSocketFilter.value;
            const tag = runeTagFilter ? runeTagFilter.value : 'all';

            // Filter individual runes
            const filteredRunes = db.runes.filter(rune => {
                return rune.zh.toLowerCase().includes(query) || 
                       rune.en.toLowerCase().includes(query) || 
                       rune.tw.toLowerCase().includes(query) ||
                       rune.id.toString() === query;
            });

            // Filter runewords
            function deriveRunewordTags(rw){
                // Prefer explicit mapping; fall back to heuristic
                if (runewordTagsMap.has(rw.name)) return runewordTagsMap.get(rw.name);
                const name = rw.name.toLowerCase();
                const tags = [];
                if (name.includes('enigma')) tags.push('Teleport','MF');
                if (name.includes('spirit')) tags.push('FCR','+Skill','Mana','Budget');
                if (name.includes('heart of the oak') || name.includes('hoto')) tags.push('FCR','ResAll');
                if (name.includes('infinity')) tags.push('Conviction','-EnemyRes','Merc');
                if (name.includes('insight')) tags.push('Meditation','ManaRegen','Merc','Budget');
                if (name.includes('treachery')) tags.push('IAS');
                if (name.includes('stealth')) tags.push('FCR','FRW','Budget');
                if (name.includes('phoenix')) tags.push('-EnemyRes');
                if (name.includes('grief')) tags.push('IAS','Melee');
                if (name.includes('lore')) tags.push('+Skill','Budget');
                return tags;
            }

            const filteredRunewords = db.runewords.filter(rw => {
                const nameMatch = rw.name.toLowerCase().includes(query);
                const typeMatch = type === 'all' || rw.type.includes(type);
                const socketMatch = sockets === 'all' || rw.sockets == sockets;
                const tags = deriveRunewordTags(rw);
                const selectMatch = tag === 'all' || tags.includes(tag) || (Array.isArray(rw.tags) && rw.tags.includes(tag));
                const chipMatch = selectedRuneTags.size === 0 || (runeTagMode==='AND' ? [...selectedRuneTags].every(t => tags.includes(t) || (Array.isArray(rw.tags) && rw.tags.includes(t))) : [...selectedRuneTags].some(t => tags.includes(t) || (Array.isArray(rw.tags) && rw.tags.includes(t))));
                return (query === '' || nameMatch) && typeMatch && socketMatch && selectMatch && chipMatch;
            });
            
            let html = '';

            if(query !== '' && filteredRunes.length > 0) {
                const sub = uiDict().rune_matches;
                html += `<h4 class="text-amber-500 font-bold text-lg mb-2">${sub}</h4>`;
                html += '<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 mb-6">';
                filteredRunes.forEach(rune => {
                    html += `<div class="bg-stone-800 p-2 rounded text-stone-300"><strong>${rune.id}#</strong> ${rune.zh} / ${rune.tw} (${rune.en})</div>`;
                });
                html += '</div>';
            }


            html += '<h4 class="text-amber-500 font-bold text-lg mb-2">ç¬¦æ–‡ä¹‹è¯­</h4>';
            html += '<div class="grid grid-cols-1 md:grid-cols-2 gap-4">';
            filteredRunewords.forEach(rw => {
                html += `
                    <div class="bg-stone-800 p-3 rounded">
                        <p class="font-bold text-amber-400">${rw.name} <span class="text-stone-400 font-normal text-sm">(Lv ${rw.level})</span></p>
                        <p class="text-sm text-stone-400">${rw.base}</p>
                        <p class="text-stone-300 mt-1">${formatRunewordFormula(rw.formula)}</p>
                    </div>
                `;
            });
            html += '</div>';

            if(filteredRunewords.length === 0 && filteredRunes.length === 0) {
                 const msg = uiDict().no_results;
                 html = `<p class="text-stone-400 text-center py-4">${msg}</p>`;
            }
            runeListContainer.innerHTML = html;

            // update filter count badge
            let count = 0;
            if (query) count++;
            if (type !== 'all') count++;
            if (sockets !== 'all') count++;
            if (tag !== 'all') count++;
            count += selectedRuneTags.size;
            const badge = document.getElementById('runeFilterCount');
            if (badge) {
                if (count > 0) {
                    badge.textContent = String(count);
                const ui = uiDict();
                const info = [];
                if (query) info.push(`${ui.tooltip_search}: ${query}`);
                    if (type !== 'all') info.push(`${ui.tooltip_type}: ${type}`);
                if (sockets !== 'all') info.push(`${ui.tooltip_sockets}: ${sockets}`);
                    if (tag !== 'all') info.push(`${ui.tooltip_dropdown}: ${tagLabel(tag)}`);
                    if (selectedRuneTags.size) info.push(`${ui.tooltip_tags}: ${[...selectedRuneTags].map(tagLabel).join(', ')}`);
                    badge.title = info.join('\n');
                    badge.classList.remove('hidden');
                } else { badge.classList.add('hidden'); badge.title=''; }
            }
        }

        function renderTips() {
            let html = '';
            db.tips.forEach(tip => {
                html += `
                    <div class="bg-stone-800 p-4 rounded-lg border border-stone-700">
                        <h4 class="font-bold text-lg text-amber-400 mb-2">${tip.title}</h4>
                        <div class="text-stone-300">${tip.content}</div>
                    </div>
                `;
            });
            tipsListContainer.innerHTML = html;
        }

        function renderTopGear() {
            const query = gearSearch.value.toLowerCase();
            const type = gearTypeFilter.value;
            const tag = gearTagFilter.value;

            const filteredGear = db.topGear.filter(item => {
                const nameMatch = item.name.toLowerCase().includes(query);
                const typeMatch = type === 'all' || item.category.includes(type);
                const selectMatch = tag === 'all' || (Array.isArray(item.tags) && item.tags.includes(tag));
                const chipMatch = selectedGearTags.size === 0 || (Array.isArray(item.tags) && [...selectedGearTags].some(t => item.tags.includes(t)));
                return nameMatch && typeMatch && selectMatch && chipMatch;
            });

            let html = '<div class="grid md:grid-cols-2 gap-4">';
            filteredGear.forEach(item => {
                let statsHtml = item.key_stats.map(stat => `<li>${stat}</li>`).join('');
                let tagsHtml = Array.isArray(item.tags) ? item.tags.map(t => `<span class="inline-block px-2 py-0.5 rounded bg-stone-700 text-amber-400 text-xs mr-1 mb-1">${tagLabel(t)}</span>`).join('') : '';
                let sourceHtml = item.source ? `<span class="text-stone-400 text-xs">æ¥æº: ${item.source}</span>` : '';
                html += `
                    <div class="bg-stone-800 p-4 rounded-lg border border-stone-700 flex flex-col">
                        <h4 class="font-bold text-lg text-amber-400">${item.name}</h4>
                        <p class="text-sm text-stone-400 mb-2">${item.type}</p>
                        <ul class="list-disc list-inside text-stone-300 space-y-1 flex-grow">${statsHtml}</ul>
                        <div class="mt-3 pt-3 border-t border-stone-600 space-y-1">
                          <p class="text-amber-500 text-sm"><strong>é€‚ç”¨:</strong> ${item.best_for}</p>
                          <div class="flex flex-wrap items-center gap-1">${tagsHtml} ${sourceHtml}</div>
                        </div>
                    </div>
                `;
            });
            html += '</div>';
            if(filteredGear.length === 0) {
                 const msg = uiDict().no_gear;
                 html = `<p class="text-stone-400 text-center py-4">${msg}</p>`;
            }
            gearListContainer.innerHTML = html;

            // update gear filter count badge
            let gcount = 0;
            if (query) gcount++;
            if (type !== 'all') gcount++;
            if (tag !== 'all') gcount++;
            gcount += selectedGearTags.size;
            const gbadge = document.getElementById('gearFilterCount');
            if (gbadge) {
                if (gcount > 0) {
                    gbadge.textContent = String(gcount);
                const ui = uiDict();
                const info = [];
                if (query) info.push(`${ui.tooltip_search}: ${query}`);
                if (type !== 'all') info.push(`${ui.tooltip_type}: ${type}`);
                if (tag !== 'all') info.push(`${ui.tooltip_dropdown}: ${tagLabel(tag)}`);
                if (selectedGearTags.size) info.push(`${ui.tooltip_tags}: ${[...selectedGearTags].map(tagLabel).join(', ')}`);
                    gbadge.title = info.join('\n');
                    gbadge.classList.remove('hidden');
                } else { gbadge.classList.add('hidden'); gbadge.title=''; }
            }
        }
        
        function renderUsefulBases() {
            const tag = baseTagFilter ? baseTagFilter.value : 'all';
            let html = '';
            db.usefulBases.forEach(category => {
                html += `<div class="bg-stone-800 p-4 rounded-lg border border-stone-700"><h4 class="text-amber-500 font-bold text-lg mb-3">${category.category}</h4>`;
                if(category.intro) {
                     html += `<p class="text-sm text-stone-400 mb-4">${category.intro}</p>`;
                }
                html += '<div class="grid md:grid-cols-2 gap-4">';
                const items = category.items.filter(it => {
                    const selectMatch = tag === 'all' || (Array.isArray(it.tags) && it.tags.includes(tag));
                    const chipMatch = selectedBaseTags.size === 0 || (Array.isArray(it.tags) && [...selectedBaseTags].some(t => it.tags.includes(t)));
                    return selectMatch && chipMatch;
                });
                items.forEach(item => {
                    html += `
                        <div class="bg-stone-900 p-4 rounded">
                            <p class="font-bold text-amber-400 text-lg">${item.icon} ${item.name}</p>
                            ${item.sockets ? `<p class="text-sm text-stone-400 mb-2"><strong>éœ€æ±‚å­”æ•°:</strong> ${item.sockets}</p>` : ''}
                            <p class="text-stone-300">${item.why}</p>
                            ${item.tip ? `<p class="text-xs text-amber-400/80 mt-2"><strong>æç¤º:</strong> ${item.tip}</p>` : ''}
                        </div>
                    `;
                });
                html += '</div></div>';
            });
            baseListContainer.innerHTML = html;

            // update base filter count badge
            let bcount = 0;
            if (tag !== 'all') bcount++;
            bcount += selectedBaseTags.size;
            const bbadge = document.getElementById('baseFilterCount');
                if (bbadge) {
                if (bcount > 0) {
                    bbadge.textContent = String(bcount);
                const ui = uiDict();
                const info = [];
                if (tag !== 'all') info.push(`${ui.tooltip_dropdown}: ${tagLabel(tag)}`);
                    if (selectedBaseTags.size) info.push(`${ui.tooltip_tags}: ${[...selectedBaseTags].map(tagLabel).join(', ')}`);
                    bbadge.title = info.join('\n');
                    bbadge.classList.remove('hidden');
                } else { bbadge.classList.add('hidden'); bbadge.title=''; }
            }
        }

        function renderMfBossList() {
             let html = '';
            db.mfTargets.forEach(target => {
                html += `
                    <div class="bg-stone-800 p-4 rounded-lg border border-stone-700">
                        <h4 class="font-bold text-lg text-amber-400 mb-1">${target.name}</h4>
                        <p class="text-sm text-stone-400 mb-2"><strong>ä½ç½®:</strong> ${target.location}</p>
                        <p class="text-stone-300 mb-2">${target.why}</p>
                        <p class="text-amber-500 text-sm"><strong>æ¨èèŒä¸š:</strong> ${target.recommended}</p>
                    </div>
                `;
            });
            mfBossListContainer.innerHTML = html;
        }

        function renderMercenaries() {
            let html = '';
            db.mercenaries.forEach(category => {
                html += `<h4 class="text-amber-500 font-bold text-lg mb-3">${category.category}</h4>`;
                html += '<div class="grid md:grid-cols-2 gap-4 mb-6">';
                category.items.forEach(item => {
                    html += `
                        <div class="bg-stone-800 p-4 rounded-lg border border-stone-700">
                            <p class="font-bold text-amber-400 text-lg">${item.icon} ${item.name}</p>
                            <div class="text-stone-300">${item.why}</div>
                        </div>
                    `;
                });
                html += '</div>';
            });
            mercListContainer.innerHTML = html;
        }

        function renderCrafting() {
            let html = '';
            db.crafting.forEach(category => {
                html += `<div class="mb-6"><h4 class="text-amber-500 font-bold text-lg mb-3">${category.name}</h4>`
                html += `<p class="text-stone-300 mb-4">${category.intro}</p>`;
                category.recipes.forEach(recipe => {
                    html += `
                        <div class="bg-stone-800 p-4 rounded-lg border border-stone-700 mb-4">
                            <h5 class="font-bold text-lg text-amber-400 mb-2">${recipe.name}</h5>
                            <p class="text-stone-300"><strong class="text-amber-500">å…¬å¼:</strong> ${recipe.formula}</p>
                            <div class="text-stone-300 mt-2">${recipe.stats}</div>
                        </div>
                    `;
                });
                html += `</div>`;
            });
            craftingListContainer.innerHTML = html;
        }

        function populateAIClassSelect() {
            db.classes.forEach(cls => {
                if (cls.id !== 'home') {
                    const option = document.createElement('option');
                    option.value = cls.id;
                    option.textContent = classLabelFor(cls.id, cls.name);
                    aiClassSelect.appendChild(option);
                }
            });
        }
        
        async function getAIAdvice() {
            const selectedClassId = aiClassSelect.value;
            const userQuery = aiQueryInput.value;

            if (!selectedClassId || !userQuery.trim()) {
                aiResponseContainer.innerHTML = '<p class="text-red-400">è¯·é€‰æ‹©ä¸€ä¸ªèŒä¸šå¹¶æè¿°ä½ çš„é—®é¢˜ã€‚</p>';
                return;
            }

            aiResponseContainer.innerHTML = '<div class="flex justify-center items-center h-full"><div class="loader"></div></div>';
            
            const classInfo = classData[selectedClassId];
            let context = `èŒä¸š: ${classInfo.title}\nç®€ä»‹: ${classInfo.intro}\n`;
            classInfo.sections.forEach(sec => {
                context += `${sec.title}:\n${sec.content.replace(/<[^>]*>/g, ' ')}\n\n`;
            });
            
            const systemPrompt = `ä½ æ˜¯ä¸€ä½åä¸ºâ€œè¿ªå¡Â·å‡¯æ©â€çš„ã€Šæš—é»‘ç ´åç¥2ã€‹ä¸“å®¶é¡¾é—®ã€‚ä½ çš„æ‰€æœ‰çŸ¥è¯†éƒ½ä¸¥æ ¼åŸºäºæˆ‘æä¾›çš„æ”»ç•¥æ–‡æœ¬ã€‚è¯·ä½¿ç”¨ä¸­æ–‡ï¼Œç”¨è¿ªå¡Â·å‡¯æ©çš„å£å»ï¼ˆâ€œStay a while and listen...â€çš„é£æ ¼ï¼‰æ¥å›ç­”ç©å®¶çš„é—®é¢˜ã€‚ä½ çš„å›ç­”å¿…é¡»ç®€æ´ã€æœ‰æ¡ç†ï¼Œå¹¶ç›´æ¥å¼•ç”¨æˆ–æ€»ç»“æˆ‘æä¾›çš„æ”»ç•¥å†…å®¹ï¼Œä¸ºç©å®¶æ¨èæœ€åˆé€‚çš„ç©æ³•å’Œè£…å¤‡ã€‚`;
            const userPrompt = `è¿™æ˜¯å…³äºä¸€ä¸ªèŒä¸šçš„æ”»ç•¥èµ„æ–™ï¼š\n\n${context}\n\n---
            ç°åœ¨ï¼Œè¯·æ ¹æ®ä»¥ä¸Šèµ„æ–™ï¼Œå›ç­”è¿™ä½ç©å®¶çš„é—®é¢˜ï¼š "${userQuery}"`;
            
            /* apiKey removed: server-side */
            const apiUrl = '/api/ai-advice';

            try {
                const response = await fetch(apiUrl, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ systemPrompt, userPrompt }) });

                if (!response.ok) {
                    throw new Error(`API è¯·æ±‚å¤±è´¥ï¼ŒçŠ¶æ€ç : ${response.status}`);
                }

                const result = await response.json();
                const candidate = result.candidates?.[0];

                if (candidate && candidate.content?.parts?.[0]?.text) {
                    let text = candidate.content.parts[0].text;
                    text = text.replace(/\n/g, '<br>');
                    aiResponseContainer.innerHTML = `<p>${text}</p>`;
                } else {
                    throw new Error("æœªèƒ½ä»APIè·å–æœ‰æ•ˆå›å¤ã€‚");
                }

            } catch (error) {
                console.error("Gemini API Error:", error);
                aiResponseContainer.innerHTML = '<p class="text-red-400">æŠ±æ­‰ï¼Œèµ«æ‹‰è¿ªå§†çš„æ™ºæ…§æš‚æ—¶æ— æ³•è¿æ¥ã€‚è¯·ç¨åå†è¯•ã€‚</p>';
            }
        }

        function populateBpSelectors() {
            bpClassSelect.innerHTML = '';
            let firstClassId = '';
            db.classes.forEach(cls => {
                if (cls.id !== 'home') {
                    if(!firstClassId) firstClassId = 'necromancer';
                    const option = document.createElement('option');
                    option.value = cls.id;
                    option.textContent = classLabelFor(cls.id, cls.name);
                    bpClassSelect.appendChild(option);
                }
            });
            bpClassSelect.value = firstClassId;

            bpTypeSelect.innerHTML = '';
            Object.keys(db.breakpoints).forEach(key => {
                const option = document.createElement('option');
                option.value = key;
                const ui = uiDict();
                option.textContent = (ui.bp_types && ui.bp_types[key]) ? ui.bp_types[key] : db.breakpoints[key].name;
                bpTypeSelect.appendChild(option);
            });
            
            bpClassSelect.addEventListener('change', renderBreakpoints);
            bpTypeSelect.addEventListener('change', renderBreakpoints);
        }

        function renderBreakpoints() {
            const classId = bpClassSelect.value;
            const type = bpTypeSelect.value;
            const bpTypeData = db.breakpoints[type];
            let html = '';

            if (!bpTypeData) {
                bpResultContainer.innerHTML = '';
                return;
            }
            
            const classBpData = bpTypeData[classId];

            let dataSets;
            if (classId === 'druid' && type === 'fhr') {
                dataSets = { "äººå½¢": bpTypeData.druid_human, "ç‹¼äºº": bpTypeData.druid_wolf, "ç†Šäºº": bpTypeData.druid_bear };
            } else if (typeof classBpData === 'object' && !Array.isArray(classBpData)) {
                dataSets = classBpData;
            } else if (Array.isArray(classBpData)) {
                dataSets = { [bpTypeData.name]: classBpData };
            } else {
                const msg = uiDict().bp_no_data;
                bpResultContainer.innerHTML = `<p class="text-stone-400 text-center py-4">${msg}</p>`;
                return;
            }
            
            const bpNote = uiDict().bp_note_ias;
            html += `<p class="text-sm text-stone-400 mb-4">${bpNote}</p>`;
            
            const frames = {
                fcr: {"æ–½æ³•": [15, 14, 13, 12, 11, 10, 9, 8, 7], "äººå½¢æ–½æ³•": [18, 17, 16, 15, 14, 13, 12, 11, 10], "é—ªç”µ/è¿é”é—ªç”µ": [13, 12, 11, 10, 9, 8, 7, 6, 5], "å…¶ä»–æŠ€èƒ½": [13, 12, 11, 10, 9, 8, 7] },
                fhr: { amazon: [11,10,9,8,7,6,5,4,3], assassin: [13,12,11,10,9,8,7,6], barbarian: [13,12,11,10,9,8,7,6], necromancer: [13,12,11,10,9,8,7,6,5,4], paladin: [9,8,7,6,5,4,3], sorceress: [15,14,13,12,11,10,9,8,7,6,5], "äººå½¢": [14,13,12,11,10,9,8,7,6,5], "ç‹¼äºº": [11,10,9,8,7,6,5,4,3], "ç†Šäºº": [13,12,11,10,9,8,7,6,5] },
                fbr: { paladin: [4,3,2,1], amazon: [5,4,3,2,1], assassin: [7,6,5,4,3,2,1], barbarian: [7,6,5,4,3,2,1], druid: [7,6,5,4,3,2,1], necromancer: [7,6,5,4,3,2,1], sorceress: [9,8,7,6,5,4,3] }
            };

            for (const subType in dataSets) {
                const values = dataSets[subType];
                if (!Array.isArray(values)) continue;
                
                let frameData;
                 if(type === 'fcr') frameData = frames.fcr[subType] || frames.fcr['æ–½æ³•'];
                 else if(type === 'fhr') frameData = frames.fhr[classId] || frames.fhr[subType] || frames.fhr[classId.split('_')[0]];
                 else if(type === 'fbr') frameData = frames.fbr[classId] || frames.fbr.default;

                html += `<h4 class="font-bold text-amber-400 text-lg mb-2">${subType}</h4>`;
                html += `<div class="overflow-x-auto"><table class="w-full text-sm text-left text-stone-300">`;
                html += `<thead class="text-xs text-amber-400 uppercase bg-stone-700"><tr>`;
                
                let headers = ``;
                let cells = ``;
                values.slice(1).forEach((val, i) => {
                    if(frameData && frameData[i]){
                       headers += `<th class="px-6 py-3 text-center">${frameData[i]}F</th>`;
                       cells += `<td class="px-6 py-4 text-center">${val}</td>`;
                    }
                });

                const framesLbl = uiDict().frames;
                const reqLbl = uiDict().required_prefix;
                html += `<th class="px-6 py-3">${framesLbl}</th>` + headers;
                html += `</tr></thead><tbody><tr class="bg-stone-800 border-b border-stone-600"><td class="px-6 py-4 font-medium">${reqLbl} ${bpTypeData.name} (%)</td>` + cells;
                html += `</tr></tbody></table></div>`;
            }

            bpResultContainer.innerHTML = html;
        }


        function toggleRuneModal() {
            if (runeModal.classList.contains('opacity-0')) {
                runeModal.classList.remove('opacity-0', 'pointer-events-none');
                renderRunes();
            } else {
                runeModal.classList.add('opacity-0', 'pointer-events-none');
            }
        }

        function toggleTipsModal() {
            if (tipsModal.classList.contains('opacity-0')) {
                tipsModal.classList.remove('opacity-0', 'pointer-events-none');
                renderTips();
            } else {
                tipsModal.classList.add('opacity-0', 'pointer-events-none');
            }
        }
        
        function toggleGearModal() {
            if (gearModal.classList.contains('opacity-0')) {
                gearModal.classList.remove('opacity-0', 'pointer-events-none');
                renderTopGear();
            } else {
                gearModal.classList.add('opacity-0', 'pointer-events-none');
            }
        }

        function toggleBaseModal() {
            if (baseModal.classList.contains('opacity-0')) {
                baseModal.classList.remove('opacity-0', 'pointer-events-none');
                renderUsefulBases();
            } else {
                baseModal.classList.add('opacity-0', 'pointer-events-none');
            }
        }

        function toggleMfBossModal() {
            if (mfBossModal.classList.contains('opacity-0')) {
                mfBossModal.classList.remove('opacity-0', 'pointer-events-none');
                renderMfBossList();
            } else {
                mfBossModal.classList.add('opacity-0', 'pointer-events-none');
            }
        }

        function toggleAIModal() {
            if (aiModal.classList.contains('opacity-0')) {
                aiModal.classList.remove('opacity-0', 'pointer-events-none');
            } else {
                aiModal.classList.add('opacity-0', 'pointer-events-none');
            }
        }
        
        function toggleBpModal() {
            if (bpModal.classList.contains('opacity-0')) {
                bpModal.classList.remove('opacity-0', 'pointer-events-none');
                bpTypeSelect.value = 'fcr';
                renderBreakpoints();
            } else {
                bpModal.classList.add('opacity-0', 'pointer-events-none');
            }
        }
        
        function toggleMercModal() {
            if (mercModal.classList.contains('opacity-0')) {
                mercModal.classList.remove('opacity-0', 'pointer-events-none');
                renderMercenaries();
            } else {
                mercModal.classList.add('opacity-0', 'pointer-events-none');
            }
        }
        
        function toggleCraftingModal() {
            if (craftingModal.classList.contains('opacity-0')) {
                craftingModal.classList.remove('opacity-0', 'pointer-events-none');
                renderCrafting();
            } else {
                craftingModal.classList.add('opacity-0', 'pointer-events-none');
            }
        }

        runeSearch.addEventListener('input', renderRunes);
        runeTypeFilter.addEventListener('change', renderRunes);
        runeSocketFilter.addEventListener('change', renderRunes);
        if (runeTagFilter) runeTagFilter.addEventListener('change', renderRunes);
        gearSearch.addEventListener('input', renderTopGear);
        gearTypeFilter.addEventListener('change', renderTopGear);
        gearTagFilter.addEventListener('change', renderTopGear);
        if (baseTagFilter) baseTagFilter.addEventListener('change', renderUsefulBases);

        // Initialize tag chips and wiring after DOM ready
        document.addEventListener('DOMContentLoaded', () => {
            try {
            // Attempt to load external tag config and i18n dictionaries
            (async () => {
                if (location && location.protocol === 'file:') {
                    try {
                        populateSelect('gearTagFilter', gearTagOptions);
                        populateSelect('runeTagFilter', runeTagOptions);
                        populateSelect('baseTagFilter', baseTagOptions);
                        renderTagChips('gearTagChips', gearTagOptions, selectedGearTags, ()=>{ renderTopGear(); saveGearTagsState(); }, gearTagSearch);
                        renderTagChips('runeTagChips', runeTagOptions, selectedRuneTags, ()=>{ renderRunes(); saveRuneTagsState(); }, runeTagSearch);
                        renderTagChips('baseTagChips', baseTagOptions, selectedBaseTags, ()=>{ renderUsefulBases(); saveBaseTagsState(); }, baseTagSearch);
                        renderActiveChips('gearActiveChips', selectedGearTags, ()=>{ renderTopGear(); saveGearTagsState(); renderActiveChips('gearActiveChips', selectedGearTags, ()=>{ renderTopGear(); saveGearTagsState(); }); });
                        renderActiveChips('runeActiveChips', selectedRuneTags, ()=>{ renderRunes(); saveRuneTagsState(); renderActiveChips('runeActiveChips', selectedRuneTags, ()=>{ renderRunes(); saveRuneTagsState(); }); });
                        renderActiveChips('baseActiveChips', selectedBaseTags, ()=>{ renderUsefulBases(); saveBaseTagsState(); renderActiveChips('baseActiveChips', selectedBaseTags, ()=>{ renderUsefulBases(); saveBaseTagsState(); }); });
                        applyStaticI18n();
                        renderNav();
                        renderTopGear();
                        renderRunes();
                        renderUsefulBases();
                        try { renderBreakpoints(); } catch {}
                        try { renderRadarChart(); } catch {}
                    } catch (e) { console.warn('file:// init fallback error', e); }
                    return;
                }
                try {
                    const mod = await import('./js/tags.js');
                    if (mod.tagLabelsZh) tagLabelsZh = mod.tagLabelsZh;
                    if (mod.tagLabelsEn) tagLabelsEn = mod.tagLabelsEn;
                    if (mod.gearTagOptions) gearTagOptions = mod.gearTagOptions;
                    if (mod.runeTagOptions) runeTagOptions = mod.runeTagOptions;
                    if (mod.baseTagOptions) baseTagOptions = mod.baseTagOptions;
                    if (mod.runewordTagsMap) runewordTagsMap = mod.runewordTagsMap;
                } catch (e) {
                    console.warn('tags module load failed, using defaults', e);
                }
                try {
                    const i18n = await import('./js/i18n.js');
                    if (i18n.uiZh) uiZh = i18n.uiZh;
                    if (i18n.uiEn) uiEn = i18n.uiEn;
                    if (i18n.classLabelsZh) classLabelsZh = i18n.classLabelsZh;
                    if (i18n.classLabelsEn) classLabelsEn = i18n.classLabelsEn;
                } catch (e) {
                    console.warn('i18n module load failed, using defaults', e);
                }
                // After loading modules, rebuild selects/chips with labels
                try {
                    populateSelect('gearTagFilter', gearTagOptions);
                    populateSelect('runeTagFilter', runeTagOptions);
                    populateSelect('baseTagFilter', baseTagOptions);
                    renderTagChips('gearTagChips', gearTagOptions, selectedGearTags, ()=>{ renderTopGear(); saveGearTagsState(); }, gearTagSearch);
                    renderTagChips('runeTagChips', runeTagOptions, selectedRuneTags, ()=>{ renderRunes(); saveRuneTagsState(); }, runeTagSearch);
                    renderTagChips('baseTagChips', baseTagOptions, selectedBaseTags, ()=>{ renderUsefulBases(); saveBaseTagsState(); }, baseTagSearch);
                    renderActiveChips('gearActiveChips', selectedGearTags, ()=>{ renderTopGear(); saveGearTagsState(); renderActiveChips('gearActiveChips', selectedGearTags, ()=>{ renderTopGear(); saveGearTagsState(); }); });
                    renderActiveChips('runeActiveChips', selectedRuneTags, ()=>{ renderRunes(); saveRuneTagsState(); renderActiveChips('runeActiveChips', selectedRuneTags, ()=>{ renderRunes(); saveRuneTagsState(); }); });
                    renderActiveChips('baseActiveChips', selectedBaseTags, ()=>{ renderUsefulBases(); saveBaseTagsState(); renderActiveChips('baseActiveChips', selectedBaseTags, ()=>{ renderUsefulBases(); saveBaseTagsState(); }); });
                    applyStaticI18n();
                    // Refresh class-labelled UI elements
                    try {
                        renderNav();
                        if (typeof currentClass === 'string') {
                          const active = document.querySelector(`.nav-item[data-class-id="${currentClass}"]`);
                          if (active) active.classList.add('active');
                        }
                        const aiSel = document.getElementById('aiClassSelect');
                        if (aiSel) { [...aiSel.options].forEach(o=>o.textContent = classLabelFor(o.value, o.textContent)); }
                        const bpSel = document.getElementById('bpClassSelect');
                        if (bpSel) { [...bpSel.options].forEach(o=>o.textContent = classLabelFor(o.value, o.textContent)); }
                    } catch(e) { console.warn('class UI refresh error', e); }
                    // Rerender lists so tag badges update labels
                    renderTopGear();
                    renderRunes();
                    renderUsefulBases();
                    try { renderRadarChart(); } catch {}
                } catch (e) { console.warn('post-import ui rebuild error', e); }
            })();

            // Language switcher (fixed small control)
            const langHost = document.createElement('div');
            langHost.className = 'fixed top-2 right-2 z-50';
            langHost.innerHTML = `
                <label class="bg-stone-800/80 backdrop-blur px-2 py-1 rounded border border-stone-600 text-stone-200 text-xs flex items-center gap-1">
                    <span id="i18n_lang_label">Lang</span>
                    <select id="langSelect" class="bg-stone-900 text-stone-200 text-xs rounded px-1 py-0.5 border border-stone-600">
                        <option value="zh">ä¸­æ–‡</option>
                        <option value="en">English</option>
                    </select>
                </label>`;
            document.body.appendChild(langHost);
            const langSelect = document.getElementById('langSelect');
            if (langSelect) {
                langSelect.value = uiLang;
                langSelect.addEventListener('change', (e)=>{
                    uiLang = e.target.value;
                    try { localStorage.setItem('uiLang', uiLang); } catch {}
                    // Rebuild selects and chips with new labels
                    populateSelect('gearTagFilter', gearTagOptions);
                    populateSelect('runeTagFilter', runeTagOptions);
                    populateSelect('baseTagFilter', baseTagOptions);
                    renderTagChips('gearTagChips', gearTagOptions, selectedGearTags, ()=>{ renderTopGear(); saveGearTagsState(); }, gearTagSearch);
                    renderTagChips('runeTagChips', runeTagOptions, selectedRuneTags, ()=>{ renderRunes(); saveRuneTagsState(); }, runeTagSearch);
                    renderTagChips('baseTagChips', baseTagOptions, selectedBaseTags, ()=>{ renderUsefulBases(); saveBaseTagsState(); }, baseTagSearch);
                    renderActiveChips('gearActiveChips', selectedGearTags, ()=>{ renderTopGear(); saveGearTagsState(); renderActiveChips('gearActiveChips', selectedGearTags, ()=>{ renderTopGear(); saveGearTagsState(); }); });
                    renderActiveChips('runeActiveChips', selectedRuneTags, ()=>{ renderRunes(); saveRuneTagsState(); renderActiveChips('runeActiveChips', selectedRuneTags, ()=>{ renderRunes(); saveRuneTagsState(); }); });
                    renderActiveChips('baseActiveChips', selectedBaseTags, ()=>{ renderUsefulBases(); saveBaseTagsState(); renderActiveChips('baseActiveChips', selectedBaseTags, ()=>{ renderUsefulBases(); saveBaseTagsState(); }); });
                    // Apply static UI translations
                    applyStaticI18n();
                    // Refresh class-labelled UI
                    try {
                        renderNav();
                        if (typeof currentClass === 'string') {
                          const active = document.querySelector(`.nav-item[data-class-id="${currentClass}"]`);
                          if (active) active.classList.add('active');
                        }
                        const aiSel = document.getElementById('aiClassSelect');
                        if (aiSel) { [...aiSel.options].forEach(o=>o.textContent = classLabelFor(o.value, o.textContent)); }
                        const bpSel = document.getElementById('bpClassSelect');
                        if (bpSel) { [...bpSel.options].forEach(o=>o.textContent = classLabelFor(o.value, o.textContent)); }
                    } catch(e) { console.warn('class UI refresh error', e); }
                    // Rerender lists so tag badges and tooltips update labels
                    renderTopGear();
                    renderRunes();
                    renderUsefulBases();
                    try { renderBreakpoints(); } catch {}
                    try { renderRadarChart(); } catch {}
                });
            }
            } catch (e) { console.warn('lang/init error', e); }
            // Load persisted state
            loadGearTagsState();
            loadRuneTagsState();
            loadBaseTagsState();

            // Populate tag selects from config
            function populateSelect(id, opts){
                const sel = document.getElementById(id);
                if (!sel) return;
                const current = sel.value || 'all';
                const allLabel = uiDict().tags_all;
                sel.innerHTML = `<option value="all">${allLabel}</option>` + opts.map(k=>`<option value="${k}">${tagLabel(k)}</option>`).join('');
                sel.value = current;
            }
            try {
                populateSelect('gearTagFilter', gearTagOptions);
                populateSelect('runeTagFilter', runeTagOptions);
                populateSelect('baseTagFilter', baseTagOptions);
            } catch (e) { console.warn('populate selects error', e); }

            // Static UI translations for headings/buttons/labels
            function applyStaticI18n(){
                const ui = uiDict();
                const langLbl = document.getElementById('i18n_lang_label'); if (langLbl) langLbl.textContent = ui.lang_label;
                // Titles
                const rtitle = document.getElementById('i18n_runewords_title'); if (rtitle) rtitle.textContent = ui.titles.runewords;
                const gtitle = document.getElementById('i18n_gear_title'); if (gtitle) gtitle.textContent = ui.titles.gear;
                const btitle = document.getElementById('i18n_bases_title'); if (btitle) btitle.textContent = ui.titles.bases;
                const ttitle = document.getElementById('i18n_tips_title'); if (ttitle) ttitle.textContent = 'ğŸ’¡ ' + ui.titles.tips;
                const mtitle = document.getElementById('i18n_mf_title'); if (mtitle) mtitle.textContent = 'ğŸ¯ ' + ui.titles.mf;
                const atitle = document.getElementById('i18n_ai_title'); if (atitle) atitle.textContent = 'âœ¨ ' + ui.titles.ai;
                const bptitle = document.getElementById('i18n_bp_title'); if (bptitle) bptitle.textContent = 'âš¡ ' + ui.titles.bp;
                const mectitle = document.getElementById('i18n_merc_title'); if (mectitle) mectitle.textContent = 'ğŸ§‘â€ğŸ¤â€ğŸ§‘ ' + ui.titles.merc;
                const cftitle = document.getElementById('i18n_crafting_title'); if (cftitle) cftitle.textContent = 'ğŸ”¨ ' + ui.titles.crafting;
                // Modal labels
                const bpIntro = document.getElementById('i18n_bp_intro'); if (bpIntro) bpIntro.textContent = ui.bp_intro;
                const bpSelClass = document.getElementById('i18n_bp_select_class'); if (bpSelClass) bpSelClass.textContent = ui.label_select_class;
                const bpSelType = document.getElementById('i18n_bp_select_type'); if (bpSelType) bpSelType.textContent = ui.label_select_bp_type;
                const aiSelLbl = document.getElementById('i18n_ai_select_label'); if (aiSelLbl) aiSelLbl.textContent = ui.ai_select_label;
                const aiInLbl = document.getElementById('i18n_ai_input_label'); if (aiInLbl) aiInLbl.textContent = ui.ai_input_label;
                const aiInput = document.getElementById('aiQueryInput'); if (aiInput) aiInput.placeholder = ui.ai_input_placeholder;
                const aiSubmit = document.getElementById('i18n_ai_submit'); if (aiSubmit) aiSubmit.textContent = ui.ai_submit;
                // Buttons/inputs
                const matchOr = ui.match_mode_or;
                const matchAnd = ui.match_mode_and;
                const setModeText = (btnId, mode) => { const el=document.getElementById(btnId); if (el) el.textContent = (mode==='AND'?matchAnd:matchOr); };
                setModeText('gearTagModeBtn', gearTagMode);
                setModeText('runeTagModeBtn', runeTagMode);
                setModeText('baseTagModeBtn', baseTagMode);
                const ph = ui.tag_search_placeholder;
                const rs = document.getElementById('runeTagSearch'); if (rs) rs.placeholder = ph;
                const gs = document.getElementById('gearTagSearch'); if (gs) gs.placeholder = ph;
                const bs = document.getElementById('baseTagSearch'); if (bs) bs.placeholder = ph;
                const resetTxt = ui.reset_all;
                const clearTxt = ui.clear_tags;
                const ids = ['runeResetBtn','gearResetBtn','baseResetBtn']; ids.forEach(id=>{ const el=document.getElementById(id); if (el) el.textContent=resetTxt; });
                const cids = ['runeClearChipsBtn','gearClearChipsBtn','baseClearChipsBtn']; cids.forEach(id=>{ const el=document.getElementById(id); if (el) el.textContent=clearTxt; });
                // Footer buttons
                const btnMap = [
                  ['i18n_btn_runewords', ui.titles.runewords],
                  ['i18n_btn_tips', ui.titles.tips],
                  ['i18n_btn_gear', ui.titles.gear],
                  ['i18n_btn_bases', ui.titles.bases],
                  ['i18n_btn_mf', ui.titles.mf],
                  ['i18n_btn_bp', ui.titles.bp],
                  ['i18n_btn_merc', ui.titles.merc],
                  ['i18n_btn_crafting', ui.titles.crafting],
                  ['i18n_btn_ai', ui.titles.ai]
                ];
                btnMap.forEach(([id, text])=>{ const el=document.getElementById(id); if (el) el.textContent = text; });
                // BP type select options
                try { const bpSel = document.getElementById('bpTypeSelect'); if (bpSel && ui.bp_types) { [...bpSel.options].forEach(o=>{ if (ui.bp_types[o.value]) o.textContent = ui.bp_types[o.value]; }); } } catch {}
                // Recreate radar chart on language change
                if (chartInstance && typeof chartInstance.destroy === 'function') { try { chartInstance.destroy(); } catch {} }
                chartInstance = null;
                try { renderRadarChart(); } catch {}
            }

            // Initial chips render
            try {
                renderTagChips('gearTagChips', gearTagOptions, selectedGearTags, ()=>{ renderTopGear(); saveGearTagsState(); }, gearTagSearch);
                renderTagChips('runeTagChips', runeTagOptions, selectedRuneTags, ()=>{ renderRunes(); saveRuneTagsState(); }, runeTagSearch);
                renderTagChips('baseTagChips', baseTagOptions, selectedBaseTags, ()=>{ renderUsefulBases(); saveBaseTagsState(); }, baseTagSearch);
                renderActiveChips('gearActiveChips', selectedGearTags, ()=>{ renderTopGear(); saveGearTagsState(); renderActiveChips('gearActiveChips', selectedGearTags, ()=>{ renderTopGear(); saveGearTagsState(); }); });
                renderActiveChips('runeActiveChips', selectedRuneTags, ()=>{ renderRunes(); saveRuneTagsState(); renderActiveChips('runeActiveChips', selectedRuneTags, ()=>{ renderRunes(); saveRuneTagsState(); }); });
                renderActiveChips('baseActiveChips', selectedBaseTags, ()=>{ renderUsefulBases(); saveBaseTagsState(); renderActiveChips('baseActiveChips', selectedBaseTags, ()=>{ renderUsefulBases(); saveBaseTagsState(); }); });
                applyStaticI18n();
            } catch (e) { console.warn('chips render error', e); }

            // Toggle buttons
            const gearModeBtn = document.getElementById('gearTagModeBtn');
            try {
            if (gearModeBtn) {
                const modeText = () => (gearTagMode==='AND' ? uiDict().match_mode_and : uiDict().match_mode_or);
                gearModeBtn.textContent = modeText();
                gearModeBtn.onclick = () => { gearTagMode = (gearTagMode === 'OR' ? 'AND' : 'OR'); gearModeBtn.textContent = modeText(); renderTopGear(); saveGearTagsState(); renderActiveChips('gearActiveChips', selectedGearTags, ()=>{ renderTopGear(); saveGearTagsState(); }); };
            }
            const runeModeBtn = document.getElementById('runeTagModeBtn');
            if (runeModeBtn) {
                const modeText = () => (runeTagMode==='AND' ? uiDict().match_mode_and : uiDict().match_mode_or);
                runeModeBtn.textContent = modeText();
                runeModeBtn.onclick = () => { runeTagMode = (runeTagMode === 'OR' ? 'AND' : 'OR'); runeModeBtn.textContent = modeText(); renderRunes(); saveRuneTagsState(); renderActiveChips('runeActiveChips', selectedRuneTags, ()=>{ renderRunes(); saveRuneTagsState(); }); };
            }
            const baseModeBtn = document.getElementById('baseTagModeBtn');
            if (baseModeBtn) {
                const modeText = () => (baseTagMode==='AND' ? uiDict().match_mode_and : uiDict().match_mode_or);
                baseModeBtn.textContent = modeText();
                baseModeBtn.onclick = () => { baseTagMode = (baseTagMode === 'OR' ? 'AND' : 'OR'); baseModeBtn.textContent = modeText(); renderUsefulBases(); saveBaseTagsState(); renderActiveChips('baseActiveChips', selectedBaseTags, ()=>{ renderUsefulBases(); saveBaseTagsState(); }); };
            }
            } catch (e) { console.warn('mode btn error', e); }

            // Tag search inputs
            const gearSearchInput = document.getElementById('gearTagSearch');
            try {
            if (gearSearchInput) {
                gearSearchInput.value = gearTagSearch;
                gearSearchInput.addEventListener('input', (e) => {
                    gearTagSearch = e.target.value || '';
                    renderTagChips('gearTagChips', gearTagOptions, selectedGearTags, ()=>{ renderTopGear(); saveGearTagsState(); }, gearTagSearch);
                    renderActiveChips('gearActiveChips', selectedGearTags, ()=>{ renderTopGear(); saveGearTagsState(); });
                    saveGearTagsState();
                });
            }
            const runeSearchInput = document.getElementById('runeTagSearch');
            if (runeSearchInput) {
                runeSearchInput.value = runeTagSearch;
                runeSearchInput.addEventListener('input', (e) => {
                    runeTagSearch = e.target.value || '';
                    renderTagChips('runeTagChips', runeTagOptions, selectedRuneTags, ()=>{ renderRunes(); saveRuneTagsState(); }, runeTagSearch);
                    renderActiveChips('runeActiveChips', selectedRuneTags, ()=>{ renderRunes(); saveRuneTagsState(); });
                    saveRuneTagsState();
                });
            }
            const baseSearchInput = document.getElementById('baseTagSearch');
            if (baseSearchInput) {
                baseSearchInput.value = baseTagSearch;
                baseSearchInput.addEventListener('input', (e) => {
                    baseTagSearch = e.target.value || '';
                    renderTagChips('baseTagChips', baseTagOptions, selectedBaseTags, ()=>{ renderUsefulBases(); saveBaseTagsState(); }, baseTagSearch);
                    renderActiveChips('baseActiveChips', selectedBaseTags, ()=>{ renderUsefulBases(); saveBaseTagsState(); });
                    saveBaseTagsState();
                });
            }
            } catch (e) { console.warn('search wire error', e); }

            // Reset buttons
            try {
            const gearResetBtn = document.getElementById('gearResetBtn');
            if (gearResetBtn) {
                gearResetBtn.onclick = () => {
                    // dropdowns
                    gearTypeFilter.value = 'all';
                    gearTagFilter.value = 'all';
                    // search inputs
                    gearSearch.value = '';
                    gearTagSearch = '';
                    const gearSearchInput2 = document.getElementById('gearTagSearch');
                    if (gearSearchInput2) gearSearchInput2.value = '';
                    // tags + mode
                    selectedGearTags.clear();
                    gearTagMode = 'OR';
                    const btn = document.getElementById('gearTagModeBtn');
                    if (btn) btn.textContent = `åŒ¹é…é€»è¾‘: ${gearTagMode}`;
                    renderTagChips('gearTagChips', gearTagOptions, selectedGearTags, ()=>{ renderTopGear(); saveGearTagsState(); });
                    renderTopGear();
                    saveGearTagsState();
                };
            }

            const runeResetBtn = document.getElementById('runeResetBtn');
            if (runeResetBtn) {
                runeResetBtn.onclick = () => {
                    runeTypeFilter.value = 'all';
                    runeSocketFilter.value = 'all';
                    if (runeTagFilter) runeTagFilter.value = 'all';
                    runeSearch.value = '';
                    runeTagSearch = '';
                    const runeSearchInput2 = document.getElementById('runeTagSearch');
                    if (runeSearchInput2) runeSearchInput2.value = '';
                    selectedRuneTags.clear();
                    runeTagMode = 'OR';
                    const btn = document.getElementById('runeTagModeBtn');
                    if (btn) btn.textContent = `åŒ¹é…é€»è¾‘: ${runeTagMode}`;
                    renderTagChips('runeTagChips', runeTagOptions, selectedRuneTags, ()=>{ renderRunes(); saveRuneTagsState(); });
                    renderRunes();
                    saveRuneTagsState();
                };
            }

            const baseResetBtn = document.getElementById('baseResetBtn');
            if (baseResetBtn) {
                baseResetBtn.onclick = () => {
                    if (baseTagFilter) baseTagFilter.value = 'all';
                    baseTagSearch = '';
                    const baseSearchInput2 = document.getElementById('baseTagSearch');
                    if (baseSearchInput2) baseSearchInput2.value = '';
                    selectedBaseTags.clear();
                    baseTagMode = 'OR';
                    const btn = document.getElementById('baseTagModeBtn');
                    if (btn) btn.textContent = `åŒ¹é…é€»è¾‘: ${baseTagMode}`;
                    renderTagChips('baseTagChips', baseTagOptions, selectedBaseTags, ()=>{ renderUsefulBases(); saveBaseTagsState(); });
                    renderUsefulBases();
                    saveBaseTagsState();
                };
            }

            // Clear chips only buttons
            const gearClearBtn = document.getElementById('gearClearChipsBtn');
            if (gearClearBtn) {
                gearClearBtn.onclick = () => {
                    selectedGearTags.clear();
                    renderTagChips('gearTagChips', gearTagOptions, selectedGearTags, ()=>{ renderTopGear(); saveGearTagsState(); }, gearTagSearch);
                    renderActiveChips('gearActiveChips', selectedGearTags, ()=>{ renderTopGear(); saveGearTagsState(); });
                    renderTopGear();
                    saveGearTagsState();
                };
            }
            const runeClearBtn = document.getElementById('runeClearChipsBtn');
            if (runeClearBtn) {
                runeClearBtn.onclick = () => {
                    selectedRuneTags.clear();
                    renderTagChips('runeTagChips', runeTagOptions, selectedRuneTags, ()=>{ renderRunes(); saveRuneTagsState(); }, runeTagSearch);
                    renderActiveChips('runeActiveChips', selectedRuneTags, ()=>{ renderRunes(); saveRuneTagsState(); });
                    renderRunes();
                    saveRuneTagsState();
                };
            }
            const baseClearBtn = document.getElementById('baseClearChipsBtn');
            if (baseClearBtn) {
                baseClearBtn.onclick = () => {
                    selectedBaseTags.clear();
                    renderTagChips('baseTagChips', baseTagOptions, selectedBaseTags, ()=>{ renderUsefulBases(); saveBaseTagsState(); }, baseTagSearch);
                    renderActiveChips('baseActiveChips', selectedBaseTags, ()=>{ renderUsefulBases(); saveBaseTagsState(); });
                    renderUsefulBases();
                    saveBaseTagsState();
                };
            }
            } catch (e) { console.warn('reset/clear wire error', e); }
        });
        
        function renderContent(classId) {
            const data = classData[classId];
            if (!data) return;

            let contentHtml = `
                <div class="content-section active" id="content-${classId}">
                    <h2 class="text-3xl font-bold text-amber-400 mb-2">${data.title}</h2>
                    <p class="text-stone-300 mb-8 max-w-4xl">${data.intro}</p>
                    ${data.content || ''}
            `;

            if(data.sections) {
                data.sections.forEach(section => {
                    contentHtml += `
                        <div class="mb-8">
                            <h3 class="text-2xl font-semibold text-amber-500 mb-4 pb-2 border-b-2 border-stone-600">${section.title}</h3>
                            <div>${section.content}</div>
                        </div>
                    `;
                });
            }

            contentHtml += `</div>`;
            mainContent.innerHTML = contentHtml;

            if (classId === 'home') { renderRadarChart(); }
        }
        
        function navigate(classId) {
            if (currentClass === classId && classId !== 'home') return;
            currentClass = classId;
            
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
                if (item.dataset.classId === classId) {
                    item.classList.add('active');
                }
            });

            renderContent(classId);
            window.scrollTo(0, 0);
        }

        function renderNav() {
            let navHtml = '';
            db.classes.forEach(cls => {
                navHtml += `
                    <button class="nav-item flex flex-col items-center p-2 rounded-lg border border-transparent" data-class-id="${cls.id}" onclick="navigate('${cls.id}')">
                        <span class="text-3xl mb-1">${cls.icon}</span>
                        <span class="font-semibold text-sm text-stone-300">${classLabelFor(cls.id, cls.name)}</span>
                    </button>
                `;
            });
            classNav.innerHTML = navHtml;
        }

        function renderRadarChart() {
            // Defer init to next frame to avoid race with layout
            requestAnimationFrame(() => {
                const oldCanvas = document.getElementById('classComparisonChart');
                if (!oldCanvas) return;
                // Do not call destroy to avoid clear errors; replace canvas instead
                chartInstance = null;
                const parent = oldCanvas.parentNode;
                let canvas = oldCanvas;
                if (parent) {
                    const fresh = document.createElement('canvas');
                    fresh.id = 'classComparisonChart';
                    try { parent.replaceChild(fresh, oldCanvas); canvas = fresh; } catch {}
                }
                const ui = uiDict();
                const labels = [ui.radar.clear, ui.radar.single, ui.radar.survivability, ui.radar.support, ui.radar.mobility, ui.radar.leveling, ui.radar.bossing];
                const ds = [
                  { id: 'necromancer', color: {bg:'rgba(130, 130, 130, 0.2)', border:'rgb(200, 200, 200)'}, data: [9, 6, 9, 9, 3, 9, 7] },
                  { id: 'paladin',    color: {bg:'rgba(54, 162, 235, 0.2)',  border:'rgb(54, 162, 235)'},  data: [10, 9, 8, 9, 4, 8, 10] },
                  { id: 'sorceress',  color: {bg:'rgba(255, 99, 132, 0.2)',  border:'rgb(255, 99, 132)'},  data: [10, 7, 5, 5, 10, 9, 8] },
                  { id: 'amazon',     color: {bg:'rgba(255, 205, 86, 0.2)', border:'rgb(255, 205, 86)'}, data: [9, 9, 6, 2, 6, 4, 9] },
                  { id: 'assassin',   color: {bg:'rgba(75, 192, 192, 0.2)', border:'rgb(75, 192, 192)'}, data: [8, 7, 7, 4, 7, 7, 9] },
                  { id: 'barbarian',  color: {bg:'rgba(255, 159, 64, 0.2)', border:'rgb(255, 159, 64)'}, data: [6, 8, 8, 8, 5, 2, 6] },
                  { id: 'druid',      color: {bg:'rgba(153, 102, 255, 0.2)', border:'rgb(153, 102, 255)'}, data: [7, 6, 10, 8, 4, 6, 8] }
                ];
                if (typeof Chart === 'undefined') { console.warn('Chart.js not available'); return; }
                try {
                    chartInstance = new Chart(canvas, {
                        type: 'radar',
                        data: { labels, datasets: ds.map(x => ({ label: classLabelFor(x.id, x.id), data: x.data, fill: true, backgroundColor: x.color.bg, borderColor: x.color.border, pointBackgroundColor: x.color.border })) },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            elements: { line: { tension: 0.1 } },
                            plugins: {
                                title: { display: true, text: ui.radar_title, color: '#facc15', font: { size: 18 } },
                                legend: { position: 'bottom', labels: { color: '#d6d3d1' } }
                            },
                            scales: {
                                r: {
                                    angleLines: { color: 'rgba(168, 162, 158, 0.3)' },
                                    grid: { color: 'rgba(168, 162, 158, 0.3)' },
                                    pointLabels: { color: '#facc15', font: { size: 14 } },
                                    ticks: { backdropColor: '#1a1a1a', color: '#d6d3d1', stepSize: 2 },
                                    min: 0,
                                    max: 10
                                }
                            }
                        }
                    });
                } catch (e) {
                    console.warn('chart init error', e);
                }
            });
        }
        
        // Expose functions for inline event handlers in HTML
        Object.assign(window, {
            navigate,
            toggleRuneModal,
            toggleTipsModal,
            toggleGearModal,
            toggleBaseModal,
            toggleMfBossModal,
            toggleAIModal,
            toggleBpModal,
            toggleMercModal,
            toggleCraftingModal,
            getAIAdvice
        });

    document.addEventListener('DOMContentLoaded', () => {
            // Suppress benign Chart clear errors from certain environments
            try {
                window.addEventListener('error', (e) => {
                    if (e && e.message && /reading 'clear'/.test(e.message)) {
                        e.preventDefault();
                        return false;
                    }
                }, true);
            } catch {}
            renderNav();
            populateAIClassSelect();
            populateBpSelectors();
            navigate('home');
        });

    </script>

</body>
</html>
